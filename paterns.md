# –û–≥–ª—è–¥ –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è


## –ö–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø–∞—Ç–µ—Ä–Ω—ñ–≤
* * *

–Ü—Å–Ω—É—é—Ç—å —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –ø–∞—Ç–µ—Ä–Ω—ñ–≤ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è. –ö–æ–∂–Ω–∞ –∑ –Ω–∏—Ö —Ñ–æ–∫—É—Å—É—î—Ç—å—Å—è –Ω–∞ –≤–∏—Ä—ñ—à–µ–Ω–Ω—ñ –ø–µ–≤–Ω–æ–≥–æ —Ç–∏–ø—É –ø—Ä–æ–±–ª–µ–º —É —Ä–æ–∑—Ä–æ–±—Ü—ñ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è. –î–∞–≤–∞–π—Ç–µ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ —ó—Ö –¥–æ–∫–ª–∞–¥–Ω—ñ—à–µ.

### –ü–æ—Ä–æ–¥–∂—É–≤–∞–ª—å–Ω—ñ –ø–∞—Ç–µ—Ä–Ω–∏ (Creational Patterns)

–¶—ñ –ø–∞—Ç–µ—Ä–Ω–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—é—Ç—å –∑–∞ –≥–Ω—É—á–∫–µ —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–µ **—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤**. –í–æ–Ω–∏ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –∞–±—Å—Ç—Ä–∞–≥—É–≤–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å —ñ–Ω—Å—Ç–∞–Ω—Ü—ñ—é–≤–∞–Ω–Ω—è –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–≥–æ –∫–æ–¥—É, —â–æ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –º–µ–Ω—à –∑–∞–ª–µ–∂–Ω–æ—é –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤. –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ –±—ñ–ª—å—à –≥–Ω—É—á–∫–æ, –Ω–µ –ø—Ä–∏–≤'—è–∑—É—é—á–∏—Å—å –¥–æ –∂–æ—Ä—Å—Ç–∫–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ–≤.

- **Singleton:** –ì–∞—Ä–∞–Ω—Ç—É—î, —â–æ –∫–ª–∞—Å –º–∞—î –ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä, —ñ –Ω–∞–¥–∞—î –¥–æ –Ω—å–æ–≥–æ –≥–ª–æ–±–∞–ª—å–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É.
- **Factory Method:** –í–∏–∑–Ω–∞—á–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞, –∞–ª–µ –¥–æ–∑–≤–æ–ª—è—î –ø—ñ–¥–∫–ª–∞—Å–∞–º –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏, —è–∫–∏–π –∫–ª–∞—Å —ñ–Ω—Å—Ç–∞–Ω—Ü—ñ—é–≤–∞—Ç–∏.
- **Abstract Factory:** –ù–∞–¥–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—ñ–º–µ–π—Å—Ç–≤ –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∞–±–æ –∑–∞–ª–µ–∂–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤, –Ω–µ –≤–∫–∞–∑—É—é—á–∏ —ó—Ö–Ω—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫–ª–∞—Å–∏.
- **Builder:** –í—ñ–¥–¥—ñ–ª—è—î –∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –≤—ñ–¥ –π–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è, –¥–æ–∑–≤–æ–ª—è—é—á–∏ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –π —Ç–æ–≥–æ –∂ –ø—Ä–æ—Ü–µ—Å—É –∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞–Ω–Ω—è.
- **Prototype:** –°—Ç–≤–æ—Ä—é—î –Ω–æ–≤—ñ –æ–±'—î–∫—Ç–∏, –∫–æ–ø—ñ—é—é—á–∏ —ñ—Å–Ω—É—é—á–∏–π –µ–∫–∑–µ–º–ø–ª—è—Ä.

* * *

### –°—Ç—Ä—É–∫—Ç—É—Ä–Ω—ñ –ø–∞—Ç–µ—Ä–Ω–∏ (Structural Patterns)

–¶—ñ –ø–∞—Ç–µ—Ä–Ω–∏ –∑–∞–π–º–∞—é—Ç—å—Å—è **—Å–∫–ª–∞–¥–∞–Ω–Ω—è–º –∫–ª–∞—Å—ñ–≤ —Ç–∞ –æ–±'—î–∫—Ç—ñ–≤ —É –±—ñ–ª—å—à—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏**. –í–æ–Ω–∏ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å —Å–ø—Ä–æ—Å—Ç–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É –≥–Ω—É—á–∫—ñ—Å—Ç—å —ñ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å. –í–æ–Ω–∏ –ø–æ–∫–∞–∑—É—é—Ç—å, —è–∫ –æ–±'—î–∫—Ç–∏ –º–æ–∂—É—Ç—å –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏, —É—Ç–≤–æ—Ä—é—é—á–∏ –Ω–æ–≤—ñ, –±—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω—ñ –æ–±'—î–∫—Ç–∏.

- **Adapter:** –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–ª–∞—Å—É –Ω–∞ —ñ–Ω—à–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —è–∫–∏–π –æ—á—ñ–∫—É—î –∫–ª—ñ—î–Ω—Ç. –î–æ–∑–≤–æ–ª—è—î –∫–ª–∞—Å–∞–º –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —Ä–∞–∑–æ–º, —è–∫—ñ —ñ–Ω–∞–∫—à–µ –Ω–µ –º–æ–≥–ª–∏ –± —á–µ—Ä–µ–∑ –Ω–µ—Å—É–º—ñ—Å–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏.
- **Decorator:** –î–∏–Ω–∞–º—ñ—á–Ω–æ –¥–æ–¥–∞—î –Ω–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –æ–±'—î–∫—Ç—É, –æ–±–µ—Ä—Ç–∞—é—á–∏ –π–æ–≥–æ –≤ –æ–±'—î–∫—Ç-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä.
- **Composite:** –ö–æ–º–ø–æ–Ω—É—î –æ–±'—î–∫—Ç–∏ –≤ –¥–µ—Ä–µ–≤–æ–ø–æ–¥—ñ–±–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏, —â–æ–± –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–∏–º–∏ —è–∫ –∑ —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏, —Ç–∞–∫ —ñ –∑ —ó—Ö –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏.
- **Proxy:** –ù–∞–¥–∞—î –∑–∞–º—ñ–Ω–Ω–∏–∫ (–∑–∞—Å—Ç—É–ø–Ω–∏–∫) –¥–ª—è —ñ–Ω—à–æ–≥–æ –æ–±'—î–∫—Ç–∞, —â–æ–± –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –Ω—å–æ–≥–æ.
- **Facade:** –ù–∞–¥–∞—î —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π, —Å–ø—Ä–æ—â–µ–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ –Ω–∞–±–æ—Ä—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ —É –ø—ñ–¥—Å–∏—Å—Ç–µ–º—ñ.
- **Bridge:** –í—ñ–¥–¥—ñ–ª—è—î –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—é –≤—ñ–¥ —ó—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, —â–æ–± –æ–±–∏–¥–≤—ñ –º–æ–≥–ª–∏ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ.
- **Flyweight:** –ú—ñ–Ω—ñ–º—ñ–∑—É—î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–ø—ñ–ª—å–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤, —è–∫—ñ –º–∞—é—Ç—å —Å–ø—ñ–ª—å–Ω–∏–π —Å—Ç–∞–Ω.

* * *

### –ü–∞—Ç–µ—Ä–Ω–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ (Behavioral Patterns)

–¶—ñ –ø–∞—Ç–µ—Ä–Ω–∏ –∑–∞–π–º–∞—é—Ç—å—Å—è **–≤–∑–∞—î–º–æ–¥—ñ—î—é —Ç–∞ —Ä–æ–∑–ø–æ–¥—ñ–ª–æ–º –æ–±–æ–≤'—è–∑–∫—ñ–≤ –º—ñ–∂ –æ–±'—î–∫—Ç–∞–º–∏**. –í–æ–Ω–∏ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –æ–ø–∏—Å–∞—Ç–∏, —è–∫ –æ–±'—î–∫—Ç–∏ —Å–ø—ñ–ª–∫—É—é—Ç—å—Å—è –º—ñ–∂ —Å–æ–±–æ—é, —â–æ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –≥–Ω—É—á–∫–æ—é, —Ä–æ–∑—à–∏—Ä—é–≤–∞–Ω–æ—é —Ç–∞ –ª–µ–≥–∫–æ—é –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.

- **Observer:** –í–∏–∑–Ω–∞—á–∞—î –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å "–æ–¥–∏–Ω-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö", —Ç–∞–∫ —â–æ –∫–æ–ª–∏ –æ–¥–∏–Ω –æ–±'—î–∫—Ç –∑–º—ñ–Ω—é—î —Å–≤—ñ–π —Å—Ç–∞–Ω, –≤—Å—ñ –∑–∞–ª–µ–∂–Ω—ñ –≤—ñ–¥ –Ω—å–æ–≥–æ –æ–±'—î–∫—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–ø–æ–≤—ñ—â–∞—é—Ç—å—Å—è —ñ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è.
- **Strategy:** –í–∏–∑–Ω–∞—á–∞—î —Å—ñ–º–µ–π—Å—Ç–≤–æ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤, —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –∫–æ–∂–µ–Ω –∑ –Ω–∏—Ö —ñ —Ä–æ–±–∏—Ç—å —ó—Ö –≤–∑–∞—î–º–æ–∑–∞–º—ñ–Ω–Ω–∏–º–∏. –î–æ–∑–≤–æ–ª—è—î –∞–ª–≥–æ—Ä–∏—Ç–º—É –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç—ñ–≤, —è–∫—ñ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å.
- **Command:** –Ü–Ω–∫–∞–ø—Å—É–ª—é—î –∑–∞–ø–∏—Ç —è–∫ –æ–±'—î–∫—Ç, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–≤–∞—Ç–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤ —Ä—ñ–∑–Ω–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏, —Å—Ç–∞–≤–∏—Ç–∏ —ó—Ö —É —á–µ—Ä–≥—É –∞–±–æ –ª–æ–≥—É–≤–∞—Ç–∏, –∞ —Ç–∞–∫–æ–∂ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π.
- **State:** –î–æ–∑–≤–æ–ª—è—î –æ–±'—î–∫—Ç—É –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Å–≤–æ—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É, –∫–æ–ª–∏ –π–æ–≥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω –∑–º—ñ–Ω—é—î—Ç—å—Å—è. –ó–æ–≤–Ω—ñ –æ–±'—î–∫—Ç –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫, –Ω—ñ–±–∏ –≤—ñ–Ω –∑–º—ñ–Ω–∏–≤ —Å–≤—ñ–π –∫–ª–∞—Å.
- **Chain of Responsibility:** –î–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏ –ø–æ –ª–∞–Ω—Ü—é–∂–∫—É –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤.
- **Iterator:** –ù–∞–¥–∞—î —Å–ø–æ—Å—ñ–± –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∞–≥—Ä–µ–≥–æ–≤–∞–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞, –Ω–µ —Ä–æ–∑–∫—Ä–∏–≤–∞—é—á–∏ –π–æ–≥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—î –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è.
- **Template Method:** –í–∏–∑–Ω–∞—á–∞—î —Å–∫–µ–ª–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—É –≤ –±–∞–∑–æ–≤–æ–º—É –∫–ª–∞—Å—ñ, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –ø—ñ–¥–∫–ª–∞—Å–∞–º –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏ –¥–µ—è–∫—ñ –∫—Ä–æ–∫–∏ –±–µ–∑ –∑–º—ñ–Ω–∏ –∑–∞–≥–∞–ª—å–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—É.



–ü–∞—Ç–µ—Ä–Ω–∏ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è ‚Äî —Ü–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ –Ω–∞–±—ñ—Ä —Ä–µ—Ü–µ–ø—Ç—ñ–≤. –í–æ–Ω–∏ —î –ø—Ä–∞–∫—Ç–∏—á–Ω–∏–º –≤—Ç—ñ–ª–µ–Ω–Ω—è–º —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏—Ö **–ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –æ–±'—î–∫—Ç–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è (–û–û–ü)**. –ö–æ–∂–µ–Ω –ø–∞—Ç–µ—Ä–Ω –≤–∏—Ä—ñ—à—É—î —Ç–∏–ø–æ–≤—É –ø—Ä–æ–±–ª–µ–º—É, –¥–æ—Ç—Ä–∏–º—É—é—á–∏—Å—å —Ü–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤, —â–æ —Ä–æ–±–∏—Ç—å –∫–æ–¥ –≥–Ω—É—á–∫–∏–º, —Ä–æ–∑—à–∏—Ä—é–≤–∞–Ω–∏–º —ñ –ª–µ–≥–∫–∏–º –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.

–û–¥–∏–Ω –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö –Ω–∞–±–æ—Ä—ñ–≤ –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤, –Ω–∞ —è–∫–∏—Ö “ë—Ä—É–Ω—Ç—É—î—Ç—å—Å—è –±—ñ–ª—å—à—ñ—Å—Ç—å –ø–∞—Ç–µ—Ä–Ω—ñ–≤, ‚Äî —Ü–µ **–ø—Ä–∏–Ω—Ü–∏–ø–∏ SOLID**. –î–∞–≤–∞–π—Ç–µ –∫–æ—Ä–æ—Ç–∫–æ —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ —ó—Ö —ñ –ø–æ–±–∞—á–∏–º–æ, —è–∫ –≤–æ–Ω–∏ –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –ø–∞—Ç–µ—Ä–Ω–∞–º–∏.

* * *

## –ü—Ä–∏–Ω—Ü–∏–ø–∏ SOLID

- **S - Single Responsibility Principle (–ü—Ä–∏–Ω—Ü–∏–ø —î–¥–∏–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç—ñ):** –ö–æ–∂–µ–Ω –∫–ª–∞—Å –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –ª–∏—à–µ –æ–¥–Ω—É –ø—Ä–∏—á–∏–Ω—É –¥–ª—è –∑–º—ñ–Ω–∏. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –∫–ª–∞—Å –º–∞—î –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –ª–∏—à–µ –æ–¥–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è.
- **O - Open/Closed Principle (–ü—Ä–∏–Ω—Ü–∏–ø –≤—ñ–¥–∫—Ä–∏—Ç–æ—Å—Ç—ñ/–∑–∞–∫—Ä–∏—Ç–æ—Å—Ç—ñ):** –°—É—Ç–Ω–æ—Å—Ç—ñ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è (–∫–ª–∞—Å–∏, –º–æ–¥—É–ª—ñ, —Ñ—É–Ω–∫—Ü—ñ—ó) –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –≤—ñ–¥–∫—Ä–∏—Ç—ñ –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è, –∞–ª–µ –∑–∞–∫—Ä–∏—Ç—ñ –¥–ª—è –∑–º—ñ–Ω–∏. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –≤–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥.
- **L - Liskov Substitution Principle (–ü—Ä–∏–Ω—Ü–∏–ø –ø—ñ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –õ—ñ—Å–∫–æ–≤):** –û–±'—î–∫—Ç–∏ –≤ –ø—Ä–æ–≥—Ä–∞–º—ñ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ –∑–∞–º—ñ–Ω–µ–Ω—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏ —ó—Ö–Ω—ñ—Ö –ø—ñ–¥—Ç–∏–ø—ñ–≤ –±–µ–∑ –ø–æ—Ä—É—à–µ–Ω–Ω—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∏.
- **I - Interface Segregation Principle (–ü—Ä–∏–Ω—Ü–∏–ø —Ä–æ–∑–¥—ñ–ª–µ–Ω–Ω—è —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É):** –ë–∞–≥–∞—Ç–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö, —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ –∫—Ä–∞—â–µ, –Ω—ñ–∂ –æ–¥–∏–Ω –≤–µ–ª–∏–∫–∏–π, –∑–∞–≥–∞–ª—å–Ω–∏–π. –ö–ª—ñ—î–Ω—Ç –Ω–µ –ø–æ–≤–∏–Ω–µ–Ω –∑–∞–ª–µ–∂–∞—Ç–∏ –≤—ñ–¥ –º–µ—Ç–æ–¥—ñ–≤, —è–∫—ñ –≤—ñ–Ω –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î.
- **D - Dependency Inversion Principle (–ü—Ä–∏–Ω—Ü–∏–ø —ñ–Ω–≤–µ—Ä—Å—ñ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π):** –ú–æ–¥—É–ª—ñ –≤–∏—Å–æ–∫–æ–≥–æ —Ä—ñ–≤–Ω—è –Ω–µ –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–ª–µ–∂–∞—Ç–∏ –≤—ñ–¥ –º–æ–¥—É–ª—ñ–≤ –Ω–∏–∑—å–∫–æ–≥–æ —Ä—ñ–≤–Ω—è. –û–±–∏–¥–≤–∞ –ø–æ–≤–∏–Ω–Ω—ñ –∑–∞–ª–µ–∂–∞—Ç–∏ –≤—ñ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ–π.

* * *

### –Ø–∫ –ø–∞—Ç–µ—Ä–Ω–∏ –≤—Ç—ñ–ª—é—é—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø–∏ SOLID

–ü–∞—Ç–µ—Ä–Ω–∏ —î –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, —è–∫—ñ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ü—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏ –Ω–∞ –ø—Ä–∞–∫—Ç–∏—Ü—ñ:

- **–ü–∞—Ç–µ—Ä–Ω –°—Ç—Ä–∞—Ç–µ–≥—ñ—è (Strategy)** –¥–æ–∑–≤–æ–ª—è—î –∑–∞–º—ñ–Ω—é–≤–∞—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏. –¶–µ —ñ–¥–µ–∞–ª—å–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ **Open/Closed Principle (O)**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º (–Ω–æ–≤—É —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é), –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –∫–æ–¥, —è–∫–∏–π –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î. –í—ñ–Ω —Ç–∞–∫–æ–∂ –ø—ñ–¥—Ç—Ä–∏–º—É—î **Single Responsibility Principle (S)**, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–∂–µ–Ω –∫–ª–∞—Å-—Å—Ç—Ä–∞—Ç–µ–≥—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ª–∏—à–µ –∑–∞ –æ–¥–∏–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º.
- **–ü–∞—Ç–µ—Ä–Ω –î–µ–∫–æ—Ä–∞—Ç–æ—Ä (Decorator)** –¥–æ–∑–≤–æ–ª—è—î –¥–∏–Ω–∞–º—ñ—á–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –æ–±'—î–∫—Ç—É –Ω–æ–≤—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É, –æ–±–µ—Ä—Ç–∞—é—á–∏ –π–æ–≥–æ –≤ "–æ–±'—î–∫—Ç-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä". –¶–µ –ø—Ä—è–º–µ –≤—Ç—ñ–ª–µ–Ω–Ω—è **Open/Closed Principle (O)**, —Ç–æ–º—É —â–æ –≤–∏ —Ä–æ–∑—à–∏—Ä—é—î—Ç–µ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –±–µ–∑ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —ñ—Å–Ω—É—é—á–æ–≥–æ –∫–ª–∞—Å—É.
- **–ü–∞—Ç–µ—Ä–Ω–∏ –§–∞–±—Ä–∏—á–Ω–∏–π –ú–µ—Ç–æ–¥ (Factory Method)** —Ç–∞ **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞ –§–∞–±—Ä–∏–∫–∞ (Abstract Factory)** –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è **Dependency Inversion Principle (D)**. –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± —É –≤–∞—à–æ–º—É –∫–æ–¥—ñ –≤–∏—Å–æ–∫–æ–≥–æ —Ä—ñ–≤–Ω—è —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –æ–±'—î–∫—Ç–∏ (–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å –≤—ñ–¥ –Ω–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤–∏—Ö –¥–µ—Ç–∞–ª–µ–π), –≤–∏ –¥–µ–ª–µ–≥—É—î—Ç–µ —Ü–µ —Ñ–∞–±—Ä–∏—Ü—ñ, —â–æ –ø—Ä–∞—Ü—é—î –∑ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–º–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏.
- **–ü–∞—Ç–µ—Ä–Ω –§–∞—Å–∞–¥ (Facade)** —î —á—É–¥–æ–≤–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º **Single Responsibility Principle (S)**. –í—ñ–Ω –Ω–∞–¥–∞—î –ø—Ä–æ—Å—Ç–∏–π, —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ —Å–∫–ª–∞–¥–Ω–æ—ó –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏, —ñ –π–æ–≥–æ —î–¥–∏–Ω–æ—é –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—é —î —Å–ø—Ä–æ—â–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É –¥–æ —Ü—ñ—î—ó –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏.

–¢–∞–∫–∏–º —á–∏–Ω–æ–º, –º–æ–∂–Ω–∞ —Å–∫–∞–∑–∞—Ç–∏, —â–æ –ø—Ä–∏–Ω—Ü–∏–ø–∏ **SOLID** ‚Äî —Ü–µ "—á–æ–º—É" –º–∏ —Ç–∞–∫ —Ä–æ–±–∏–º–æ, –∞ –ø–∞—Ç–µ—Ä–Ω–∏ –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è ‚Äî —Ü–µ "—è–∫" –º–∏ —Ü–µ —Ä–æ–±–∏–º–æ. –í–æ–Ω–∏ –Ω–µ—Ä–æ–∑—Ä–∏–≤–Ω–æ –ø–æ–≤'—è–∑–∞–Ω—ñ —ñ —î –¥–≤–æ–º–∞ —Å—Ç–æ—Ä–æ–Ω–∞–º–∏ –æ–¥–Ω—ñ—î—ó –º–µ–¥–∞–ª—ñ, —Å–ø—Ä—è–º–æ–≤–∞–Ω–æ—ó –Ω–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —è–∫—ñ—Å–Ω–æ–≥–æ —Ç–∞ –≥–Ω—É—á–∫–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è.



## –Ü–Ω—à—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è

–û–∫—Ä—ñ–º –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ SOLID, —ñ—Å–Ω—É—î –±–∞–≥–∞—Ç–æ —ñ–Ω—à–∏—Ö –≤–∞–∂–ª–∏–≤–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è, —è–∫—ñ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —á–∏—Å—Ç–∏–π, –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–∏–π —Ç–∞ —Ä–æ–∑—à–∏—Ä—é–≤–∞–Ω–∏–π –∫–æ–¥. –û—Å—å –¥–µ–∫—ñ–ª—å–∫–∞ –∑ –Ω–∞–π–≤–∞–∂–ª–∏–≤—ñ—à–∏—Ö.

### DRY (Don't Repeat Yourself) üö´

–ü—Ä–∏–Ω—Ü–∏–ø **"–ù–µ –ø–æ–≤—Ç–æ—Ä—é–π—Å—è"** —î –æ–¥–Ω–∏–º —ñ–∑ –Ω–∞–π–≤—ñ–¥–æ–º—ñ—à–∏—Ö. –ô–æ–≥–æ —Å—É—Ç—å –ø–æ–ª—è–≥–∞—î –≤ —Ç–æ–º—É, —â–æ –∫–æ–∂–µ–Ω —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∑–Ω–∞–Ω—å —É –≤–∞—à—ñ–π —Å–∏—Å—Ç–µ–º—ñ –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ —î–¥–∏–Ω–µ, –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç–Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è. –ö–æ–ª–∏ –≤–∏ –±–∞—á–∏—Ç–µ, —â–æ –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π –±–ª–æ–∫ –∫–æ–¥—É –ø–æ–≤—Ç–æ—Ä—é—î—Ç—å—Å—è –≤ –∫—ñ–ª—å–∫–æ—Ö –º—ñ—Å—Ü—è—Ö, —Ü–µ —î —Å–∏–≥–Ω–∞–ª–æ–º –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É. –î—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ø—Ä–æ–±–ª–µ–º: –∫–æ–ª–∏ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–Ω–µ—Å—Ç–∏ –∑–º—ñ–Ω—É, –≤–∏ –º–∞—î—Ç–µ –∑—Ä–æ–±–∏—Ç–∏ —ó—ó –≤ —É—Å—ñ—Ö –º—ñ—Å—Ü—è—Ö, —â–æ –ª–µ–≥–∫–æ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç—å –¥–æ –ø–æ–º–∏–ª–æ–∫.

**–ü—Ä–∏–∫–ª–∞–¥:** –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –ø–∏—Å–∞—Ç–∏ –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ –∞–ª–≥–æ—Ä–∏—Ç–º –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó –¥–ª—è —Ñ–æ—Ä–º–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ —Ñ–æ—Ä–º–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª—é, –≤–∏ –≤–∏–Ω–æ—Å–∏—Ç–µ –π–æ–≥–æ –≤ –æ–∫—Ä–µ–º–∏–π –º–µ—Ç–æ–¥ –∞–±–æ –∫–ª–∞—Å.

### KISS (Keep It Simple, Stupid) ü§™

–ü—Ä–∏–Ω—Ü–∏–ø **"–ó–±–µ—Ä—ñ–≥–∞–π –ø—Ä–æ—Å—Ç–æ—Ç—É, –¥—É—Ä–Ω—é"** –Ω–∞–≥–∞–¥—É—î, —â–æ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π –¥–∏–∑–∞–π–Ω –º–∞–π–∂–µ –∑–∞–≤–∂–¥–∏ —î –Ω–∞–π–∫—Ä–∞—â–∏–º. –£–Ω–∏–∫–∞–π—Ç–µ –∑–∞–π–≤–æ—ó —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ —Ç–∞ –Ω–∞–¥–º—ñ—Ä–Ω–æ–≥–æ —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω–Ω—è. –ü—Ä–æ—Å—Ç—ñ —Å–∏—Å—Ç–µ–º–∏ –ª–µ–≥—à–µ —Ä–æ–∑—É–º—ñ—Ç–∏, —Ç–µ—Å—Ç—É–≤–∞—Ç–∏, –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Ç–∞ –∑–º—ñ–Ω—é–≤–∞—Ç–∏.

**–ü—Ä–∏–∫–ª–∞–¥:** –Ø–∫—â–æ –≤–∏ –º–æ–∂–µ—Ç–µ –≤–∏—Ä—ñ—à–∏—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø—Ä–æ—Å—Ç–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `if-else`, –Ω–µ —Å—Ç–≤–æ—Ä—é–π—Ç–µ —Å–∫–ª–∞–¥–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω –°—Ç—Ä–∞—Ç–µ–≥—ñ—è, —è–∫–∏–π –ª–∏—à–µ –∑–∞–ø–ª—É—Ç–∞—î –º–∞–π–±—É—Ç–Ω—ñ—Ö —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ (–≤–∫–ª—é—á–∞—é—á–∏ –≤–∞—Å —Å–∞–º–∏—Ö).

### YAGNI (You Ain't Gonna Need It) ü§î

–ü—Ä–∏–Ω—Ü–∏–ø **"–¢–æ–±—ñ —Ü–µ –Ω–µ –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è"** –≥–æ–≤–æ—Ä–∏—Ç—å, —â–æ –Ω–µ –≤–∞—Ä—Ç–æ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å, —è–∫–∞ –Ω–µ —î –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—é –∑–∞—Ä–∞–∑. –£–Ω–∏–∫–∞–π—Ç–µ –ø–µ—Ä–µ–¥—á–∞—Å–Ω–æ–≥–æ —É–∑–∞–≥–∞–ª—å–Ω–µ–Ω–Ω—è —Ç–∞ "–∑–æ–ª–æ—Ç–æ–≥–æ –ø–æ–∫—Ä–∏—Ç—Ç—è" (gold-plating) ‚Äî –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–π, —è–∫—ñ, –Ω–∞ –≤–∞—à—É –¥—É–º–∫—É, –º–æ–∂—É—Ç—å –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –≤ –º–∞–π–±—É—Ç–Ω—å–æ–º—É. –¶–µ –¥–æ–ø–æ–º–∞–≥–∞—î –∑–æ—Å–µ—Ä–µ–¥–∏—Ç–∏—Å—è –Ω–∞ –ø–æ—Ç–æ—á–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω–Ω—è—Ö —ñ –∑–∞–ø–æ–±—ñ–≥–∞—î –≤–∏—Ç—Ä–∞—Ç—ñ —á–∞—Å—É —Ç–∞ —Ä–µ—Å—É—Ä—Å—ñ–≤ –Ω–∞ —Ç–µ, —â–æ –º–æ–∂–µ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–º.

**–ü—Ä–∏–∫–ª–∞–¥:** –ù–µ –ø–∏—à—ñ—Ç—å —Å–∏—Å—Ç–µ–º—É –ª–æ–≥—É–≤–∞–Ω–Ω—è, —è–∫–∞ –ø—ñ–¥—Ç—Ä–∏–º—É—î 10 —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ —Å—Ö–æ–≤–∏—â –¥–∞–Ω–∏—Ö, —è–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ª–∏—à–µ –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ –ª–æ–≥–∏ —É —Ñ–∞–π–ª. –†–æ–∑—à–∏—Ä–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É –º–æ–∂–Ω–∞ –±—É–¥–µ –ø—ñ–∑–Ω—ñ—à–µ, –∫–æ–ª–∏ –≤–∏–Ω–∏–∫–Ω–µ –ø–æ—Ç—Ä–µ–±–∞.

### Separation of Concerns (SoC) üß©

**"–†–æ–∑–¥—ñ–ª–µ–Ω–Ω—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–æ—Å—Ç–µ–π"** ‚Äî —Ü–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∏–π –ø—Ä–∏–Ω—Ü–∏–ø, —è–∫–∏–π –ø–æ–ª—è–≥–∞—î –≤ —Ä–æ–∑–±–∏—Ç—Ç—ñ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ –Ω–∞ –æ–∫—Ä–µ–º—ñ, –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏, –¥–µ –∫–æ–∂–Ω–∞ —á–∞—Å—Ç–∏–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ —Å–≤—ñ–π –Ω–∞–±—ñ—Ä –∑–∞–≤–¥–∞–Ω—å. –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑—Ä–æ–±–ª—è—Ç–∏, —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –∫–æ–∂–Ω—É —á–∞—Å—Ç–∏–Ω—É –æ–∫—Ä–µ–º–æ.

**–ü—Ä–∏–∫–ª–∞–¥:** –£ –≤–µ–±–¥–æ–¥–∞—Ç–∫—É, –≤–∏ —Ä–æ–∑–¥—ñ–ª—è—î—Ç–µ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É (—è–∫–∞ –≤–∏–∫–æ–Ω—É—î —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫–∏), –¥–æ—Å—Ç—É–ø –¥–æ –¥–∞–Ω–∏—Ö (—è–∫–∏–π –≤–∑–∞—î–º–æ–¥—ñ—î –∑ –±–∞–∑–æ—é) —Ç–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (—è–∫–∏–π –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –¥–∞–Ω—ñ) –Ω–∞ –æ–∫—Ä–µ–º—ñ —à–∞—Ä–∏ –∞–±–æ –∫–ª–∞—Å–∏.

* * *

–¶—ñ –ø—Ä–∏–Ω—Ü–∏–ø–∏, —Ä–∞–∑–æ–º –∑ SOLID, —î –æ—Å–Ω–æ–≤–æ—é –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —è–∫—ñ—Å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è. –í–æ–Ω–∏ –Ω–µ —î –∂–æ—Ä—Å—Ç–∫–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏, –∞ —Ä–∞–¥—à–µ –æ—Ä—ñ—î–Ω—Ç–∏—Ä–∞–º–∏, —â–æ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å –ø—Ä–∏–π–º–∞—Ç–∏ –∑–≤–∞–∂–µ–Ω—ñ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ç–∞ –¥–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫—ñ —Ä—ñ—à–µ–Ω–Ω—è.


## –ü–∞—Ç–µ—Ä–Ω Singleton (–û–¥–∏–Ω–∞–∫)

### –ú–µ—Ç–∞

**Singleton** ‚Äî —Ü–µ –ø–∞—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è, —â–æ –Ω–∞–ª–µ–∂–∏—Ç—å –¥–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó **–ø–æ—Ä–æ–¥–∂—É–≤–∞–ª—å–Ω–∏—Ö (Creational)**. –ô–æ–≥–æ –æ—Å–Ω–æ–≤–Ω–∞ –º–µ—Ç–∞ ‚Äî –≥–∞—Ä–∞–Ω—Ç—É–≤–∞—Ç–∏, —â–æ –∫–ª–∞—Å –º–∞—î –ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä, —ñ –Ω–∞–¥–∞—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É –¥–æ –Ω—å–æ–≥–æ. –£—è–≤—ñ—Ç—å, —â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–µ—Ä—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø–æ–º –¥–æ —è–∫–æ–≥–æ—Å—å —Ä–µ—Å—É—Ä—Å—É, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è–º –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –ª–æ–≥–≥–µ—Ä–æ–º —á–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—î—é –ø—Ä–æ–≥—Ä–∞–º–∏. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ–∫—ñ–ª—å–∫–æ—Ö –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ —Ç–∞–∫–æ–≥–æ –æ–±'—î–∫—Ç–∞ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –Ω–µ–ø–µ—Ä–µ–¥–±–∞—á—É–≤–∞–Ω–æ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –∞–±–æ –Ω–∞–¥–º—ñ—Ä–Ω–æ–≥–æ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤. Singleton –≤–∏—Ä—ñ—à—É—î —Ü—é –ø—Ä–æ–±–ª–µ–º—É, –∑–∞–±–µ–∑–ø–µ—á—É—é—á–∏, —â–æ –≤—Å—ñ —á–∞—Å—Ç–∏–Ω–∏ –≤–∞—à–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏ –ø—Ä–∞—Ü—é—é—Ç—å –∑ –æ–¥–Ω–∏–º —ñ —Ç–∏–º –∂–µ –µ–∫–∑–µ–º–ø–ª—è—Ä–æ–º.

### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω Singleton, –∫–æ–ª–∏:

- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—É.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–±'—î–∫—Ç, —è–∫–∏–π –∫–µ—Ä—É—î –ø—É–ª–æ–º –ø—ñ–¥–∫–ª—é—á–µ–Ω—å –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –º–∞—î –±—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ–≤.
- **–í–∏ —Ö–æ—á–µ—Ç–µ –º–∞—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω—É —Ç–æ—á–∫—É –¥–æ—Å—Ç—É–ø—É –¥–æ —Ü—å–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞.** –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –µ–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—É —á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –º–µ—Ç–æ–¥—ñ–≤ –∞–±–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ–≤, –≤–∏ –º–æ–∂–µ—Ç–µ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ –Ω—å–æ–≥–æ –¥–æ—Å—Ç—É–ø –∑ –±—É–¥—å-—è–∫–æ–≥–æ –º—ñ—Å—Ü—è —É –≤–∞—à–æ–º—É –∫–æ–¥—ñ.

–û–¥–Ω–∞–∫, –±—É–¥—å—Ç–µ –æ–±–µ—Ä–µ–∂–Ω—ñ! –ù–∞–¥–º—ñ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Singleton –º–æ–∂–µ –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏—Ç–∏ –≤–∞—à –∫–æ–¥ –Ω–∞ "—Å–ø–∞–≥–µ—Ç—ñ", –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –ø—Ä–∏—Ö–æ–≤—É—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —Ç–∞ —É—Å–∫–ª–∞–¥–Ω—é—î —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è. –ö–æ–ª–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ —î –ø—Ä–∏—Ö–æ–≤–∞–Ω–∏–º–∏, —Å—Ç–∞—î –≤–∞–∂—á–µ –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —è–∫—ñ —á–∞—Å—Ç–∏–Ω–∏ –≤–∞—à–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å –∑ Singleton.

### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–î–∞–≤–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–∏–º–æ –ø—Ä–∏–∫–ª–∞–¥ –¥–ª—è –∫–ª–∞—Å—É, —è–∫–∏–π –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –≤–µ–¥–µ–Ω–Ω—è –ª–æ–≥—ñ–≤ —É –Ω–∞—à—ñ–π –ø—Ä–æ–≥—Ä–∞–º—ñ. –ù–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω –ª–∏—à–µ –æ–¥–∏–Ω —Ç–∞–∫–∏–π "–ª–æ–≥–≥–µ—Ä" –Ω–∞ –≤–µ—Å—å –¥–æ–¥–∞—Ç–æ–∫.

C#

```
// Singleton.cs

using System;
using System.IO;

// –ö–ª–∞—Å, —è–∫–∏–π —Ä–µ–∞–ª—ñ–∑—É—î –ø–∞—Ç–µ—Ä–Ω Singleton
public sealed class Logger
{
    // –ü—Ä–∏–≤–∞—Ç–Ω–µ —Å—Ç–∞—Ç–∏—á–Ω–µ –ø–æ–ª–µ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —î–¥–∏–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞
    private static readonly Logger _instance = new Logger();

    // –ü—Ä–∏–≤–∞—Ç–Ω–∏–π —Å—Ç–∞—Ç–∏—á–Ω–∏–π –æ–±'—î–∫—Ç –¥–ª—è –±–ª–æ–∫—É–≤–∞–Ω–Ω—è, —â–æ–± –∑—Ä–æ–±–∏—Ç–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é
    private static readonly object _lock = new object();

    // –ü—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä, —â–æ–± –∑–∞–ø–æ–±—ñ–≥—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—é –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ —á–µ—Ä–µ–∑ 'new'
    private Logger() 
    {
        Console.WriteLine("Logger: –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤–∏–∫–ª–∏–∫–∞–Ω–æ. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —î–¥–∏–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞.");
    }

    // –ü—É–±–ª—ñ—á–Ω–∞ —Å—Ç–∞—Ç–∏—á–Ω–∞ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –¥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞
    public static Logger Instance
    {
        get 
        {
            // –û—Å–∫—ñ–ª—å–∫–∏ –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ —Å—Ç–∞—Ç–∏—á–Ω–µ –ø–æ–ª–µ, —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑.
            // –ë–ª–æ–∫—É–≤–∞–Ω–Ω—è _lock —Ç—É—Ç –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–µ, —Ç–æ–º—É —â–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è
            // –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –¥–æ—Å—Ç—É–ø—ñ –¥–æ —Å—Ç–∞—Ç–∏—á–Ω–æ–≥–æ —á–ª–µ–Ω–∞ –∫–ª–∞—Å—É (lazy-initialization).
            // –ê–ª–µ –¥–ª—è —ñ–ª—é—Å—Ç—Ä–∞—Ü—ñ—ó –∫–ª–∞—Å–∏—á–Ω–æ–≥–æ Singleton, —Ä–æ–∑–≥–ª—è–Ω–µ–º–æ –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—É –≤–µ—Ä—Å—ñ—é:
            // if (_instance == null)
            // {
            //     lock (_lock)
            //     {
            //         if (_instance == null)
            //         {
            //             _instance = new Logger();
            //         }
            //     }
            // }
            // –ù–∞—à –ø—ñ–¥—Ö—ñ–¥ –∑—ñ —Å—Ç–∞—Ç–∏—á–Ω–∏–º –ø–æ–ª–µ–º –ø—Ä–æ—Å—Ç—ñ—à–∏–π —ñ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∏–π.

            return _instance;
        }
    }

    // –ú–µ—Ç–æ–¥ –¥–ª—è –∑–∞–ø–∏—Å—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å —É –ª–æ–≥
    public void LogMessage(string message)
    {
        Console.WriteLine($"[LOG - {DateTime.Now:dd.MM.yyyy HH:mm:ss}] {message}");
    }
}

// –ü—Ä–æ–≥—Ä–∞–º–∞ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó —Ä–æ–±–æ—Ç–∏ Singleton
public class Program
{
    public static void Main(string[] args)
    {
        // –û—Ç—Ä–∏–º—É—î–º–æ –µ–∫–∑–µ–º–ø–ª—è—Ä –ª–æ–≥–≥–µ—Ä–∞
        Logger logger1 = Logger.Instance;
        logger1.LogMessage("–ü–µ—Ä—à–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É –ª–æ–≥.");

        // –û—Ç—Ä–∏–º—É—î–º–æ –µ–∫–∑–µ–º–ø–ª—è—Ä —â–µ —Ä–∞–∑
        Logger logger2 = Logger.Instance;
        logger2.LogMessage("–î—Ä—É–≥–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è —É –ª–æ–≥.");

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ —Ü–µ –¥—ñ–π—Å–Ω–æ –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ –µ–∫–∑–µ–º–ø–ª—è—Ä
        if (ReferenceEquals(logger1, logger2))
        {
            Console.WriteLine("–û–±–∏–¥–≤–∞ –æ–±'—î–∫—Ç–∏ –ø–æ—Å–∏–ª–∞—é—Ç—å—Å—è –Ω–∞ –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ –µ–∫–∑–µ–º–ø–ª—è—Ä. Singleton –ø—Ä–∞—Ü—é—î!");
        }
    }
}
```

**–ü–æ—è—Å–Ω–µ–Ω–Ω—è –¥–æ –∫–æ–¥—É:**

- **`private static readonly Logger _instance = new Logger();`** : –¶–µ –Ω–∞–π–ø—Ä–æ—Å—Ç—ñ—à–∏–π —ñ –Ω–∞–π–µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∏–π —Å–ø–æ—Å—ñ–± —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ Singleton –≤ C#. –ó–∞–≤–¥—è–∫–∏ –∫–ª—é—á–æ–≤–æ–º—É —Å–ª–æ–≤—É `static` –µ–∫–∑–µ–º–ø–ª—è—Ä —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑. `readonly` –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –π–æ–≥–æ –Ω–µ –º–æ–∂–Ω–∞ –±—É–¥–µ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ—Å–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó.
- **`private Logger()`** : –ü—Ä–∏–≤–∞—Ç–Ω–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –Ω–µ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ –∫–ª–∞—Å—É –∑–∑–æ–≤–Ω—ñ. –¶–µ –∫–ª—é—á–æ–≤–∞ —á–∞—Å—Ç–∏–Ω–∞ –ø–∞—Ç–µ—Ä–Ω—É.
- **`public static Logger Instance`** : –¶–µ –ø—É–±–ª—ñ—á–Ω–∞ —Å—Ç–∞—Ç–∏—á–Ω–∞ –≤–ª–∞—Å—Ç–∏–≤—ñ—Å—Ç—å, —è–∫–∞ –Ω–∞–¥–∞—î –¥–æ—Å—Ç—É–ø –¥–æ —î–¥–∏–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—É. –í—Å—ñ –∫–ª—ñ—î–Ω—Ç–∏, —è–∫—ñ —Ö–æ—á—É—Ç—å –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –ª–æ–≥–≥–µ—Ä–∞, –±—É–¥—É—Ç—å –∑–≤–µ—Ä—Ç–∞—Ç–∏—Å—è —Å–∞–º–µ –¥–æ –Ω–µ—ó.

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

–ü–∞—Ç–µ—Ä–Ω Singleton —à–∏—Ä–æ–∫–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –≤:

- **.NET Framework**: –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–ª–∞—Å `System.Diagnostics.Trace` –º–∞—î —Å—Ç–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è –∑–∞–ø–∏—Å—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å, —â–æ –ø–æ —Å—É—Ç—ñ –ø—Ä–∞—Ü—é—î —è–∫ Singleton. –¢–∞–∫–æ–∂, –¥–µ—è–∫—ñ –∫–ª–∞—Å–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —è–∫ Singleton.
- **IoC-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Unity, Autofac)**: –ß–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∂–∏—Ç—Ç—î–≤–∏–º —Ü–∏–∫–ª–æ–º –æ–±'—î–∫—Ç—ñ–≤. –ö–æ–ª–∏ –≤–∏ —Ä–µ—î—Å—Ç—Ä—É—î—Ç–µ —Å–µ—Ä–≤—ñ—Å —è–∫ "singleton" –∞–±–æ "single instance", –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä —Ü—å–æ–≥–æ —Å–µ—Ä–≤—ñ—Å—É –Ω–∞ –≤–µ—Å—å –∂–∏—Ç—Ç—î–≤–∏–π —Ü–∏–∫–ª –ø—Ä–æ–≥—Ä–∞–º–∏.

### –¶—ñ–∫–∞–≤—ñ —Ç–∞ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ

- **–õ–µ–≥–∫–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏**: –°—É—á–∞—Å–Ω—ñ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ (—è–∫-–æ—Ç ASP.NET Core) –¥–æ–∑–≤–æ–ª—è—é—Ç—å —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ Singleton –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–Ω—è –∫–æ–¥—É. –í–∏ –ø—Ä–æ—Å—Ç–æ —Ä–µ—î—Å—Ç—Ä—É—î—Ç–µ –≤–∞—à –∫–ª–∞—Å —è–∫ Singleton, —ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–∞–º –ø–æ–¥–±–∞—î –ø—Ä–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —î–¥–∏–Ω–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞. –ù–∞–ø—Ä–∏–∫–ª–∞–¥: `services.AddSingleton<ILogger, Logger>();`. –¶–µ —Ä–æ–±–∏—Ç—å –≤–∞—à –∫–æ–¥ —á–∏—Å—Ç—ñ—à–∏–º —ñ –ø—Ä–æ—Å—Ç—ñ—à–∏–º –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è.
- **–ü–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω—ñ—Å—Ç—å "–∑ –∫–æ—Ä–æ–±–∫–∏"**: –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑—ñ —Å—Ç–∞—Ç–∏—á–Ω–∏–º –ø–æ–ª–µ–º (—è–∫ —É –Ω–∞—à–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ) —î –ø–æ—Ç–æ–∫–æ–±–µ–∑–ø–µ—á–Ω–æ—é –∑–∞ —Å–≤–æ—î—é –ø—Ä–∏—Ä–æ–¥–æ—é. –í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –±–ª–æ–∫—É–≤–∞–Ω–Ω—è, —â–æ —Ä–æ–±–∏—Ç—å –∫–æ–¥ –ø—Ä–æ—Å—Ç—ñ—à–∏–º —ñ —à–≤–∏–¥—à–∏–º.
- **–ì–Ω—É—á–∫—ñ—Å—Ç—å —É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ**: Singleton –º–æ–∂–µ –º–∞—Ç–∏ –ª–µ–¥–∞—á—É —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é (–∫–æ–ª–∏ –æ–±'—î–∫—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ) –∞–±–æ –∂–∞–¥—ñ–±–Ω—É (–∫–æ–ª–∏ –æ–±'—î–∫—Ç —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –æ–¥—Ä–∞–∑—É –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º–∏). –¶–µ –¥–æ–∑–≤–æ–ª—è—î –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤.

Singleton ‚Äî —Ü–µ –ø–æ—Ç—É–∂–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∞–ª–µ, —è–∫ —ñ –±—É–¥—å-—è–∫–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –≤—ñ–Ω –≤–∏–º–∞–≥–∞—î —Ä–æ–∑—É–º–Ω–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è. –í—ñ–Ω –¥–æ–ø–æ–º–∞–≥–∞—î —É–Ω–∏–∫–Ω—É—Ç–∏ –±–∞–≥–∞—Ç—å–æ—Ö –ø—Ä–æ–±–ª–µ–º, –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∑ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è–º –≥–ª–æ–±–∞–ª—å–Ω–∏–º —Å—Ç–∞–Ω–æ–º, –∞–ª–µ –º–æ–∂–µ —É—Å–∫–ª–∞–¥–Ω–∏—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—É, —è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –π–æ–≥–æ –±–µ–∑–¥—É–º–Ω–æ.


* * *

## –ü–∞—Ç–µ—Ä–Ω Factory Method (–§–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥)

### –ú–µ—Ç–∞

**Factory Method** ‚Äî —Ü–µ –ø–æ—Ä–æ–¥–∂—É–≤–∞–ª—å–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –≤–∏–∑–Ω–∞—á–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞, –∞–ª–µ –¥–æ–∑–≤–æ–ª—è—î –ø—ñ–¥–∫–ª–∞—Å–∞–º –≤–∏—Ä—ñ—à—É–≤–∞—Ç–∏, —è–∫–∏–π —Å–∞–º–µ –∫–ª–∞—Å —ñ–Ω—Å—Ç–∞–Ω—Ü—ñ—é–≤–∞—Ç–∏. –Ü–Ω—à–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –≤—ñ–Ω –¥–µ–ª–µ–≥—É—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –ø—ñ–¥–∫–ª–∞—Å–∞–º, —â–æ —Ä–æ–±–∏—Ç—å –≤–∞—à –∫–æ–¥ –≥–Ω—É—á–∫—ñ—à–∏–º.

### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω, –∫–æ–ª–∏:

- **–í–∏ –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å –Ω–µ –∑–Ω–∞—î—Ç–µ, –æ–±'—î–∫—Ç —è–∫–æ–≥–æ —Ç–∏–ø—É –≤–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω.** –í–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –º–∞—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ç–∏–ø–∞–º–∏ –æ–±'—î–∫—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤: —Ç–µ–∫—Å—Ç–æ–≤—ñ, —Ç–∞–±–ª–∏—á–Ω—ñ, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó), –∞–ª–µ —ó—Ö–Ω—ñ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–∏–ø –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.
- **–í–∏ —Ö–æ—á–µ—Ç–µ, —â–æ–± –≤–∞—à–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –∞–±–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –Ω–∞–¥–∞–≤–∞–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —ó—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∞—à–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –º–æ–∂–µ –Ω–∞–¥–∞–≤–∞—Ç–∏ –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–ª–∞—Å `Document`, –∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Å–≤—ñ–π –ø—ñ–¥–∫–ª–∞—Å `CustomDocument` —ñ –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∏—Ç–∏ —Ñ–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥, —â–æ–± —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏.

–ü–∞—Ç–µ—Ä–Ω –¥–æ–ø–æ–º–∞–≥–∞—î –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –ø—Ä–∏–Ω—Ü–∏–ø—É **Open/Closed (O)**: –≤–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–∏–ø–∏ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–æ–≤–∏–π —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞), –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –∫–æ–¥, —è–∫–∏–π —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î. –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –∑–º—ñ–Ω—é–≤–∞—Ç–∏ `if/else` —á–∏ `switch` –±–ª–æ–∫–∏, –≤–∏ –ø—Ä–æ—Å—Ç–æ –¥–æ–¥–∞—î—Ç–µ –Ω–æ–≤–∏–π –ø—ñ–¥–∫–ª–∞—Å.

### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–î–∞–≤–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–∏–º–æ –ø—Ä–∏–∫–ª–∞–¥, –¥–µ —É –Ω–∞—Å —î —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –º–∞—à–∏–Ω (–∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ, –º–æ—Ç–æ—Ü–∏–∫–ª–∏), —ñ –º–∏ —Ö–æ—á–µ–º–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —ó—Ö —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–¥—É–∫—Ç—É
// –í–∏–∑–Ω–∞—á–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –≤—Å—ñ—Ö —Å—Ç–≤–æ—Ä—é–≤–∞–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤.
public interface IVehicle
{
    void Drive();
}

// 2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏
// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –ø—Ä–æ–¥—É–∫—Ç—É.
public class Car : IVehicle
{
    public void Drive()
    {
        Console.WriteLine("Driving a car. Vroom!");
    }
}

public class Motorcycle : IVehicle
{
    public void Drive()
    {
        Console.WriteLine("Riding a motorcycle. Vroooom!");
    }
}

// 3. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –∫–ª–∞—Å-—Ç–≤–æ—Ä–µ—Ü—å (Creator)
// –í–∏–∑–Ω–∞—á–∞—î —Ñ–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥, —è–∫–∏–π –ø—ñ–¥–∫–ª–∞—Å–∏ –º–∞—é—Ç—å —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏.
public abstract class VehicleFactory
{
    // –§–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥. –ü–æ–≤–µ—Ä—Ç–∞—î IVehicle, –∞–ª–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–∏–ø
    // –±—É–¥–µ –≤–∏–∑–Ω–∞—á–µ–Ω–æ —É –ø—ñ–¥–∫–ª–∞—Å–∞—Ö.
    public abstract IVehicle CreateVehicle();

    // –ú–µ—Ç–æ–¥, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ñ–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥.
    // –í—ñ–Ω –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π.
    public void UseVehicle()
    {
        IVehicle vehicle = CreateVehicle();
        vehicle.Drive();
    }
}

// 4. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ç–≤–æ—Ä—Ü—ñ (Concrete Creators)
// –†–µ–∞–ª—ñ–∑—É—é—Ç—å —Ñ–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç—É.
public class CarFactory : VehicleFactory
{
    public override IVehicle CreateVehicle()
    {
        return new Car();
    }
}

public class MotorcycleFactory : VehicleFactory
{
    public override IVehicle CreateVehicle()
    {
        return new Motorcycle();
    }
}

// 5. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        Console.WriteLine("–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–≤—Ç–æ–º–æ–±—ñ–ª—è —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É:");
        VehicleFactory carFactory = new CarFactory();
        carFactory.UseVehicle(); // –í–∏–∫–ª–∏–∫ –º–µ—Ç–æ–¥—É, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ñ–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥

        Console.WriteLine("\n–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ—Ç–æ—Ü–∏–∫–ª–∞ —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É:");
        VehicleFactory motorcycleFactory = new MotorcycleFactory();
        motorcycleFactory.UseVehicle(); // –í–∏–∫–ª–∏–∫ –º–µ—Ç–æ–¥—É, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ñ–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥
    }
}
```

### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

1. **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø—Ä–æ–¥—É–∫—Ç—É (`IVehicle`)**: –í—Å—Ç–∞–Ω–æ–≤–ª—é—î –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–º—É –∫–æ–¥—É –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –±—É–¥—å-—è–∫–∏–º –æ–±'—î–∫—Ç–æ–º, —â–æ —Ä–µ–∞–ª—ñ–∑—É—î —Ü–µ–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–µ –∑–Ω–∞—é—á–∏ –π–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø—É.
2. **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π —Ç–≤–æ—Ä–µ—Ü—å (`VehicleFactory`)**: –í–∏–∑–Ω–∞—á–∞—î —Ñ–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥ `CreateVehicle()`. –¶–µ–π –º–µ—Ç–æ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π, —â–æ –∑–º—É—à—É—î –ø—ñ–¥–∫–ª–∞—Å–∏ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –π–æ–≥–æ. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –º–µ—Ç–æ–¥ `UseVehicle()`) –ø—Ä–∞—Ü—é—î –∑ —Ü–∏–º —Ç–≤–æ—Ä—Ü–µ–º, –Ω–µ –∑–Ω–∞—é—á–∏, —è–∫–∏–π —Å–∞–º–µ –æ–±'—î–∫—Ç –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π.
3. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ç–≤–æ—Ä—Ü—ñ (`CarFactory`, `MotorcycleFactory`)**: –ö–æ–∂–µ–Ω —Ç–∞–∫–∏–π –∫–ª–∞—Å —É—Å–ø–∞–¥–∫–æ–≤—É—î –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Ç–≤–æ—Ä—Ü—è —ñ —Ä–µ–∞–ª—ñ–∑—É—î –π–æ–≥–æ —Ñ–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥, –ø–æ–≤–µ—Ä—Ç–∞—é—á–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –æ–±'—î–∫—Ç (`Car` –∞–±–æ `Motorcycle`).

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **.NET Framework**: –£ –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫—É ASP.NET Core, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Ñ–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ñ–≤ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è Google, Facebook).
- **IoC-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, Autofac, Unity)**: –¶—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ñ–∞–±—Ä–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ –∫–ª–∞—Å—ñ–≤, —â–æ –¥–æ–∑–≤–æ–ª—è—î –≥–Ω—É—á–∫–æ —É–ø—Ä–∞–≤–ª—è—Ç–∏ —ó—Ö–Ω—ñ–º–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏.
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è**: –†—ñ–∑–Ω—ñ –ª–æ–≥–µ—Ä–∏ –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ñ–∞–±—Ä–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤-–ª–æ–≥–µ—Ä—ñ–≤ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ü—ñ–ª–µ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ñ–∞–π–ª–æ–≤–∏–π –ª–æ–≥–µ—Ä, –∫–æ–Ω—Å–æ–ª—å–Ω–∏–π –ª–æ–≥–µ—Ä).

### –¶—ñ–∫–∞–≤—ñ —Ç–∞ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ

- **–ü—Ä–∏–Ω—Ü–∏–ø "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è –¥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É"**: Factory Method –∑–º—É—à—É—î –Ω–∞—Å –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞—Ç–∏ –¥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É (`IVehicle`), –∞ –Ω–µ –¥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (`Car`). –¶–µ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –≥–Ω—É—á–∫–æ—é.
- **–ó–º–µ–Ω—à–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π**: –§–∞–±—Ä–∏—á–Ω–∏–π –º–µ—Ç–æ–¥ —ñ–Ω–≤–µ—Ä—Ç—É—î –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å. –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ –±—É–≤ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –∑–∞–ª–µ–∂–Ω–∏–º –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤ (`new Car()`), –≤—ñ–Ω –∑–∞–ª–µ–∂–∏—Ç—å –ª–∏—à–µ –≤—ñ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ—ó —Ñ–∞–±—Ä–∏–∫–∏. –¶–µ —î –≤—Ç—ñ–ª–µ–Ω–Ω—è–º **–ø—Ä–∏–Ω—Ü–∏–ø—É —ñ–Ω–≤–µ—Ä—Å—ñ—ó –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (DIP)**.
- **–õ–µ–≥–∫–∞ —Ä–æ–∑—à–∏—Ä—é–≤–∞–Ω—ñ—Å—Ç—å**: –©–æ–± –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Ç–∏–ø –æ–±'—î–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Bus`), –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ª–∏—à–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –∫–ª–∞—Å `Bus` —ñ –Ω–æ–≤–∏–π –∫–ª–∞—Å `BusFactory`. –í–∞–º –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥ –∫–ª—ñ—î–Ω—Ç–∞ —á–∏ –±–∞–∑–æ–≤–æ—ó —Ñ–∞–±—Ä–∏–∫–∏.


* * *

## –ü–∞—Ç–µ—Ä–Ω Abstract Factory (–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞ —Ñ–∞–±—Ä–∏–∫–∞)

### –ú–µ—Ç–∞

**Abstract Factory** ‚Äî —Ü–µ –ø–∞—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è, —è–∫–∏–π –Ω–∞–¥–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—ñ–º–µ–π—Å—Ç–≤ –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –∞–±–æ –∑–∞–ª–µ–∂–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤, –Ω–µ –≤–∫–∞–∑—É—é—á–∏ —ó—Ö–Ω—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫–ª–∞—Å–∏. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–º—É –∫–æ–¥—É –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ "—Å—ñ–º–µ–π—Å—Ç–≤–∞–º–∏" –æ–±'—î–∫—Ç—ñ–≤, —Ç–∞–∫–∏–º–∏ —è–∫, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –µ–ª–µ–º–µ–Ω—Ç–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Å–∏—Å—Ç–µ–º (–∫–Ω–æ–ø–∫–∏ –¥–ª—è Windows —ñ macOS).

### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω, –∫–æ–ª–∏:

- **–°–∏—Å—Ç–µ–º–∞ –ø–æ–≤–∏–Ω–Ω–∞ –±—É—Ç–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–æ—é –≤—ñ–¥ —Ç–æ–≥–æ, —è–∫ —Å—Ç–≤–æ—Ä—é—é—Ç—å—Å—è, –∫–æ–º–ø–æ–Ω—É—é—Ç—å—Å—è —Ç–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å—Å—è —ó—ó –ø—Ä–æ–¥—É–∫—Ç–∏.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± –≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –ø—Ä–∞—Ü—é–≤–∞–ª–∞ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –°–£–ë–î (MS SQL, PostgreSQL, MySQL), —ñ –¥–ª—è –∫–æ–∂–Ω–æ—ó –∑ –Ω–∏—Ö –ø–æ—Ç—Ä—ñ–±–Ω—ñ —Å–≤–æ—ó –æ–±'—î–∫—Ç–∏ –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è, –∫–æ–º–∞–Ω–¥, —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π.
- **–í–∏ –º–∞—î—Ç–µ —Å–ø—Ä–∞–≤—É –∑ —Å—ñ–º–µ–π—Å—Ç–≤–∞–º–∏ –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —É –≤–∞—Å —î –¥–æ–¥–∞—Ç–æ–∫, —è–∫–∏–π –ø–æ–≤–∏–Ω–µ–Ω –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ç–µ–º–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è (—Å–≤—ñ—Ç–ª–∞, —Ç–µ–º–Ω–∞). –ö–æ–∂–Ω–∞ —Ç–µ–º–∞ –º–∞—î —Å–≤—ñ–π –Ω–∞–±—ñ—Ä –∫–Ω–æ–ø–æ–∫, –º–µ–Ω—é —Ç–∞ –≤—ñ–∫–æ–Ω. –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç –≤—Ä—É—á–Ω—É, –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ —Ñ–∞–±—Ä–∏–∫—É, —è–∫–∞ —Å—Ç–≤–æ—Ä—é—î –≤—Å–µ —Å—ñ–º–µ–π—Å—Ç–≤–æ –æ–±'—î–∫—Ç—ñ–≤ –æ–¥—Ä–∞–∑—É.

–¶–µ–π –ø–∞—Ç–µ—Ä–Ω –¥–æ–∑–≤–æ–ª—è—î –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –ø—Ä–∏–Ω—Ü–∏–ø—É **Open/Closed (O)**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Ñ–∞–±—Ä–∏–∫—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è –Ω–æ–≤–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏), –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥.

### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ—Ç—å, —â–æ –º–∏ —Ä–æ–∑—Ä–æ–±–ª—è—î–º–æ –ø—Ä–æ–≥—Ä–∞–º—É –∑ –≥—Ä–∞—Ñ—ñ—á–Ω–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, —è–∫–∞ –º–∞—î –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–≤—ñ —Ç–µ–º–∏: —Å–≤—ñ—Ç–ª—É —ñ —Ç–µ–º–Ω—É. –ö–æ–∂–Ω–∞ —Ç–µ–º–∞ –º—ñ—Å—Ç–∏—Ç—å —Å–≤–æ—ó –∫–Ω–æ–ø–∫–∏ —Ç–∞ –≤—ñ–∫–Ω–∞.

C#

```
// 1. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏
// –í–∏–∑–Ω–∞—á–∞—é—Ç—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –¥–ª—è —Å—ñ–º–µ–π—Å—Ç–≤–∞ –æ–±'—î–∫—Ç—ñ–≤
public interface IButton
{
    void Render();
}

public interface IWindow
{
    void Render();
}

// 2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –¥–ª—è —Å–≤—ñ—Ç–ª–æ—ó —Ç–µ–º–∏
public class LightButton : IButton
{
    public void Render()
    {
        Console.WriteLine("Rendering a light-themed button.");
    }
}

public class LightWindow : IWindow
{
    public void Render()
    {
        Console.WriteLine("Rendering a light-themed window.");
    }
}

// 3. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –¥–ª—è —Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏
public class DarkButton : IButton
{
    public void Render()
    {
        Console.WriteLine("Rendering a dark-themed button.");
    }
}

public class DarkWindow : IWindow
{
    public void Render()
    {
        Console.WriteLine("Rendering a dark-themed window.");
    }
}

// 4. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞ —Ñ–∞–±—Ä–∏–∫–∞
// –í–∏–∑–Ω–∞—á–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å—ñ–º–µ–π—Å—Ç–≤–∞ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
public interface IUIFactory
{
    IButton CreateButton();
    IWindow CreateWindow();
}

// 5. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ñ–∞–±—Ä–∏–∫–∏
// –ö–æ–∂–Ω–∞ —Ñ–∞–±—Ä–∏–∫–∞ —Å—Ç–≤–æ—Ä—é—î —Å—ñ–º–µ–π—Å—Ç–≤–æ –æ–±'—î–∫—Ç—ñ–≤ –¥–ª—è –ø–µ–≤–Ω–æ—ó —Ç–µ–º–∏
public class LightUIFactory : IUIFactory
{
    public IButton CreateButton()
    {
        return new LightButton();
    }

    public IWindow CreateWindow()
    {
        return new LightWindow();
    }
}

public class DarkUIFactory : IUIFactory
{
    public IButton CreateButton()
    {
        return new DarkButton();
    }

    public IWindow CreateWindow()
    {
        return new DarkWindow();
    }
}

// 6. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Application
{
    private readonly IButton _button;
    private readonly IWindow _window;

    public Application(IUIFactory factory)
    {
        _button = factory.CreateButton();
        _window = factory.CreateWindow();
    }

    public void RenderUI()
    {
        _button.Render();
        _window.Render();
    }
}

public class Program
{
    public static void Main(string[] args)
    {
        Console.WriteLine("–ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∑ —Å–≤—ñ—Ç–ª–æ—é —Ç–µ–º–æ—é:");
        IUIFactory lightFactory = new LightUIFactory();
        Application lightApp = new Application(lightFactory);
        lightApp.RenderUI();

        Console.WriteLine("\n–ó–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –∑ —Ç–µ–º–Ω–æ—é —Ç–µ–º–æ—é:");
        IUIFactory darkFactory = new DarkUIFactory();
        Application darkApp = new Application(darkFactory);
        darkApp.RenderUI();
    }
}
```

### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ (`IButton`, `IWindow`)**: –í—Å—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ (–∫–Ω–æ–ø–∫–∏, –≤—ñ–∫–Ω–∞) —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å —Ü—ñ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏, —â–æ –¥–æ–∑–≤–æ–ª—è—î –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–º—É –∫–æ–¥—É –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–∏–º–∏ —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ.
- **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∞ —Ñ–∞–±—Ä–∏–∫–∞ (`IUIFactory`)**: –¶–µ —Å–µ—Ä—Ü–µ –ø–∞—Ç–µ—Ä–Ω—É. –í–æ–Ω–∞ –≤–∏–∑–Ω–∞—á–∞—î –º–µ—Ç–æ–¥–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–ø—É –æ–±'—î–∫—Ç–∞ –≤ —Å—ñ–º–µ–π—Å—Ç–≤—ñ (`CreateButton`, `CreateWindow`).
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ñ–∞–±—Ä–∏–∫–∏ (`LightUIFactory`, `DarkUIFactory`)**: –ö–æ–∂–Ω–∞ —Ç–∞–∫–∞ —Ñ–∞–±—Ä–∏–∫–∞ —Ä–µ–∞–ª—ñ–∑—É—î `IUIFactory` —ñ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è **–ø–µ–≤–Ω–æ–≥–æ —Å—ñ–º–µ–π—Å—Ç–≤–∞** –ø—Ä–æ–¥—É–∫—Ç—ñ–≤. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ (–∫–ª–∞—Å `Application`) –æ—Ç—Ä–∏–º—É—î –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É —Ñ–∞–±—Ä–∏–∫—É —ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —ó—ó, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –ø–æ–≤–Ω–∏–π –Ω–∞–±—ñ—Ä –ø–æ—Ç—Ä—ñ–±–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤.

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **.NET Framework**: –ö–ª–∞—Å–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–∞–º–∏ –¥–∞–Ω–∏—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `DbProviderFactory`, `SqlConnection`, `SqlCommand`) —î —á—É–¥–æ–≤–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º. –í–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ —Ñ–∞–±—Ä–∏–∫—É `DbProviderFactory` –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫–∞, –∞ –≤–æ–Ω–∞ –≤–∂–µ —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç–∏ `Connection`, `Command`, `DataAdapter` –¥–ª—è —Ü—ñ—î—ó –°–£–ë–î.
- **IoC-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏**: –£ —Å—É—á–∞—Å–Ω–∏—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ASP.NET Core) —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω —á–∞—Å—Ç–æ —Ä–µ–∞–ª—ñ–∑—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω—ñ–∑–º Dependency Injection, –¥–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∏—Å—Ç—É–ø–∞—î —è–∫ —Ñ–∞–±—Ä–∏–∫–∞, —â–æ —Å—Ç–≤–æ—Ä—é—î —Ç–∞ –Ω–∞–¥–∞—î –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ.

### –¶—ñ–∫–∞–≤—ñ —Ç–∞ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ

- **–ì–Ω—É—á–∫—ñ—Å—Ç—å —ñ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å**: –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ (–∫–ª–∞—Å `Application`) –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–π –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π –æ–±'—î–∫—Ç—ñ–≤ —Ç–∞ —ó—Ö–Ω—ñ—Ö —Ñ–∞–±—Ä–∏–∫. –ô–æ–º—É –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏.
- **–ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —É–∑–≥–æ–¥–∂–µ–Ω–æ—Å—Ç—ñ**: –ü–∞—Ç–µ—Ä–Ω –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –≤—Å—ñ –æ–±'—î–∫—Ç–∏, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –æ–¥–Ω—ñ—î—é —Ñ–∞–±—Ä–∏–∫–æ—é, –Ω–∞–ª–µ–∂–∞—Ç—å –¥–æ –æ–¥–Ω–æ–≥–æ —Å—ñ–º–µ–π—Å—Ç–≤–∞. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏ –Ω—ñ–∫–æ–ª–∏ –Ω–µ –æ—Ç—Ä–∏–º–∞—î—Ç–µ "—Ç–µ–º–Ω—É –∫–Ω–æ–ø–∫—É" –∑ "—Ñ–∞–±—Ä–∏–∫–∏ –¥–ª—è —Å–≤—ñ—Ç–ª–æ—ó —Ç–µ–º–∏".


* * *

## –ü–∞—Ç–µ—Ä–Ω Builder (–ë—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫)

### –ú–µ—Ç–∞

**Builder** ‚Äî —Ü–µ –ø–æ—Ä–æ–¥–∂—É–≤–∞–ª—å–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –≤—ñ–¥–æ–∫—Ä–µ–º–ª—é—î –∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –≤—ñ–¥ –π–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è, —â–æ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –π —Ç–æ–≥–æ –∂ –ø—Ä–æ—Ü–µ—Å—É –∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞–Ω–Ω—è. –ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω –¥–æ–ø–æ–º–∞–≥–∞—î –±—É–¥—É–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ –∫—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º, –æ—Å–æ–±–ª–∏–≤–æ –∫–æ–ª–∏ —Ü—ñ –æ–±'—î–∫—Ç–∏ –º–∞—é—Ç—å –±–∞–≥–∞—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤ –∞–±–æ —Å–∫–ª–∞–¥–Ω—É –≤–Ω—É—Ç—Ä—ñ—à–Ω—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Builder**, –∫–æ–ª–∏:

- **–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –æ–±'—î–∫—Ç–∞ –º—ñ—Å—Ç–∏—Ç—å –±–∞–≥–∞—Ç–æ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤.** –Ø–∫—â–æ —É –≤–∞—Å —î –∫–ª–∞—Å –∑ 5-10 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —ñ –≤–∏ –ø–æ—Å—Ç—ñ–π–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –æ–±'—î–∫—Ç, –ø–µ—Ä–µ–¥–∞—é—á–∏ `null` –∞–±–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –¥–ª—è –Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤, —Ü–µ —ñ–¥–µ–∞–ª—å–Ω–∏–π –∫–∞–Ω–¥–∏–¥–∞—Ç –¥–ª—è –ø–∞—Ç–µ—Ä–Ω–∞ Builder.
- **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤ –∫—ñ–ª—å–∫–∞ –µ—Ç–∞–ø—ñ–≤.** –û–±'—î–∫—Ç –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∑–∞ –æ–¥–∏–Ω –≤–∏–∫–ª–∏–∫, –∞ –≤–∏–º–∞–≥–∞—î –ø–æ–µ—Ç–∞–ø–Ω–æ—ó –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó.
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –æ–¥–Ω–æ–≥–æ –π —Ç–æ–≥–æ –∂ –æ–±'—î–∫—Ç–∞.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–±'—î–∫—Ç `–ó–≤—ñ—Ç` –º–æ–∂–µ –º–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏ (PDF, HTML) –∞–±–æ –º—ñ—Å—Ç–∏—Ç–∏ —Ä—ñ–∑–Ω—ñ —Ä–æ–∑–¥—ñ–ª–∏. Builder –¥–æ–∑–≤–æ–ª—è—î –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ –ø—Ä–æ—Ü–µ—Å –ø–æ–±—É–¥–æ–≤–∏ –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤.

### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–î–∞–≤–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–∏–º–æ –ø—Ä–∏–∫–ª–∞–¥, –¥–µ –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω–∏–π –æ–±'—î–∫—Ç `–ê–≤—Ç–æ–º–æ–±—ñ–ª—å`. –í—ñ–Ω –º–∞—î –¥–≤–∏–≥—É–Ω, –∫–æ–ª–µ—Å–∞, –∫–æ–ª—ñ—Ä —Ç–∞ —ñ–Ω—à—ñ –æ–ø—Ü—ñ—ó. –ó–∞–º—ñ—Å—Ç—å –æ–¥–Ω–æ–≥–æ –≤–µ–ª–∏–∫–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, –º–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—î–º–æ Builder.

C#

```
// 1. –ö–ª–∞—Å –ø—Ä–æ–¥—É–∫—Ç—É
// –°–∫–ª–∞–¥–Ω–∏–π –æ–±'—î–∫—Ç, —è–∫–∏–π –º–∏ —Ö–æ—á–µ–º–æ –ø–æ–±—É–¥—É–≤–∞—Ç–∏
public class Car
{
    public string Engine { get; set; }
    public string Color { get; set; }
    public int Wheels { get; set; } = 4;
    public bool HasGPS { get; set; } = false;

    public void Display()
    {
        Console.WriteLine($"Car: {Color}, Engine: {Engine}, Wheels: {Wheels}, GPS: {HasGPS}");
    }
}

// 2. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫–∞
// –í–∏–∑–Ω–∞—á–∞—î –º–µ—Ç–æ–¥–∏ –¥–ª—è –ø–æ–∫—Ä–æ–∫–æ–≤–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞–Ω–Ω—è
public interface ICarBuilder
{
    void SetEngine(string engine);
    void SetColor(string color);
    void SetWheels(int wheels);
    void SetGPS(bool hasGPS);
    Car GetCar();
}

// 3. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫
// –†–µ–∞–ª—ñ–∑—É—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —ñ –º—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫—É –ø–æ–±—É–¥–æ–≤–∏
public class CarBuilder : ICarBuilder
{
    private Car _car = new Car();

    public void SetEngine(string engine)
    {
        _car.Engine = engine;
    }

    public void SetColor(string color)
    {
        _car.Color = color;
    }

    public void SetWheels(int wheels)
    {
        _car.Wheels = wheels;
    }
    
    public void SetGPS(bool hasGPS)
    {
        _car.HasGPS = hasGPS;
    }

    public Car GetCar()
    {
        // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –≥–æ—Ç–æ–≤–∏–π –æ–±'—î–∫—Ç —ñ —Å–∫–∏–¥–∞—î–º–æ –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω
        Car finalCar = _car;
        _car = new Car(); // –°–∫–∏–¥–∞—î–º–æ –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫–∞ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
        return finalCar;
    }
}

// 4. –î–∏—Ä–µ–∫—Ç–æ—Ä (Director)
// –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∫–ª–∞—Å, —è–∫–∏–π —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –ª–æ–≥—ñ–∫—É –∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞–Ω–Ω—è
// —Ç–∏–ø–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤. –†–æ–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å —â–µ –ø—Ä–æ—Å—Ç—ñ—à–∏–º.
public class CarDirector
{
    public void ConstructSportsCar(ICarBuilder builder)
    {
        builder.SetEngine("V8");
        builder.SetColor("Red");
        builder.SetWheels(4);
        builder.SetGPS(true);
    }
    
    public void ConstructBasicCar(ICarBuilder builder)
    {
        builder.SetEngine("V4");
        builder.SetColor("White");
        builder.SetWheels(4);
        builder.SetGPS(false);
    }
}

// 5. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        ICarBuilder builder = new CarBuilder();
        CarDirector director = new CarDirector();

        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–ø–æ—Ä—Ç–∫–∞—Ä–∞ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
        director.ConstructSportsCar(builder);
        Car sportsCar = builder.GetCar();
        sportsCar.Display(); // –í–∏–≤–µ–¥–µ: Car: Red, Engine: V8, Wheels: 4, GPS: True

        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –±–∞–∑–æ–≤–æ–≥–æ –∞–≤—Ç–æ –≤—Ä—É—á–Ω—É, –±–µ–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞
        builder.SetEngine("Electric");
        builder.SetColor("Blue");
        builder.SetGPS(true);
        Car customCar = builder.GetCar();
        customCar.Display(); // –í–∏–≤–µ–¥–µ: Car: Blue, Engine: Electric, Wheels: 4, GPS: True
    }
}
```

### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–ö–ª–∞—Å –ø—Ä–æ–¥—É–∫—Ç—É (`Car`)**: –°–∞–º –ø–æ —Å–æ–±—ñ —î –ø—Ä–æ—Å—Ç–∏–º –æ–±'—î–∫—Ç–æ–º –¥–∞–Ω–∏—Ö. –ô–æ–≥–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –º–æ–∂–µ –±—É—Ç–∏ –Ω–∞–≤—ñ—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–∏–º, —â–æ–± –ø—Ä–∏–º—É—Å–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Builder.
- **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫–∞ (`ICarBuilder`)**: –í–∏–∑–Ω–∞—á–∞—î –∫—Ä–æ–∫–∏, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω–∞—Ç–∏ –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ –æ–±'—î–∫—Ç–∞. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–ª—ñ—î–Ω—Ç—É –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫–æ–º, –Ω–µ –∑–Ω–∞—é—á–∏ –π–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó.
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫ (`CarBuilder`)**: –ú—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫—É –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—É. –ú–µ—Ç–æ–¥–∏ —Ü—å–æ–≥–æ –∫–ª–∞—Å—É –Ω–µ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å `void`, –∞ –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å —Å–∞–º –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫, —â–æ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∑—Ä—É—á–Ω—ñ –ª–∞–Ω—Ü—é–∂–∫–∏ –≤–∏–∫–ª–∏–∫—ñ–≤ (Fluent Interface), —è–∫ —É –ø—Ä–∏–∫–ª–∞–¥—ñ –∑ `Factory Builder`.
- **–î–∏—Ä–µ–∫—Ç–æ—Ä (`CarDirector`)**: –ù–µ —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º, –∞–ª–µ –¥—É–∂–µ –∫–æ—Ä–∏—Å–Ω–∏–π. –í—ñ–Ω —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –ª–æ–≥—ñ–∫—É –ø–æ–±—É–¥–æ–≤–∏ —Ç–∏–ø–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–ª—ñ—î–Ω—Ç—É —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±'—î–∫—Ç, –ø—Ä–æ—Å—Ç–æ –≤–∏–±—Ä–∞–≤—à–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –º–µ—Ç–æ–¥ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞.

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **.NET Framework**: –ö–ª–∞—Å `StringBuilder` —î —á—É–¥–æ–≤–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º. –í–∏ –∫—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º –¥–æ–¥–∞—î—Ç–µ —Ä—è–¥–∫–∏, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ –º–µ—Ç–æ–¥ `ToString()` –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫—ñ–Ω—Ü–µ–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.
- **ASP.NET Core**: –ß–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó middleware. –õ–∞–Ω—Ü—é–∂–æ–∫ –≤–∏–∫–ª–∏–∫—ñ–≤ `app.Use...()` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `app.UseStaticFiles().UseRouting()...`) –¥—É–∂–µ –Ω–∞–≥–∞–¥—É—î –ø–∞—Ç–µ—Ä–Ω Builder.

### –¶—ñ–∫–∞–≤—ñ —Ç–∞ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ

- **–ì–Ω—É—á–∫—ñ—Å—Ç—å —É –∫–æ–Ω—Å—Ç—Ä—É—é–≤–∞–Ω–Ω—ñ**: –í–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–±'—î–∫—Ç –∑ –±—É–¥—å-—è–∫–æ—é –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—î—é –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤, –≤–∏–∫–ª–∏–∫–∞—é—á–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –º–µ—Ç–æ–¥–∏ –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫–∞ –≤ –±—É–¥—å-—è–∫–æ–º—É –ø–æ—Ä—è–¥–∫—É.
- **–†–æ–∑—à–∏—Ä—é–≤–∞–Ω—ñ—Å—Ç—å**: –Ø–∫—â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç –ø–æ–±—É–¥–æ–≤–∏, –≤–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π –º–µ—Ç–æ–¥ —É `CarDirector` –∞–±–æ –Ω–æ–≤–∏–π –∫–ª–∞—Å, —â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –±—É–¥—ñ–≤–µ–ª—å–Ω–∏–∫–∞, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É —Å–∞–º –∫–ª–∞—Å `Car` —á–∏ `ICarBuilder`.
- **–ß–∏—Å—Ç–∏–π –∫–æ–¥**: –ó–∞–º—ñ—Å—Ç—å –Ω–µ–∑—Ä–æ–∑—É–º—ñ–ª–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—ñ–≤ –∑ –±–µ–∑–ª—ñ—á—á—é –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤, –≤–∏ –æ—Ç—Ä–∏–º—É—î—Ç–µ —Å–∞–º–æ–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤–∞–Ω–∏–π –∫–æ–¥, —è–∫–∏–π —á—ñ—Ç–∫–æ –ø–æ–∫–∞–∑—É—î, —â–æ —ñ —è–∫ –≤–∏ –±—É–¥—É—î—Ç–µ.


* * *

## –ü–∞—Ç–µ—Ä–Ω Adapter (–ê–¥–∞–ø—Ç–µ—Ä)

### –ú–µ—Ç–∞

**–ê–¥–∞–ø—Ç–µ—Ä** ‚Äî —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω, —â–æ –¥–æ–∑–≤–æ–ª—è—î –æ–±'—î–∫—Ç–∞–º –∑ –Ω–µ—Å—É–º—ñ—Å–Ω–∏–º–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ —Ä–∞–∑–æ–º. –í—ñ–Ω –≤–∏—Å—Ç—É–ø–∞—î —è–∫ "–ø–µ—Ä–µ–∫–ª–∞–¥–∞—á" –º—ñ–∂ –¥–≤–æ–º–∞ –æ–±'—î–∫—Ç–∞–º–∏, –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—é—á–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–¥–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –Ω–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —è–∫–∏–π –æ—á—ñ–∫—É—î –∫–ª—ñ—î–Ω—Ç.

### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Adapter**, –∫–æ–ª–∏:

- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á–∏–π –∫–ª–∞—Å, —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —è–∫–æ–≥–æ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –≤–∞—à–∏–º –ø–æ—Ç—Ä–µ–±–∞–º.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —É –≤–∞—Å —î —Å—Ç–æ—Ä–æ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ –∑ –∫–ª–∞—Å–æ–º –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö, –∞–ª–µ —ó—ó –º–µ—Ç–æ–¥–∏ –Ω–µ –∑–±—ñ–≥–∞—é—Ç—å—Å—è –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≤–∞—à –¥–æ–¥–∞—Ç–æ–∫.
- **–í–∏ —Ö–æ—á–µ—Ç–µ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É —Å—Ç–∞—Ä—ñ (legacy) –∫–ª–∞—Å–∏, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ —ó—Ö.** –ê–¥–∞–ø—Ç–µ—Ä –¥–æ–∑–≤–æ–ª—è—î "–æ–±–µ—Ä–Ω—É—Ç–∏" —Å—Ç–∞—Ä–∏–π –∫–ª–∞—Å, –Ω–∞–¥–∞–≤—à–∏ –π–æ–º—É –Ω–æ–≤–∏–π, —Å—É—á–∞—Å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –Ω–µ –≤–Ω–æ—Å—è—á–∏ –∑–º—ñ–Ω —É –≤–∏—Ö—ñ–¥–Ω–∏–π –∫–æ–¥.
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–µ–Ω —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤.** –í–∏ –º–æ–∂–µ—Ç–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ –æ–¥–∏–Ω –∞–¥–∞–ø—Ç–µ—Ä, —è–∫–∏–π –ø—Ä–∏–≤–æ–¥–∏—Ç—å —Ä—ñ–∑–Ω—ñ –∫–ª–∞—Å–∏ –¥–æ —î–¥–∏–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É, —â–æ —Å–ø—Ä–æ—â—É—î —Ä–æ–±–æ—Ç—É –∑ –Ω–∏–º–∏.

### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ—Ç—å, —â–æ –º–∏ —Ä–æ–∑—Ä–æ–±–ª—è—î–º–æ –ø—Ä–æ–≥—Ä–∞–º—É –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–º–∏ –∫–Ω–∏–≥–∞–º–∏. –£ –Ω–∞—Å —î —ñ—Å–Ω—É—é—á–∏–π –∫–ª–∞—Å `LegacyEbookReader`, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –∑ —Ñ–æ—Ä–º–∞—Ç–æ–º PDF. –ê–ª–µ –Ω–∞—à –Ω–æ–≤–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –æ—á—ñ–∫—É—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `IEbook`.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–ª—ñ—î–Ω—Ç–∞ (Target)
// –¶–µ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —è–∫–∏–π –æ—á—ñ–∫—É—î –Ω–∞—à –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥.
public interface IEbook
{
    void Open();
    string GetContent();
}

// 2. –Ü—Å–Ω—É—é—á–∏–π –Ω–µ—Å—É–º—ñ—Å–Ω–∏–π –∫–ª–∞—Å (Adaptee)
// –¶–µ–π –∫–ª–∞—Å –º–∏ –Ω–µ –º–æ–∂–µ–º–æ –∑–º—ñ–Ω–∏—Ç–∏, –±–æ –≤—ñ–Ω –∑ —ñ–Ω—à–æ—ó –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏.
public class LegacyEbookReader
{
    public void StartReading()
    {
        Console.WriteLine("Legacy reader starts reading a PDF document.");
    }

    public string GetPdfContent()
    {
        return "This is a PDF content from the legacy reader.";
    }
}

// 3. –ö–ª–∞—Å-–∞–¥–∞–ø—Ç–µ—Ä (Adapter)
// –ê–¥–∞–ø—Ç–µ—Ä "–ø–µ—Ä–µ–∫–ª–∞–¥–∞—î" —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å LegacyEbookReader –Ω–∞ IEbook.
public class EbookAdapter : IEbook
{
    private readonly LegacyEbookReader _legacyReader;

    public EbookAdapter(LegacyEbookReader legacyReader)
    {
        _legacyReader = legacyReader;
    }

    public void Open()
    {
        // –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ –≤–∏–∫–ª–∏–∫ Open() –Ω–∞ StartReading()
        _legacyReader.StartReading();
    }

    public string GetContent()
    {
        // –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ –≤–∏–∫–ª–∏–∫ GetContent() –Ω–∞ GetPdfContent()
        return _legacyReader.GetPdfContent();
    }
}

// 4. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Client
{
    public void ReadEbook(IEbook ebook)
    {
        ebook.Open();
        string content = ebook.GetContent();
        Console.WriteLine($"Client received content: {content}");
    }
}

public class Program
{
    public static void Main(string[] args)
    {
        // –ù–∞—à —Å—Ç–∞—Ä–∏–π –∫–ª–∞—Å, —è–∫–∏–π –Ω–µ —Å—É–º—ñ—Å–Ω–∏–π –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º IEbook
        LegacyEbookReader legacyReader = new LegacyEbookReader();

        // –°—Ç–≤–æ—Ä—é—î–º–æ –∞–¥–∞–ø—Ç–µ—Ä, —è–∫–∏–π –æ–±–µ—Ä—Ç–∞—î —Å—Ç–∞—Ä–∏–π –∫–ª–∞—Å
        IEbook ebook = new EbookAdapter(legacyReader);

        // –ö–ª—ñ—î–Ω—Ç –ø—Ä–∞—Ü—é—î –∑ –∞–¥–∞–ø—Ç–µ—Ä–æ–º, –Ω–µ –∑–Ω–∞—é—á–∏ –ø—Ä–æ —ñ—Å–Ω—É–≤–∞–Ω–Ω—è —Å—Ç–∞—Ä–æ–≥–æ –∫–ª–∞—Å—É
        Client client = new Client();
        client.ReadEbook(ebook);
    }
}
```

### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Target):** –¶–µ `IEbook`. –í—ñ–Ω –≤–∏–∑–Ω–∞—á–∞—î, —è–∫ –∫–ª—ñ—î–Ω—Ç (–∫–ª–∞—Å `Client`) –æ—á—ñ–∫—É—î –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏ –∑ –æ–±'—î–∫—Ç–∞–º–∏.
- **–ù–µ—Å—É–º—ñ—Å–Ω–∏–π –∫–ª–∞—Å (Adaptee):** –¶–µ `LegacyEbookReader`. –ö–ª–∞—Å –∑ –Ω–µ—Å—É–º—ñ—Å–Ω–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, —è–∫–∏–π –º–∏ —Ö–æ—á–µ–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏.
- **–ê–¥–∞–ø—Ç–µ—Ä (Adapter):** –¶–µ `EbookAdapter`. –í—ñ–Ω —Ä–µ–∞–ª—ñ–∑—É—î –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IEbook` —ñ –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç `LegacyEbookReader`. –£ —Å–≤–æ—ó—Ö –º–µ—Ç–æ–¥–∞—Ö –∞–¥–∞–ø—Ç–µ—Ä –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î –≤–∏–∫–ª–∏–∫–∏ –∫–ª—ñ—î–Ω—Ç–∞ –¥–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ –Ω–µ—Å—É–º—ñ—Å–Ω–æ–≥–æ –∫–ª–∞—Å—É, "–ø–µ—Ä–µ–∫–ª–∞–¥–∞—é—á–∏" —ó—Ö. –¶–µ –ø—Ä–∏–∫–ª–∞–¥ **–∞–¥–∞–ø—Ç–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü—ñ—é**.

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **Entity Framework Core:** –ü—ñ–¥ —á–∞—Å —Ä–æ–±–æ—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –±–∞–∑–∞–º–∏ –¥–∞–Ω–∏—Ö (SQL Server, PostgreSQL, SQLite), –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∏ –±–∞–∑ –¥–∞–Ω–∏—Ö –¥—ñ—é—Ç—å —è–∫ –∞–¥–∞–ø—Ç–µ—Ä–∏, –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—é—á–∏ –∑–∞–≥–∞–ª—å–Ω—ñ –∑–∞–ø–∏—Ç–∏ LINQ —Ç–∞ –∫–æ–º–∞–Ω–¥–∏ EF –Ω–∞ —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π SQL-–¥—ñ–∞–ª–µ–∫—Ç –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—ó –°–£–ë–î.
- **API Gateway:** –£ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–Ω—ñ–π –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä—ñ, API Gateway –º–æ–∂–µ –≤–∏—Å—Ç—É–ø–∞—Ç–∏ —è–∫ –∞–¥–∞–ø—Ç–µ—Ä, —è–∫–∏–π –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î –∑–∞–ø–∏—Ç–∏ –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç—ñ–≤ –Ω–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏, —â–æ —ó—Ö —Ä–æ–∑—É–º—ñ—é—Ç—å —Ä—ñ–∑–Ω—ñ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–∏.

### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–ì–Ω—É—á–∫—ñ—Å—Ç—å —ñ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ—Å—Ç—å:** –ê–¥–∞–ø—Ç–µ—Ä –¥–æ–∑–≤–æ–ª—è—î —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–π –∫–æ–¥ –±–µ–∑ –∑–º—ñ–Ω–∏ —ñ—Å–Ω—É—é—á–æ–≥–æ, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø—Ä–∏–Ω—Ü–∏–ø—É **Open/Closed (O)**.
- **–Ü–Ω–≤–µ—Ä—Å—ñ—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π:** –ó–∞–≤–¥—è–∫–∏ –∞–¥–∞–ø—Ç–µ—Ä—É –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ –∑–∞–ª–µ–∂–∏—Ç—å –ª–∏—à–µ –≤—ñ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó (`IEbook`), –∞ –Ω–µ –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –Ω–µ—Å—É–º—ñ—Å–Ω–æ–≥–æ –∫–ª–∞—Å—É (`LegacyEbookReader`). –¶–µ –¥–æ–ø–æ–º–∞–≥–∞—î –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è **Dependency Inversion Principle (DIP)**.
- **–ü–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –í–∏ –º–æ–∂–µ—Ç–µ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Å—Ç–∞—Ä–∏–π, –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–∏–π —á–∞—Å–æ–º –∫–æ–¥, –Ω–µ –ø–µ—Ä–µ–ø–∏—Å—É—é—á–∏ –π–æ–≥–æ.


* * *

### –ü–∞—Ç–µ—Ä–Ω Decorator (–î–µ–∫–æ—Ä–∞—Ç–æ—Ä)

#### –ú–µ—Ç–∞

**–î–µ–∫–æ—Ä–∞—Ç–æ—Ä** ‚Äî —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –¥–∏–Ω–∞–º—ñ—á–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –æ–±–æ–≤'—è–∑–∫–∏ —Ç–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫—É –æ–±'—î–∫—Ç—É, –æ–±–µ—Ä—Ç–∞—é—á–∏ –π–æ–≥–æ –≤ —ñ–Ω—à–∏–π –æ–±'—î–∫—Ç-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä. –í—ñ–Ω –∑–∞–±–µ–∑–ø–µ—á—É—î –≥–Ω—É—á–∫—É –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—é –¥–ª—è —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω, –∫–æ–ª–∏:

- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –∞–±–æ –≤–∏–¥–∞–ª—è—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –æ–±'—î–∫—Ç–∞ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏.** –ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è, –¥–µ –≤–∏ –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å –≤–∏–∑–Ω–∞—á–∞—î—Ç–µ –≤—Å—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –¥–æ–∑–≤–æ–ª—è—î –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ –≤ –±—É–¥—å-—è–∫–æ–º—É –ø–æ—Ä—è–¥–∫—É.
- **–í–∏ —Ö–æ—á–µ—Ç–µ —É–Ω–∏–∫–Ω—É—Ç–∏ "–≤–∏–±—É—Ö—É" –∫–ª–∞—Å—ñ–≤, –ø–æ–≤'—è–∑–∞–Ω–æ–≥–æ –∑ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è–º.** –Ø–∫—â–æ —É –≤–∞—Å —î –∫–ª–∞—Å —ñ –±–µ–∑–ª—ñ—á –π–æ–≥–æ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ–π –∑ —Ä—ñ–∑–Ω–∏–º–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ —Ñ—É–Ω–∫—Ü—ñ—è–º–∏, —Ç–æ –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó –¥–æ–≤–µ–¥–µ—Ç—å—Å—è —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–æ–≤–∏–π –ø—ñ–¥–∫–ª–∞—Å. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –≤–∏—Ä—ñ—à—É—î —Ü—é –ø—Ä–æ–±–ª–µ–º—É, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –æ–±–≥–æ—Ä—Ç–∞—Ç–∏ –±–∞–∑–æ–≤–∏–π –æ–±'—î–∫—Ç —Ä—ñ–∑–Ω–∏–º–∏ "–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º–∏".

–¶–µ–π –ø–∞—Ç–µ—Ä–Ω —î —ñ–¥–µ–∞–ª—å–Ω–∏–º –≤—Ç—ñ–ª–µ–Ω–Ω—è–º –ø—Ä–∏–Ω—Ü–∏–ø—É **Open/Closed (O)**: –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å (–¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏), –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ —ñ—Å–Ω—É—é—á–∏–π –∫–æ–¥ –±–∞–∑–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ—Ç—å, —â–æ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∫–∞–≤–∏. –£ –Ω–∞—Å —î –±–∞–∑–æ–≤–∏–π –æ–±'—î–∫—Ç `Beverage` (–Ω–∞–ø—ñ–π), —ñ –º–∏ —Ö–æ—á–µ–º–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –¥–æ –Ω—å–æ–≥–æ —Ä—ñ–∑–Ω—ñ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏, —Ç–∞–∫—ñ —è–∫ –º–æ–ª–æ–∫–æ, —Ü—É–∫–æ—Ä, –∑–±–∏—Ç—ñ –≤–µ—Ä—à–∫–∏, –∑–±—ñ–ª—å—à—É—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É –π–æ–≥–æ –≤–∞—Ä—Ç—ñ—Å—Ç—å.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
// –í–∏–∑–Ω–∞—á–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –±–∞–∑–æ–≤–æ–≥–æ –æ–±'—î–∫—Ç–∞ —ñ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤.
public interface IBeverage
{
    string GetDescription();
    double GetCost();
}

// 2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–±–∞–∑–æ–≤–∏–π –æ–±'—î–∫—Ç)
// –¶–µ –Ω–∞—à –ø–æ—á–∞—Ç–∫–æ–≤–∏–π, "–≥–æ–ª–∏–π" –æ–±'—î–∫—Ç, —è–∫–∏–π –º–∏ –±—É–¥–µ–º–æ –¥–µ–∫–æ—Ä—É–≤–∞—Ç–∏.
public class Coffee : IBeverage
{
    public string GetDescription()
    {
        return "Simple Coffee";
    }

    public double GetCost()
    {
        return 5.0; // –ë–∞–∑–æ–≤–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –∫–∞–≤–∏
    }
}

// 3. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –∫–ª–∞—Å-–¥–µ–∫–æ—Ä–∞—Ç–æ—Ä
// –ú—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç IBeverage —ñ —Ä–µ–∞–ª—ñ–∑—É—î –π–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
public abstract class BeverageDecorator : IBeverage
{
    protected IBeverage _beverage;

    public BeverageDecorator(IBeverage beverage)
    {
        _beverage = beverage;
    }

    // –î–µ–ª–µ–≥—É—î–º–æ –≤–∏–∫–ª–∏–∫–∏ –¥–æ –æ–±–≥–æ—Ä–Ω—É—Ç–æ–≥–æ –æ–±'—î–∫—Ç–∞.
    public virtual string GetDescription() => _beverage.GetDescription();
    public virtual double GetCost() => _beverage.GetCost();
}

// 4. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏
// –î–æ–¥–∞—é—Ç—å –Ω–æ–≤—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É –∞–±–æ –∑–º—ñ–Ω—é—é—Ç—å —ñ—Å–Ω—É—é—á—É.
public class MilkDecorator : BeverageDecorator
{
    public MilkDecorator(IBeverage beverage) : base(beverage) { }

    public override string GetDescription() => $"{_beverage.GetDescription()}, Milk";
    
    public override double GetCost() => _beverage.GetCost() + 2.0;
}

public class SugarDecorator : BeverageDecorator
{
    public SugarDecorator(IBeverage beverage) : base(beverage) { }

    public override string GetDescription() => $"{_beverage.GetDescription()}, Sugar";
    
    public override double GetCost() => _beverage.GetCost() + 0.5;
}

// 5. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        // –°—Ç–≤–æ—Ä—é—î–º–æ –±–∞–∑–æ–≤–∏–π –æ–±'—î–∫—Ç
        IBeverage myCoffee = new Coffee();
        Console.WriteLine($"–ù–∞–ø—ñ–π: {myCoffee.GetDescription()} | –í–∞—Ä—Ç—ñ—Å—Ç—å: {myCoffee.GetCost()} –≥—Ä–Ω");

        // –î–µ–∫–æ—Ä—É—î–º–æ –∫–∞–≤—É –º–æ–ª–æ–∫–æ–º
        myCoffee = new MilkDecorator(myCoffee);
        Console.WriteLine($"–ù–∞–ø—ñ–π: {myCoffee.GetDescription()} | –í–∞—Ä—Ç—ñ—Å—Ç—å: {myCoffee.GetCost()} –≥—Ä–Ω");

        // –î–µ–∫–æ—Ä—É—î–º–æ —ó—ó —â–µ –π —Ü—É–∫—Ä–æ–º
        myCoffee = new SugarDecorator(myCoffee);
        Console.WriteLine($"–ù–∞–ø—ñ–π: {myCoffee.GetDescription()} | –í–∞—Ä—Ç—ñ—Å—Ç—å: {myCoffee.GetCost()} –≥—Ä–Ω");
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

1. **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (`IBeverage`)**: –¶–µ –∫–ª—é—á–æ–≤–∞ —á–∞—Å—Ç–∏–Ω–∞ –ø–∞—Ç–µ—Ä–Ω—É. –í—ñ–Ω –≤–∏–∑–Ω–∞—á–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç, —è–∫–∏–π –ø–æ–≤–∏–Ω–Ω—ñ —Ä–µ–∞–ª—ñ–∑–æ–≤—É–≤–∞—Ç–∏ —è–∫ –±–∞–∑–æ–≤–∏–π –æ–±'—î–∫—Ç (`Coffee`), —Ç–∞–∫ —ñ –≤—Å—ñ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ (`MilkDecorator`, `SugarDecorator`).
2. **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä (`BeverageDecorator`)**: –¶–µ–π –∫–ª–∞—Å —É—Å–ø–∞–¥–∫–æ–≤—É—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IBeverage` —ñ –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç —Ü—å–æ–≥–æ –∂ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É. –¶–µ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ª–∞–Ω—Ü—é–∂–æ–∫ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ñ–≤.
3. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏**: –ö–æ–∂–µ–Ω —Ç–∞–∫–∏–π –∫–ª–∞—Å —É—Å–ø–∞–¥–∫–æ–≤—É—î `BeverageDecorator` —ñ –¥–æ–¥–∞—î –≤–ª–∞—Å–Ω—É –ª–æ–≥—ñ–∫—É. –í –Ω–∞—à–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –≤–æ–Ω–∏ –∑–º—ñ–Ω—é—é—Ç—å –æ–ø–∏—Å —ñ –≤–∞—Ä—Ç—ñ—Å—Ç—å, –∞–ª–µ –º–æ–≥–ª–∏ –± –¥–æ–¥–∞–≤–∞—Ç–∏ –π —ñ–Ω—à—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **.NET Framework**: –ö–ª–∞—Å–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ø–æ—Ç–æ–∫–∞–º–∏ (`Stream`) —î —á—É–¥–æ–≤–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, `FileStream` –º–æ–∂–Ω–∞ –æ–±–≥–æ—Ä–Ω—É—Ç–∏ –≤ `BufferedStream`, —â–æ–± –¥–æ–¥–∞—Ç–∏ –±—É—Ñ–µ—Ä–∏–∑–∞—Ü—ñ—é, –∞ –ø–æ—Ç—ñ–º –≤ `CryptoStream`, —â–æ–± –¥–æ–¥–∞—Ç–∏ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è.
- **ASP.NET Core**: –ú–µ—Ö–∞–Ω—ñ–∑–º middleware –¥—É–∂–µ —Å—Ö–æ–∂–∏–π –Ω–∞ –ø–∞—Ç–µ—Ä–Ω –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä, –¥–µ –∫–æ–∂–µ–Ω middleware-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç "–æ–±–≥–æ—Ä—Ç–∞—î" –Ω–∞—Å—Ç—É–ø–Ω–∏–π, –¥–æ–¥–∞—é—á–∏ —Å–≤–æ—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é, –ª–æ–≥—É–≤–∞–Ω–Ω—è).

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –í–∏ –º–æ–∂–µ—Ç–µ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∏ –≤ –±—É–¥—å-—è–∫–æ–º—É –ø–æ—Ä—è–¥–∫—É, —Å—Ç–≤–æ—Ä—é—é—á–∏ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó –ø–æ–≤–µ–¥—ñ–Ω–∫–∏.
- **–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è**: –ó–∞–º—ñ—Å—Ç—å —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫–ª–∞–¥–Ω–∏—Ö —ñ—î—Ä–∞—Ä—Ö—ñ–π –∫–ª–∞—Å—ñ–≤, –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –∫–æ–º–ø–æ–∑–∏—Ü—ñ—é, —â–æ —Ä–æ–±–∏—Ç—å –≤–∞—à –∫–æ–¥ —á–∏—Å—Ç—ñ—à–∏–º —ñ –ø—Ä–æ—Å—Ç—ñ—à–∏–º –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.

* * *


### –ü–∞—Ç–µ—Ä–Ω Composite (–ö–æ–º–ø–æ–∑–∏—Ç)

#### –ú–µ—Ç–∞

**–ö–æ–º–ø–æ–∑–∏—Ç** ‚Äî —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –≥—Ä—É–ø—É–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ –≤ –¥–µ—Ä–µ–≤–æ–ø–æ–¥—ñ–±–Ω—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏, —â–æ–± –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –æ–∫—Ä–µ–º–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏ —Ç–∞ —ó—Ö –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ –æ–¥–Ω–∞–∫–æ–≤–æ. –¶–µ –¥–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –±—É–¥—É–≤–∞—Ç–∏ —ñ—î—Ä–∞—Ä—Ö—ñ—ó —Ç–∏–ø—É "—á–∞—Å—Ç–∏–Ω–∞-—Ü—ñ–ª–µ", –¥–µ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–æ –æ–∫—Ä–µ–º–∏—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –∞–±–æ –¥–æ —Ü—ñ–ª–∏—Ö –∫–æ–º–ø–æ–∑–∏—Ç—ñ–≤ (–≥—Ä—É–ø).

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω, –∫–æ–ª–∏:

- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ —ñ—î—Ä–∞—Ä—Ö—ñ—é –æ–±'—î–∫—Ç—ñ–≤ —Ç–∏–ø—É "—á–∞—Å—Ç–∏–Ω–∞-—Ü—ñ–ª–µ"**. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —ñ—î—Ä–∞—Ä—Ö—ñ—è —Ñ–∞–π–ª—ñ–≤ —ñ –ø–∞–ø–æ–∫, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ñ–≤ —É –∫–æ–º–ø–∞–Ω—ñ—ó –∞–±–æ –µ–ª–µ–º–µ–Ω—Ç–∏ –≥—Ä–∞—Ñ—ñ—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É (–≤—ñ–∫–Ω–∞, –∫–Ω–æ–ø–∫–∏, –ø–∞–Ω–µ–ª—ñ, —â–æ –º—ñ—Å—Ç—è—Ç—å —ñ–Ω—à—ñ –µ–ª–µ–º–µ–Ω—Ç–∏).
- **–ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ –ø–æ–≤–∏–Ω–µ–Ω –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –æ–∫—Ä–µ–º–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏ —Ç–∞ –≥—Ä—É–ø–∞–º–∏ –æ–±'—î–∫—Ç—ñ–≤ –æ–¥–Ω–∞–∫–æ–≤–æ.** –í–∏ –º–æ–∂–µ—Ç–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ –º–µ—Ç–æ–¥ –¥–ª—è –ø–∞–ø–∫–∏, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ —ó—ó —Ä–æ–∑–º—ñ—Ä, —ñ –¥–ª—è —Ñ–∞–π–ª—É, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –π–æ–≥–æ —Ä–æ–∑–º—ñ—Ä, –Ω–µ –∑–Ω–∞—é—á–∏, —á–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –≤–∏ –∑ –æ–∫—Ä–µ–º–∏–º –µ–ª–µ–º–µ–Ω—Ç–æ–º, —á–∏ –∑ –≥—Ä—É–ø–æ—é.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ—Ç—å, —â–æ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ —Å–∏—Å—Ç–µ–º—É –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Ñ–∞–π–ª–æ–≤–æ—é —Å–∏—Å—Ç–µ–º–æ—é, –¥–µ —É –Ω–∞—Å —î —Ñ–∞–π–ª–∏ —Ç–∞ –ø–∞–ø–∫–∏. –ü–∞–ø–∫–∏ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ —ñ–Ω—à—ñ –ø–∞–ø–∫–∏ —Ç–∞ —Ñ–∞–π–ª–∏.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
// –í–∏–∑–Ω–∞—á–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –≤—Å—ñ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ (–ª–∏—Å—Ç—è —Ç–∞ –∫–æ–º–ø–æ–∑–∏—Ç—ñ–≤).
public abstract class FileSystemItem
{
    public string Name { get; set; }

    public FileSystemItem(string name)
    {
        Name = name;
    }

    // –ó–∞–≥–∞–ª—å–Ω–∞ –æ–ø–µ—Ä–∞—Ü—ñ—è, —è–∫–∞ –±—É–¥–µ –æ–¥–Ω–∞–∫–æ–≤–æ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –¥–ª—è —Ñ–∞–π–ª—ñ–≤ —ñ –ø–∞–ø–æ–∫.
    public abstract void Display(int indent);
    
    // –û–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ—á—ñ—Ä–Ω—ñ–º–∏ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏.
    // –í–æ–Ω–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ç—ñ–ª—å–∫–∏ –≤ Composite.
    public virtual void Add(FileSystemItem item) { }
    public virtual void Remove(FileSystemItem item) { }
}

// 2. –õ–∏—Å—Ç—è (Leaf)
// –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î –æ–∫—Ä–µ–º—ñ –æ–±'—î–∫—Ç–∏ –≤ —ñ—î—Ä–∞—Ä—Ö—ñ—ó (—Ç—ñ, —â–æ –Ω–µ –º–æ–∂—É—Ç—å –º–∞—Ç–∏ –¥–æ—á—ñ—Ä–Ω—ñ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤).
public class File : FileSystemItem
{
    public File(string name) : base(name) { }

    public override void Display(int indent)
    {
        Console.WriteLine(new string('-', indent) + $"File: {Name}");
    }
}

// 3. –ö–æ–º–ø–æ–∑–∏—Ç (Composite)
// –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î –æ–±'—î–∫—Ç–∏, —â–æ –º—ñ—Å—Ç—è—Ç—å –¥–æ—á—ñ—Ä–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏.
public class Directory : FileSystemItem
{
    private readonly List<FileSystemItem> _children = new List<FileSystemItem>();

    public Directory(string name) : base(name) { }
    
    public override void Add(FileSystemItem item)
    {
        _children.Add(item);
    }
    
    public override void Remove(FileSystemItem item)
    {
        _children.Remove(item);
    }

    public override void Display(int indent)
    {
        Console.WriteLine(new string('-', indent) + $"Directory: {Name}");
        foreach (var child in _children)
        {
            // –†–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π –≤–∏–∫–ª–∏–∫ –¥–ª—è –¥–æ—á—ñ—Ä–Ω—ñ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤.
            child.Display(indent + 2);
        }
    }
}

// 4. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ—î—Ä–∞—Ä—Ö—ñ—ó
        Directory root = new Directory("Root");

        Directory projects = new Directory("Projects");
        root.Add(projects);
        
        Directory images = new Directory("Images");
        projects.Add(images);
        
        images.Add(new File("photo1.jpg"));
        images.Add(new File("photo2.png"));
        
        projects.Add(new File("project.sln"));

        // –î–æ–¥–∞—î–º–æ —â–µ –æ–¥–∏–Ω —Ñ–∞–π–ª –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤ –∫–æ—Ä—ñ–Ω—å
        root.Add(new File("readme.md"));

        // –ü—Ä–∞—Ü—é—î–º–æ –∑ —É—Å—ñ—î—é —ñ—î—Ä–∞—Ä—Ö—ñ—î—é —è–∫ –∑ –æ–¥–Ω–∏–º –æ–±'—î–∫—Ç–æ–º.
        // –ö–ª—ñ—î–Ω—Ç –≤–∏–∫–ª–∏–∫–∞—î Display() –Ω–∞ –∫–æ—Ä–µ–Ω—ñ, –∞ –≤—ñ–Ω —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ
        // –æ–±—Ö–æ–¥–∏—Ç—å –≤—Å—ñ –¥–æ—á—ñ—Ä–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏.
        root.Display(0);
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç (`FileSystemItem`)**: –¶–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å, —è–∫–∏–π –≤–∏–∑–Ω–∞—á–∞—î —Å–ø—ñ–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤ –≤ —ñ—î—Ä–∞—Ä—Ö—ñ—ó. –í—ñ–Ω –≤–∫–ª—é—á–∞—î –æ–ø–µ—Ä–∞—Ü—ñ—ó, —è–∫—ñ –º–æ–∂–Ω–∞ –∑–∞—Å—Ç–æ—Å—É–≤–∞—Ç–∏ —è–∫ –¥–æ –ª–∏—Å—Ç—è, —Ç–∞–∫ —ñ –¥–æ –∫–æ–º–ø–æ–∑–∏—Ç—ñ–≤.
- **–õ–∏—Å—Ç—è (`File`)**: –¶–µ –æ–∫—Ä–µ–º—ñ –æ–±'—î–∫—Ç–∏, —è–∫—ñ –Ω–µ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ —ñ–Ω—à—ñ –æ–±'—î–∫—Ç–∏. –í–æ–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å "–∫—ñ–Ω—Ü—ñ" —ñ—î—Ä–∞—Ä—Ö—ñ—ó.
- **–ö–æ–º–ø–æ–∑–∏—Ç (`Directory`)**: –¶–µ –æ–±'—î–∫—Ç–∏, —â–æ –º—ñ—Å—Ç—è—Ç—å —ñ–Ω—à—ñ –æ–±'—î–∫—Ç–∏ (`FileSystemItem`). –í–æ–Ω–∏ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –¥–æ—á—ñ—Ä–Ω—ñ–º–∏ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ (`Add`, `Remove`) —ñ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç—å –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–æ —Å–≤–æ—ó—Ö –¥–æ—á—ñ—Ä–Ω—ñ—Ö –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É –º–µ—Ç–æ–¥—ñ `Display()`).

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **HTML DOM (Document Object Model)**: –¶–µ –∫–ª–∞—Å–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥. –ö–æ–∂–µ–Ω –≤—É–∑–æ–ª (—Ç–µ–≥) –º–æ–∂–µ –±—É—Ç–∏ –∞–±–æ –ª–∏—Å—Ç–∫–æ–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `<img>`), –∞–±–æ –∫–æ–º–ø–æ–∑–∏—Ç–æ–º, —â–æ –º—ñ—Å—Ç–∏—Ç—å —ñ–Ω—à—ñ –≤—É–∑–ª–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `<div>`).
- **WPF/WinForms (GUI Frameworks)**: –ï–ª–µ–º–µ–Ω—Ç–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è (controls) —É —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ —á–∞—Å—Ç–æ –ø–æ–±—É–¥–æ–≤–∞–Ω—ñ –∑–∞ —Ü–∏–º –ø–∞—Ç–µ—Ä–Ω–æ–º. –ü–∞–Ω–µ–ª—å –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –∫–Ω–æ–ø–∫–∏, —Ç–µ–∫—Å—Ç–æ–≤—ñ –ø–æ–ª—è —Ç–∞ —ñ–Ω—à—ñ –ø–∞–Ω–µ–ª—ñ, —ñ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞—Ç–∏ –¥–æ –Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `Visible = false`) –æ–¥–Ω–∞–∫–æ–≤–æ.
- **–í–∏—Ä–∞–∑–∏ –≤ –¥–µ—Ä–µ–≤—ñ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É (AST)**: –ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ø–∞—Ç–µ—Ä–Ω –ö–æ–º–ø–æ–∑–∏—Ç –¥–ª—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—è –∫–æ–¥—É. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∏—Ä–∞–∑ `a + (b * c)` —î –¥–µ—Ä–µ–≤–æ–º, –¥–µ –≤—É–∑–ª–∏ `+` —Ç–∞ `*` —î –∫–æ–º–ø–æ–∑–∏—Ç–∞–º–∏, –∞ `a`, `b`, `c` ‚Äî –ª–∏—Å—Ç—è–º.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–≥–æ –∫–æ–¥—É**: –ö–ª—ñ—î–Ω—Ç –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —ñ—î—Ä–∞—Ä—Ö—ñ—î—é –æ–±'—î–∫—Ç—ñ–≤ —è–∫ –∑ –æ–¥–Ω–∏–º —Ü—ñ–ª–∏–º, —â–æ –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–æ—â—É—î –∫–æ–¥.
- **–†–µ–∫—É—Ä—Å—ñ—è**: –ü–∞—Ç–µ—Ä–Ω —ñ–¥–µ–∞–ª—å–Ω–æ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –¥–ª—è —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤.
- **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –í–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–∏–ø–∏ –ª–∏—Å—Ç—è –∞–±–æ –∫–æ–º–ø–æ–∑–∏—Ç—ñ–≤, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥.

* * *


### –ü–∞—Ç–µ—Ä–Ω Proxy (–ó–∞—Å—Ç—É–ø–Ω–∏–∫)

#### –ú–µ—Ç–∞

**Proxy** ‚Äî —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –Ω–∞–¥–∞—î –æ–±'—î–∫—Ç-–∑–∞—Å—Ç—É–ø–Ω–∏–∫ –∞–±–æ –æ–±'—î–∫—Ç-–æ–±–æ–ª–æ–Ω–∫—É (surrogate) –¥–ª—è —ñ–Ω—à–æ–≥–æ –æ–±'—î–∫—Ç–∞. –ó–∞—Å—Ç—É–ø–Ω–∏–∫ –∫–æ–Ω—Ç—Ä–æ–ª—é—î –¥–æ—Å—Ç—É–ø –¥–æ –æ—Ä–∏–≥—ñ–Ω–∞–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞, –¥–æ–¥–∞—é—á–∏ –ø–µ–≤–Ω—É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–¥ –∞–±–æ –ø—ñ—Å–ª—è –≤–∏–∫–ª–∏–∫—É –π–æ–≥–æ –º–µ—Ç–æ–¥—ñ–≤.

–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, Proxy –¥—ñ—î —è–∫ "–ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫". –ö–ª—ñ—î–Ω—Ç –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –Ω—å–æ–≥–æ, –∞ –∑–∞—Å—Ç—É–ø–Ω–∏–∫ –ø–µ—Ä–µ–¥–∞—î –∑–∞–ø–∏—Ç —Ä–µ–∞–ª—å–Ω–æ–º—É –æ–±'—î–∫—Ç—É, –∞–ª–µ –º–æ–∂–µ —Ä–æ–±–∏—Ç–∏ —â–æ—Å—å –¥–æ–¥–∞—Ç–∫–æ–≤–µ, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:

- –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É;
- –∫–µ—à—É–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏;
- –≤—ñ–¥–∫–ª–∞–¥–∞—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –¥–æ –º–æ–º–µ–Ω—Ç—É, –∫–æ–ª–∏ –≤—ñ–Ω –¥—ñ–π—Å–Ω–æ –ø–æ—Ç—Ä—ñ–±–µ–Ω.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω, –∫–æ–ª–∏:

- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤—ñ–¥–∫–ª–∞—Å—Ç–∏ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é –¥–æ—Ä–æ–≥–æ–≥–æ –æ–±'—î–∫—Ç–∞ (Virtual Proxy).** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∞—à –æ–±'—î–∫—Ç –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –¥–∞–Ω—ñ –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∞–±–æ –≤–∏–∫–æ–Ω—É—î —Å–∫–ª–∞–¥–Ω—ñ –æ–±—á–∏—Å–ª–µ–Ω–Ω—è. –ó–∞—Å—Ç—É–ø–Ω–∏–∫ –º–æ–∂–µ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ä–µ–∞–ª—å–Ω–∏–π –æ–±'—î–∫—Ç —Ç—ñ–ª—å–∫–∏ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–≤–µ—Ä–Ω–µ–Ω–Ω—ñ –¥–æ –Ω—å–æ–≥–æ.
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –æ–±'—î–∫—Ç–∞ (Protection Proxy).** –ó–∞—Å—Ç—É–ø–Ω–∏–∫ –º–æ–∂–µ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø–µ—Ä–µ–¥ –≤–∏–∫–ª–∏–∫–æ–º –º–µ—Ç–æ–¥—É —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞, —â–æ–± –∑–∞–±–µ–∑–ø–µ—á–∏—Ç–∏ –±–µ–∑–ø–µ–∫—É.
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∫–µ—à—É–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ (Cache Proxy).** –ó–∞—Å—Ç—É–ø–Ω–∏–∫ –º–æ–∂–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö –≤–∏–∫–ª–∏–∫—ñ–≤, —â–æ–± –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∑–≤–µ—Ä–Ω–µ–Ω–Ω—è—Ö –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –Ω–µ –ø–µ—Ä–µ—Ä–∞—Ö–æ–≤—É–≤–∞—Ç–∏ —ó—Ö, –∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ—Ç—å, —â–æ –º–∏ –ø—Ä–∞—Ü—é—î–º–æ –∑ –≤–µ–ª–∏–∫–∏–º –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º, –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —è–∫–æ–≥–æ –∑ –º–µ—Ä–µ–∂—ñ —î —Ä–µ—Å—É—Ä—Å–æ–º—ñ—Å—Ç–∫–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é. –ú–∏ —Ö–æ—á–µ–º–æ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ —ñ–∫–æ–Ω–∫—É-–∑–∞–ø–æ–≤–Ω—é–≤–∞—á, –∞ —Å–∞–º–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –∑–∞—Ö–æ—á–µ –π–æ–≥–æ –ø–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—É–±'—î–∫—Ç–∞
// –í–∏–∑–Ω–∞—á–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ —ñ –∑–∞—Å—Ç—É–ø–Ω–∏–∫–∞.
public interface IImage
{
    void Display();
}

// 2. –†–µ–∞–ª—å–Ω–∏–π –æ–±'—î–∫—Ç (Real Subject)
// –û–±'—î–∫—Ç, —â–æ –≤–∏–∫–æ–Ω—É—î —Ä–µ–∞–ª—å–Ω—É —Ä–æ–±–æ—Ç—É. –ô–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —î —Ä–µ—Å—É—Ä—Å–æ–º—ñ—Å—Ç–∫–∏–º.
public class RealImage : IImage
{
    private string _filename;

    public RealImage(string filename)
    {
        _filename = filename;
        LoadFromDisk();
    }

    private void LoadFromDisk()
    {
        Console.WriteLine($"Loading image {_filename} from disk...");
        // –Ü–º—ñ—Ç–∞—Ü—ñ—è —Ç—Ä–∏–≤–∞–ª–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
        Thread.Sleep(2000); 
    }

    public void Display()
    {
        Console.WriteLine($"Displaying image {_filename}.");
    }
}

// 3. –ó–∞—Å—Ç—É–ø–Ω–∏–∫ (Proxy)
// –ó–∞—Å—Ç—É–ø–Ω–∏–∫ —É–ø—Ä–∞–≤–ª—è—î –¥–æ—Å—Ç—É–ø–æ–º –¥–æ RealImage —ñ –≤—ñ–¥–∫–ª–∞–¥–∞—î –π–æ–≥–æ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è.
public class ProxyImage : IImage
{
    private readonly string _filename;
    private RealImage _realImage; // –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏–π –æ–±'—î–∫—Ç

    public ProxyImage(string filename)
    {
        _filename = filename;
    }

    public void Display()
    {
        // –í—ñ–¥–∫–ª–∞–¥–µ–Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è: —Å—Ç–≤–æ—Ä—é—î–º–æ RealImage —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ,
        // –∫–æ–ª–∏ –π–æ–≥–æ –º–µ—Ç–æ–¥ Display() –¥—ñ–π—Å–Ω–æ –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è.
        if (_realImage == null)
        {
            _realImage = new RealImage(_filename);
        }
        _realImage.Display();
    }
}

// 4. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        Console.WriteLine("–ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ –ø—Ä–∞—Ü—é—î —ñ–∑ –∑–∞—Å—Ç—É–ø–Ω–∏–∫–æ–º:");
        
        // –°—Ç–≤–æ—Ä—é—î–º–æ –æ–±'—î–∫—Ç-–∑–∞—Å—Ç—É–ø–Ω–∏–∫. RealImage —â–µ –Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ!
        IImage image = new ProxyImage("large_photo.jpg"); 

        Console.WriteLine("\n–ó–∞—Å—Ç—É–ø–Ω–∏–∫ —Å—Ç–≤–æ—Ä–µ–Ω–æ. –ú–æ–∂–µ–º–æ —Ä–æ–±–∏—Ç–∏ —ñ–Ω—à—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, –ø–æ–∫–∏ –æ–±'—î–∫—Ç –Ω–µ –ø–æ—Ç—Ä—ñ–±–µ–Ω.");

        // –ü–µ—Ä—à–∏–π –≤–∏–∫–ª–∏–∫ Display(). RealImage –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ —ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ.
        Console.WriteLine("\n–í–∏–∫–ª–∏–∫–∞—î–º–æ Display() –≤–ø–µ—Ä—à–µ:");
        image.Display();

        Console.WriteLine("\n–í–∏–∫–ª–∏–∫–∞—î–º–æ Display() –≤–¥—Ä—É–≥–µ:");
        // –î—Ä—É–≥–∏–π –≤–∏–∫–ª–∏–∫. RealImage –≤–∂–µ —ñ—Å–Ω—É—î, —Ç–æ–º—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–µ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è.
        image.Display();
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—É–±'—î–∫—Ç–∞ (`IImage`)**: –¶–µ–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å —î –∫–ª—é—á–æ–≤–∏–º, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–º—É –∫–æ–¥—É –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –±—É–¥—å-—è–∫–∏–º –æ–±'—î–∫—Ç–æ–º, —â–æ –π–æ–≥–æ —Ä–µ–∞–ª—ñ–∑—É—î (`RealImage` —á–∏ `ProxyImage`), –Ω–µ –∑–Ω–∞—é—á–∏, —è–∫–∏–π –∑ –Ω–∏—Ö –≤—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ.
- **–†–µ–∞–ª—å–Ω–∏–π –æ–±'—î–∫—Ç (`RealImage`)**: –¶–µ –æ–±'—î–∫—Ç, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—É –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É.
- **–ó–∞—Å—Ç—É–ø–Ω–∏–∫ (`ProxyImage`)**: –¶–µ–π –∫–ª–∞—Å, —è–∫ —ñ —Ä–µ–∞–ª—å–Ω–∏–π –æ–±'—î–∫—Ç, —Ä–µ–∞–ª—ñ–∑—É—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IImage`. –í—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ `RealImage` —ñ –ø–µ—Ä–µ—Ö–æ–ø–ª—é—î –≤—Å—ñ –≤–∏–∫–ª–∏–∫–∏, —è–∫—ñ –¥–æ –Ω—å–æ–≥–æ –Ω–∞–¥—Ö–æ–¥—è—Ç—å. –£ –ø—Ä–∏–∫–ª–∞–¥—ñ –≤–∏—â–µ –≤—ñ–Ω —Ä–µ–∞–ª—ñ–∑—É—î **"–≤—ñ—Ä—Ç—É–∞–ª—å–Ω–∏–π –∑–∞—Å—Ç—É–ø–Ω–∏–∫"** (Virtual Proxy), –≤—ñ–¥–∫–ª–∞–¥–∞—é—á–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **ASP.NET Core Identity**: –£ –±–∞–≥–∞—Ç—å–æ—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö –¥–ª—è –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∑–∞—Å—Ç—É–ø–Ω–∏–∫, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î, —á–∏ –º–∞—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –¥–æ—Å—Ç–∞—Ç–Ω—å–æ –ø—Ä–∞–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ –ø–µ–≤–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å—É, –ø–µ—Ä—à –Ω—ñ–∂ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω–∏–π –º–µ—Ç–æ–¥. –¶–µ –ø—Ä–∏–∫–ª–∞–¥ **"–∑–∞—Å—Ç—É–ø–Ω–∏–∫–∞ –¥–ª—è –∑–∞—Ö–∏—Å—Ç—É"** (Protection Proxy).
- **Entity Framework Core**: –ü—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ lazy loading, EF —Å—Ç–≤–æ—Ä—é—î –ø—Ä–æ–∫—Å—ñ-–æ–±'—î–∫—Ç–∏ –¥–ª—è –∫–æ–ª–µ–∫—Ü—ñ–π, —è–∫—ñ —â–µ –Ω–µ –±—É–ª–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ –∑ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö. –ö–æ–ª–∏ –≤–∏ –≤–ø–µ—Ä—à–µ –∑–≤–µ—Ä—Ç–∞—î—Ç–µ—Å—å –¥–æ —Ç–∞–∫–æ—ó –∫–æ–ª–µ–∫—Ü—ñ—ó, –ø—Ä–æ–∫—Å—ñ-–æ–±'—î–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î —ó—ó, –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—á–∏ –¥–∞–Ω—ñ.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤—ñ–¥–∫–ª–∞–¥–µ–Ω–æ—ó —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–æ–∑–≤–æ–ª—è—î –∑–º–µ–Ω—à–∏—Ç–∏ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ —Ç–∞ –ø—Ä–∏—Å–∫–æ—Ä–∏—Ç–∏ —á–∞—Å –∑–∞–ø—É—Å–∫—É –ø—Ä–æ–≥—Ä–∞–º–∏.
- **–ö–æ–Ω—Ç—Ä–æ–ª—å —ñ –±–µ–∑–ø–µ–∫–∞**: –ó–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–æ–∑–≤–æ–ª—è—î —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ –≥–Ω—É—á–∫—ñ –ø–æ–ª—ñ—Ç–∏–∫–∏ –±–µ–∑–ø–µ–∫–∏ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É —Ä–µ–∞–ª—å–Ω–∏–π –æ–±'—î–∫—Ç.


* * *

### –ü–∞—Ç–µ—Ä–Ω Facade (–§–∞—Å–∞–¥)

#### –ú–µ—Ç–∞

**–§–∞—Å–∞–¥** ‚Äî —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –Ω–∞–¥–∞—î –ø—Ä–æ—Å—Ç–∏–π, —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ –Ω–∞–±–æ—Ä—É —Å–∫–ª–∞–¥–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤ —É –ø—ñ–¥—Å–∏—Å—Ç–µ–º—ñ. –í—ñ–Ω –Ω–µ –ø—Ä–∏—Ö–æ–≤—É—î —Å–∞–º—É –ø—ñ–¥—Å–∏—Å—Ç–µ–º—É, –∞ –ª–∏—à–µ –Ω–∞–¥–∞—î –∑—Ä—É—á–Ω–∏–π –¥–æ—Å—Ç—É–ø –¥–æ —ó—ó –Ω–∞–π–±—ñ–ª—å—à —Ç–∏–ø–æ–≤–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π.

–£—è–≤—ñ—Ç—å, —â–æ –≤–∞—à–∞ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞ ‚Äî —Ü–µ —Å–∫–ª–∞–¥–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º —ñ–∑ –±–µ–∑–ª—ñ—á—á—é –∫–ª–∞—Å—ñ–≤, –º–µ—Ç–æ–¥—ñ–≤ —Ç–∞ –≤–∑–∞—î–º–æ–¥—ñ–π. –§–∞—Å–∞–¥ –≤–∏—Å—Ç—É–ø–∞—î —è–∫ "–ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è" –∑ –∫—ñ–ª—å–∫–æ–º–∞ –∫–Ω–æ–ø–∫–∞–º–∏, —è–∫—ñ –≤–∏–∫–æ–Ω—É—é—Ç—å –Ω–∞–π–ø–æ—à–∏—Ä–µ–Ω—ñ—à—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, –ø—Ä–∏—Ö–æ–≤—É—é—á–∏ –≤—ñ–¥ –≤–∞—Å —É—Å—ñ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –¥–µ—Ç–∞–ª—ñ.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Facade**, –∫–æ–ª–∏:

- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–¥–∞—Ç–∏ —Å–ø—Ä–æ—â–µ–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ —Å–∫–ª–∞–¥–Ω–æ—ó –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏.** –¶–µ –æ—Å–æ–±–ª–∏–≤–æ –∫–æ—Ä–∏—Å–Ω–æ, —è–∫—â–æ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –¥–µ—Å—è—Ç–∫—ñ–≤ –∫–ª–∞—Å—ñ–≤, —ñ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–º—É –∫–æ–¥—É –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏ –ø—Ä–æ —ó—Ö–Ω—é –≤–Ω—É—Ç—Ä—ñ—à–Ω—é –≤–∑–∞—î–º–æ–¥—ñ—é.
- **–í–∏ —Ö–æ—á–µ—Ç–µ –≤—ñ–¥–æ–∫—Ä–µ–º–∏—Ç–∏ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ –≤—ñ–¥ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏.** –§–∞—Å–∞–¥ –∑–º–µ–Ω—à—É—î –∑–≤'—è–∑–∞–Ω—ñ—Å—Ç—å (coupling) –º—ñ–∂ –∫–ª—ñ—î–Ω—Ç–æ–º —ñ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–æ—é, —â–æ –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥—à–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏, –Ω–µ –≤–ø–ª–∏–≤–∞—é—á–∏ –Ω–∞ –∫–ª—ñ—î–Ω—Ç—ñ–≤.

–¶–µ–π –ø–∞—Ç–µ—Ä–Ω –¥–æ–ø–æ–º–∞–≥–∞—î –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –ø—Ä–∏–Ω—Ü–∏–ø—É **Separation of Concerns (SoC)**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω —ñ–Ω–∫–∞–ø—Å—É–ª—é—î —Å–∫–ª–∞–¥–Ω—É –ª–æ–≥—ñ–∫—É –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ–º–æ, —â–æ —É –Ω–∞—Å —î —Å–∫–ª–∞–¥–Ω–∞ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –≤—ñ–¥–µ–æ, —è–∫–∞ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –∫–ª–∞—Å—ñ–≤ –¥–ª—è –∫–æ–¥—É–≤–∞–Ω–Ω—è, —Å—Ç–∏—Å–Ω–µ–Ω–Ω—è —Ç–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ —Ö–æ—á–µ –ª–∏—à–µ "—Å–∫–æ–Ω–≤–µ—Ä—Ç—É–≤–∞—Ç–∏ –≤—ñ–¥–µ–æ".

C#

```
// 1. –°–∫–ª–∞–¥–Ω–∞ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞
// –¶—ñ –∫–ª–∞—Å–∏ —ñ–º—ñ—Ç—É—é—Ç—å —Å–∫–ª–∞–¥–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏
public class VideoEncoder
{
    public void Encode(string filename)
    {
        Console.WriteLine($"Encoding video: {filename}");
    }
}

public class AudioCompressor
{
    public void Compress(string filename)
    {
        Console.WriteLine($"Compressing audio for: {filename}");
    }
}

public class FileSaver
{
    public void Save(string filename)
    {
        Console.WriteLine($"Saving file: {filename}");
    }
}

// 2. –ö–ª–∞—Å-—Ñ–∞—Å–∞–¥
// –§–∞—Å–∞–¥ –Ω–∞–¥–∞—î –ø—Ä–æ—Å—Ç–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–æ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏
public class VideoConverterFacade
{
    private readonly VideoEncoder _encoder;
    private readonly AudioCompressor _compressor;
    private readonly FileSaver _saver;

    public VideoConverterFacade()
    {
        _encoder = new VideoEncoder();
        _compressor = new AudioCompressor();
        _saver = new FileSaver();
    }

    // –û–¥–∏–Ω –ø—Ä–æ—Å—Ç–∏–π –º–µ—Ç–æ–¥, —â–æ –≤–∏–∫–æ–Ω—É—î —Å–∫–ª–∞–¥–Ω—É –æ–ø–µ—Ä–∞—Ü—ñ—é
    public void ConvertVideo(string filename)
    {
        Console.WriteLine("\nStarting video conversion...");
        _encoder.Encode(filename);
        _compressor.Compress(filename);
        _saver.Save(filename);
        Console.WriteLine("Video conversion finished.");
    }
}

// 3. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ñ–∞—Å–∞–¥—É
        VideoConverterFacade converter = new VideoConverterFacade();
        
        // –ö–ª—ñ—î–Ω—Ç –≤–∑–∞—î–º–æ–¥—ñ—î —Ç—ñ–ª—å–∫–∏ –∑ —Ñ–∞—Å–∞–¥–æ–º, –Ω–µ –∑–Ω–∞—é—á–∏ –ø—Ä–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –∫–ª–∞—Å–∏
        converter.ConvertVideo("my_movie.mp4");
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–°–∫–ª–∞–¥–Ω–∞ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∞:** –¶–µ –Ω–∞–±—ñ—Ä –∫–ª–∞—Å—ñ–≤ (`VideoEncoder`, `AudioCompressor`, `FileSaver`), —è–∫—ñ –≤–∏–∫–æ–Ω—É—é—Ç—å —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ, –∞–ª–µ –≤–∑–∞—î–º–æ–ø–æ–≤'—è–∑–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è.
- **–§–∞—Å–∞–¥ (`VideoConverterFacade`):** –¶–µ —î–¥–∏–Ω–∏–π –∫–ª–∞—Å, —è–∫–∏–π "–∑–Ω–∞—î" –ø—Ä–æ –≤—Å—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏. –í—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω–∏—Ö —ñ –Ω–∞–¥–∞—î –æ–¥–∏–Ω –∞–±–æ –∫—ñ–ª—å–∫–∞ –≤–∏—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∏—Ö –º–µ—Ç–æ–¥—ñ–≤ (`ConvertVideo`), —è–∫—ñ –¥–µ–ª–µ–≥—É—é—Ç—å –≤–∏–∫–ª–∏–∫–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–∏–º –º–µ—Ç–æ–¥–∞–º –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ —Ç–∞ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏:** –ë–∞–≥–∞—Ç–æ –±—ñ–±–ª—ñ–æ—Ç–µ–∫ –Ω–∞–¥–∞—é—Ç—å –∫–ª–∞—Å-—Ñ–∞—Å–∞–¥, —è–∫–∏–π —Å–ø—Ä–æ—â—É—î —ó—Ö –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–ª–∞—Å `HttpClient` —É .NET —î —Ñ–∞—Å–∞–¥–æ–º, —è–∫–∏–π –Ω–∞–¥–∞—î –ø—Ä–æ—Å—Ç–∏–π —Å–ø–æ—Å—ñ–± –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ HTTP, –ø—Ä–∏—Ö–æ–≤—É—é—á–∏ –≤—ñ–¥ –≤–∞—Å –Ω–∏–∑—å–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ñ –¥–µ—Ç–∞–ª—ñ —Ä–æ–±–æ—Ç–∏ –∑ –º–µ—Ä–µ–∂–µ—é.
- **–ó–∞—Å—Ç–æ—Å—É–Ω–∫–∏:** –£ –≤–µ–ª–∏–∫–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∞—Ö —á–∞—Å—Ç–æ —Å—Ç–≤–æ—Ä—é—é—Ç—å –∫–ª–∞—Å–∏-—Ñ–∞—Å–∞–¥–∏, —è–∫—ñ –Ω–∞–¥–∞—é—Ç—å API –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–æ—é. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, `OrderServiceFacade` –º–æ–∂–µ –º–∞—Ç–∏ –º–µ—Ç–æ–¥ `PlaceOrder()`, —è–∫–∏–π –≤–∏–∫–æ–Ω—É—î –∫—ñ–ª—å–∫–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π: –ø–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Ç–æ–≤–∞—Ä—É, —Å–ø–∏—Å—É—î –∫–æ—à—Ç–∏, —Å—Ç–≤–æ—Ä—é—î –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–°–ø—Ä–æ—â–µ–Ω–Ω—è API:** –§–∞—Å–∞–¥ —Ä–æ–±–∏—Ç—å —Å–∫–ª–∞–¥–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ —Ç–∞ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏ –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏ –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è, —â–æ –∑–º–µ–Ω—à—É—î –ø–æ—Ä—ñ–≥ –≤—Ö–æ–¥–∂–µ–Ω–Ω—è –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤.
- **–ó–Ω–∏–∂–µ–Ω–Ω—è –∑–≤'—è–∑–∞–Ω–æ—Å—Ç—ñ:** –ö–ª—ñ—î–Ω—Ç –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –±–∞–≥–∞—Ç—å–æ—Ö –∫–ª–∞—Å—ñ–≤ –ø—ñ–¥—Å–∏—Å—Ç–µ–º–∏, –∞ –ª–∏—à–µ –≤—ñ–¥ –æ–¥–Ω–æ–≥–æ ‚Äî —Ñ–∞—Å–∞–¥—É. –¶–µ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É —Å—Ç—ñ–π–∫—ñ—à–æ—é –¥–æ –∑–º—ñ–Ω.

* * *

### –ü–∞—Ç–µ—Ä–Ω Bridge (–ú—ñ—Å—Ç)

#### –ú–µ—Ç–∞

**–ú—ñ—Å—Ç** ‚Äî —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –≤—ñ–¥–¥—ñ–ª—è—î –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—é –≤—ñ–¥ —ó—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó, —â–æ –¥–æ–∑–≤–æ–ª—è—î —ó–º –æ–±–æ–º –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –Ω–µ–∑–∞–ª–µ–∂–Ω–æ. –í—ñ–Ω –¥–æ–ø–æ–º–∞–≥–∞—î —É–Ω–∏–∫–Ω—É—Ç–∏ –∂–æ—Ä—Å—Ç–∫–æ—ó –∑–≤'—è–∑–∞–Ω–æ—Å—Ç—ñ, —è–∫–∞ —á–∞—Å—Ç–æ –≤–∏–Ω–∏–∫–∞—î –ø—Ä–∏ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—ñ, —ñ –¥–æ–∑–≤–æ–ª—è—î –¥–∏–Ω–∞–º—ñ—á–Ω–æ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó –∑ —Ä—ñ–∑–Ω–∏–º–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è–º–∏.

–£—è–≤—ñ—Ç—å, —â–æ —É –≤–∞—Å —î –¥–≤–∞ "–≤–∏–º—ñ—Ä–∏" –∑–º—ñ–Ω: —Ñ–æ—Ä–º–∞ –æ–±'—î–∫—Ç–∞ (–∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è) —ñ –π–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ (—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è). –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —É –≤–∞—Å —î "—Ñ—ñ–≥—É—Ä–∏" (–∫—Ä—É–≥, –∫–≤–∞–¥—Ä–∞—Ç) —ñ "–∫–æ–ª—å–æ—Ä–∏" (—á–µ—Ä–≤–æ–Ω–∏–π, —Å–∏–Ω—ñ–π). –Ø–∫—â–æ –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è, –≤–∞–º –¥–æ–≤–µ–¥–µ—Ç—å—Å—è —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ `–ß–µ—Ä–≤–æ–Ω–∏–π–ö—Ä—É–≥`, `–°–∏–Ω—ñ–π–ö—Ä—É–≥`, `–ß–µ—Ä–≤–æ–Ω–∏–π–ö–≤–∞–¥—Ä–∞—Ç` —ñ —Ç–∞–∫ –¥–∞–ª—ñ, —â–æ –ø—Ä–∏–∑–≤–µ–¥–µ –¥–æ "–≤–∏–±—É—Ö—É" –∫–ª–∞—Å—ñ–≤. –ú—ñ—Å—Ç –≤–∏—Ä—ñ—à—É—î —Ü—é –ø—Ä–æ–±–ª–µ–º—É, –∑'—î–¥–Ω—É—é—á–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—é —ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–∑–∏—Ü—ñ—é.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω, –∫–æ–ª–∏:

- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —É–Ω–∏–∫–Ω—É—Ç–∏ –ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è —ñ—î—Ä–∞—Ä—Ö—ñ—ó –∫–ª–∞—Å—ñ–≤.** –Ø–∫—â–æ –≤–∏ –º–∞—î—Ç–µ –∫—ñ–ª—å–∫–∞ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ–π (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤) —ñ –∫—ñ–ª—å–∫–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π (—Ä—ñ–∑–Ω—ñ –≤–∏—Ä–æ–±–Ω–∏–∫–∏), –º—ñ—Å—Ç –¥–æ–∑–≤–æ–ª–∏—Ç—å –≤–∞–º —É–Ω–∏–∫–Ω—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª–∞—Å—É –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó.
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è —Ç–∞ —ó—ó —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –±—É–ª–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º–∏.** –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –æ–¥–Ω—É —á–∞—Å—Ç–∏–Ω—É —Å–∏—Å—Ç–µ–º–∏, –Ω–µ –∑–∞—á—ñ–ø–∞—é—á–∏ —ñ–Ω—à—É.
- **–í–∏ —Ö–æ—á–µ—Ç–µ, —â–æ–± —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –º–æ–∂–Ω–∞ –±—É–ª–æ –≤–∏–±—Ä–∞—Ç–∏ –∞–±–æ –∑–º—ñ–Ω–∏—Ç–∏ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –≤–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–∞ –º–æ–∂–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –¥—Ä–∞–π–≤–µ—Ä–∞–º–∏ –¥–ª—è –ø—Ä–∏–Ω—Ç–µ—Ä–∞, —ñ –≤–∏ —Ö–æ—á–µ—Ç–µ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–≤—ñ –≤–∏–±–∏—Ä–∞—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –¥—Ä–∞–π–≤–µ—Ä.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ—Ç—å, —â–æ –º–∏ —Ä–æ–∑—Ä–æ–±–ª—è—î–º–æ –ø—Ä–æ–≥—Ä–∞–º—É –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏–º–∏ –ø—É–ª—å—Ç–∞–º–∏, —è–∫—ñ –º–æ–∂—É—Ç—å –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó (—Ç–µ–ª–µ–≤—ñ–∑–æ—Ä, —Å—Ç–µ—Ä–µ–æ—Å–∏—Å—Ç–µ–º–∞). –ü—É–ª—å—Ç–∏ —î –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—î—é, –∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó ‚Äî —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (Implementation)
// –í–∏–∑–Ω–∞—á–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤
public interface IDevice
{
    void PowerOn();
    void PowerOff();
    void SetVolume(int volume);
}

// 2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó
// –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∫–µ—Ä–æ–≤–∞–Ω—ñ
public class TV : IDevice
{
    public void PowerOn() => Console.WriteLine("TV is on.");
    public void PowerOff() => Console.WriteLine("TV is off.");
    public void SetVolume(int volume) => Console.WriteLine($"TV volume set to {volume}.");
}

public class StereoSystem : IDevice
{
    public void PowerOn() => Console.WriteLine("Stereo system is on.");
    public void PowerOff() => Console.WriteLine("Stereo system is off.");
    public void SetVolume(int volume) => Console.WriteLine($"Stereo system volume set to {volume}.");
}

// 3. –ê–±—Å—Ç—Ä–∞–∫—Ü—ñ—è (Abstraction)
// –í–∏–∑–Ω–∞—á–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—É–ª—å—Ç–∞
public abstract class Remote
{
    // –ö–æ–º–ø–æ–∑–∏—Ü—ñ—è: –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é
    protected IDevice _device;

    public Remote(IDevice device)
    {
        _device = device;
    }
    
    public abstract void TogglePower();
    public abstract void VolumeUp();
    public abstract void VolumeDown();
}

// 4. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó
// –†—ñ–∑–Ω—ñ —Ç–∏–ø–∏ –ø—É–ª—å—Ç—ñ–≤
public class BasicRemote : Remote
{
    public BasicRemote(IDevice device) : base(device) { }
    
    public override void TogglePower()
    {
        _device.PowerOn(); // –ü—Ä–æ—Å—Ç–∏–π –ø—É–ª—å—Ç —Ç—ñ–ª—å–∫–∏ –≤–º–∏–∫–∞—î –ø—Ä–∏—Å—Ç—Ä—ñ–π
    }

    public override void VolumeUp()
    {
        _device.SetVolume(15); // –ü—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î –≥—É—á–Ω—ñ—Å—Ç—å –Ω–∞ 15
    }

    public override void VolumeDown()
    {
        _device.SetVolume(5); // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î –≥—É—á–Ω—ñ—Å—Ç—å –Ω–∞ 5
    }
}

// 5. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–≤'—è–∑–∫—É: BasicRemote –∑ TV
        IDevice tv = new TV();
        Remote tvRemote = new BasicRemote(tv);
        tvRemote.TogglePower();
        tvRemote.VolumeUp();
        
        Console.WriteLine();
        
        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–≤'—è–∑–∫—É: BasicRemote –∑—ñ StereoSystem
        IDevice stereo = new StereoSystem();
        Remote stereoRemote = new BasicRemote(stereo);
        stereoRemote.TogglePower();
        stereoRemote.VolumeDown();
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (`IDevice`)**: –í–∏–∑–Ω–∞—á–∞—î –Ω–∏–∑—å–∫–æ—Ä—ñ–≤–Ω–µ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —è–∫—ñ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó.
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó (`TV`, `StereoSystem`)**: –Ü–º–ø–ª–µ–º–µ–Ω—Ç—É—é—Ç—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IDevice`, –Ω–∞–¥–∞—é—á–∏ —Å–≤–æ—é —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É.
- **–ê–±—Å—Ç—Ä–∞–∫—Ü—ñ—è (`Remote`)**: –¶–µ –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫—É, —â–æ –ø—Ä–∞—Ü—é—î –∑ `IDevice`. –í–∞–∂–ª–∏–≤–æ, —â–æ –≤—ñ–Ω –º—ñ—Å—Ç–∏—Ç—å **–∫–æ–º–ø–æ–∑–∏—Ü—ñ—é** (`protected IDevice _device;`), –∞ –Ω–µ —É—Å–ø–∞–¥–∫—É–≤–∞–Ω–Ω—è.
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó (`BasicRemote`)**: –†–æ–∑—à–∏—Ä—é—é—Ç—å `Remote` —ñ –Ω–∞–¥–∞—é—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º –≤–∏—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —è–∫—ñ, —É —Å–≤–æ—é —á–µ—Ä–≥—É, –≤–∏–∫–ª–∏–∫–∞—é—Ç—å –º–µ—Ç–æ–¥–∏ `IDevice`.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **–î—Ä–∞–π–≤–µ—Ä–∏ –±–∞–∑ –¥–∞–Ω–∏—Ö**: –ö–ª–∞—Å–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ SQL Server, PostgreSQL –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è–º–∏, –∞ –∫–ª–∞—Å–∏, —â–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ñ –∑–∞–ø–∏—Ç–∏, –º–æ–∂—É—Ç—å –±—É—Ç–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—è–º–∏, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å —Ü—ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó.
- **–ì—Ä–∞—Ñ—ñ—á–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏**: –í–∏ –º–æ–∂–µ—Ç–µ –º–∞—Ç–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—é "–≤—ñ–∫–Ω–æ" —ñ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∏—Ö —Å–∏—Å—Ç–µ–º (Windows, Linux, macOS). –ü–∞—Ç–µ—Ä–Ω –º—ñ—Å—Ç –¥–æ–∑–≤–æ–ª–∏—Ç—å –≤–∞–º —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –≤—ñ–∫–Ω–æ, —è–∫–µ –±—É–¥–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é –¥–ª—è –ø–æ—Ç–æ—á–Ω–æ—ó –û–°.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–ó–º–µ–Ω—à–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π:** –ö–æ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó –Ω–µ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –≥–Ω—É—á–∫–∏–º —ñ –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Ç–∏–ø–∏ –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –∫–æ–¥—É –ø—É–ª—å—Ç–∞.
- **–ì–Ω—É—á–∫—ñ—Å—Ç—å —É –∫–æ–º–±—ñ–Ω—É–≤–∞–Ω–Ω—ñ:** –í–∏ –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –∫–æ–º–±—ñ–Ω—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—É –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—é –∑ –±—É–¥—å-—è–∫–æ—é —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏.


* * *

### –ü–∞—Ç–µ—Ä–Ω Flyweight (–õ–µ–≥–∫–æ–≤–∞–≥–æ–≤–∏–∫)

#### –ú–µ—Ç–∞

**–õ–µ–≥–∫–æ–≤–∞–≥–æ–≤–∏–∫** ‚Äî —Ü–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤–µ–ª–∏–∫—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ–±'—î–∫—Ç—ñ–≤, –º—ñ–Ω—ñ–º—ñ–∑—É—é—á–∏ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ. –í—ñ–Ω –¥–æ—Å—è–≥–∞—î —Ü—å–æ–≥–æ —à–ª—è—Ö–æ–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Å–ø—ñ–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤, —â–æ –º–∞—é—Ç—å —Å–ø—ñ–ª—å–Ω–∏–π, –Ω–µ–∑–º—ñ–Ω–Ω–∏–π (–ø—Ä–∏—Ç–∞–º–∞–Ω–Ω–∏–π, intrinsic) —Å—Ç–∞–Ω.

–Ü–¥–µ—è –ø–∞—Ç–µ—Ä–Ω–∞ –¥—É–∂–µ –ø—Ä–æ—Å—Ç–∞: —è–∫—â–æ —É –≤–∞—Å —î –±–∞–≥–∞—Ç–æ –æ–±'—î–∫—Ç—ñ–≤ –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏, —Ç–æ –∑–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ü—ñ –¥–∞–Ω—ñ –≤ –∫–æ–∂–Ω–æ–º—É –æ–±'—î–∫—Ç—ñ, –≤–∏ –≤–∏–¥—ñ–ª—è—î—Ç–µ —ó—Ö –≤ –æ–∫—Ä–µ–º–∏–π —Å–ø—ñ–ª—å–Ω–∏–π –æ–±'—î–∫—Ç. –ö–æ–∂–µ–Ω —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –æ–±'—î–∫—Ç —Ç–æ–¥—ñ –∑–±–µ—Ä—ñ–≥–∞—î –ª–∏—à–µ —É–Ω—ñ–∫–∞–ª—å–Ω—ñ –¥–∞–Ω—ñ (–∑–æ–≤–Ω—ñ—à–Ω—ñ–π, extrinsic —Å—Ç–∞–Ω), –∞ —Å–ø—ñ–ª—å–Ω—ñ –¥–∞–Ω—ñ ‚Äî —á–µ—Ä–µ–∑ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –ª–µ–≥–∫–æ–≤–∞–≥–æ–≤–∏–π –æ–±'—î–∫—Ç.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω, –∫–æ–ª–∏:

- **–£ –≤–∞—Å —î –≤–µ–ª–∏—á–µ–∑–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ–±'—î–∫—Ç—ñ–≤, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–º–∏ –∞–±–æ –º–∞–π–∂–µ —ñ–¥–µ–Ω—Ç–∏—á–Ω–∏–º–∏.** –ö–ª–∞—Å–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ ‚Äî —Å–∏–º–≤–æ–ª–∏ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ. –ö–æ–∂–µ–Ω —Å–∏–º–≤–æ–ª `A` –º–∞—î –æ–¥–Ω–∞–∫–æ–≤–∏–π —à—Ä–∏—Ñ—Ç, —Ä–æ–∑–º—ñ—Ä —Ç–∞ —ñ–Ω—à—ñ –∞—Ç—Ä–∏–±—É—Ç–∏. –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ü—ñ –¥–∞–Ω—ñ –≤ –∫–æ–∂–Ω–æ–º—É –æ–±'—î–∫—Ç—ñ-—Å–∏–º–≤–æ–ª—ñ, –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –æ–¥–∏–Ω "–ª–µ–≥–∫–æ–≤–∞–≥–æ–≤–∏–π" –æ–±'—î–∫—Ç –¥–ª—è `A` —ñ –ø–æ—Å–∏–ª–∞—î—Ç–µ—Å—å –Ω–∞ –Ω—å–æ–≥–æ.
- **–í–µ–ª–∏–∫–∞ —á–∞—Å—Ç–∏–Ω–∞ —Å—Ç–∞–Ω—É –æ–±'—î–∫—Ç—ñ–≤ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–Ω–µ—Å–µ–Ω–∞ –≤ –∑–æ–≤–Ω—ñ—à–Ω—é –ø–∞–º'—è—Ç—å.** –¢–æ–±—Ç–æ, –≤–∏ –º–æ–∂–µ—Ç–µ —Ä–æ–∑–¥—ñ–ª–∏—Ç–∏ —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ –Ω–∞ –¥–≤—ñ —á–∞—Å—Ç–∏–Ω–∏: –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π (intrinsic), —è–∫–∏–π —î —Å–ø—ñ–ª—å–Ω–∏–º, —ñ –∑–æ–≤–Ω—ñ—à–Ω—ñ–π (extrinsic), —è–∫–∏–π —î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞.

–¶–µ–π –ø–∞—Ç–µ—Ä–Ω —î —Ä—ñ–¥–∫—ñ—Å–Ω–∏–º, –∞–ª–µ –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –∫–æ—Ä–∏—Å–Ω–∏–º —É –≤–∏–ø–∞–¥–∫–∞—Ö, –∫–æ–ª–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —ñ —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è –ø–∞–º'—è—Ç—ñ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤—ñ.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ—Ç—å, —â–æ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ –≥—Ä—É-—Å—Ç—Ä–∞—Ç–µ–≥—ñ—é, –¥–µ –Ω–∞ –µ–∫—Ä–∞–Ω—ñ —Ç–∏—Å—è—á—ñ —é–Ω—ñ—Ç—ñ–≤. –ë–∞–≥–∞—Ç–æ –∑ –Ω–∏—Ö ‚Äî —Ü–µ –æ–¥–Ω—ñ –π —Ç—ñ –∂ —Å–∞–º—ñ —Ç–∏–ø–∏, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, "–ü—ñ—Ö–æ—Ç–∏–Ω—Ü—ñ". –£—Å—ñ –ø—ñ—Ö–æ—Ç–∏–Ω—Ü—ñ –º–∞—é—Ç—å –æ–¥–Ω–∞–∫–æ–≤—ñ –∞—Ç—Ä–∏–±—É—Ç–∏, —è–∫-–æ—Ç –∑–¥–æ—Ä–æ–≤'—è, —à–≤–∏–¥–∫—ñ—Å—Ç—å, –º–æ–¥–µ–ª—å, –∞–ª–µ –≤—ñ–¥—Ä—ñ–∑–Ω—è—é—Ç—å—Å—è —Å–≤–æ—ó–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏.

C#

```
// 1. –õ–µ–≥–∫–æ–≤–∞–≥–æ–≤–∏–π –æ–±'—î–∫—Ç (Flyweight)
// –ú—ñ—Å—Ç–∏—Ç—å —Å–ø—ñ–ª—å–Ω–∏–π, –Ω–µ–∑–º—ñ–Ω–Ω–∏–π —Å—Ç–∞–Ω, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —É—Å—ñ–º–∞ –ø—ñ—Ö–æ—Ç–∏–Ω—Ü—è–º–∏
public class UnitProperties
{
    public int Health { get; } = 100;
    public double Speed { get; } = 5.5;
    public string Model { get; } = "Infantryman_Model_A";

    // ...—ñ–Ω—à—ñ —Å–ø—ñ–ª—å–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ
}

// 2. –§–∞–±—Ä–∏–∫–∞ –ª–µ–≥–∫–æ–≤–∞–≥–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ (Flyweight Factory)
// –ì–∞—Ä–∞–Ω—Ç—É—î, —â–æ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–ø—É —é–Ω—ñ—Ç–∞ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ª–∏—à–µ –æ–¥–∏–Ω –æ–±'—î–∫—Ç UnitProperties
public static class UnitPropertiesFactory
{
    private static readonly Dictionary<string, UnitProperties> _properties = new();

    public static UnitProperties GetProperties(string unitType)
    {
        if (!_properties.ContainsKey(unitType))
        {
            // –£ —Ä–µ–∞–ª—å–Ω–æ–º—É –∂–∏—Ç—Ç—ñ —Ç—É—Ç –º–æ–∂–µ –±—É—Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤—ñ —Ç–∏–ø—É
            _properties[unitType] = new UnitProperties(); 
            Console.WriteLine($"Flyweight object for '{unitType}' created.");
        }
        return _properties[unitType];
    }
}

// 3. –ö–æ–Ω—Ç–µ–∫—Å—Ç (Context)
// –¶–µ –Ω–∞—à "—Å–ø—Ä–∞–≤–∂–Ω—ñ–π" –æ–±'—î–∫—Ç, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π, –∑–æ–≤–Ω—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω.
// –í—ñ–Ω –º–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–ø—ñ–ª—å–Ω–∏–π –ª–µ–≥–∫–æ–≤–∞–≥–æ–≤–∏–π –æ–±'—î–∫—Ç.
public class Unit
{
    // –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π, –∑–æ–≤–Ω—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω
    public int X { get; set; }
    public int Y { get; set; }

    // –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–ø—ñ–ª—å–Ω–∏–π –ª–µ–≥–∫–æ–≤–∞–≥–æ–≤–∏–π –æ–±'—î–∫—Ç
    private readonly UnitProperties _properties;

    public Unit(string unitType, int x, int y)
    {
        _properties = UnitPropertiesFactory.GetProperties(unitType);
        X = x;
        Y = y;
    }

    public void Move(int newX, int newY)
    {
        X = newX;
        Y = newY;
        Console.WriteLine($"Unit moved to ({X}, {Y}). Health: {_properties.Health}, Speed: {_properties.Speed}.");
    }
}

// 4. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        // –°—Ç–≤–æ—Ä—é—î–º–æ —Ç–∏—Å—è—á—ñ –æ–±'—î–∫—Ç—ñ–≤, –∞–ª–µ UnitProperties –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ –ª–∏—à–µ –æ–¥–∏–Ω —Ä–∞–∑
        var units = new List<Unit>();
        for (int i = 0; i < 1000; i++)
        {
            units.Add(new Unit("Infantryman", i, i));
        }

        // –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è —Ç–æ–≥–æ, —è–∫ —É—Å—ñ —é–Ω—ñ—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ Flyweight –æ–±'—î–∫—Ç
        Console.WriteLine("\n–°—Ç–≤–æ—Ä–µ–Ω–æ 1000 —é–Ω—ñ—Ç—ñ–≤.");
        Console.WriteLine($"–ó–¥–æ—Ä–æ–≤'—è –ø–µ—Ä—à–æ–≥–æ —é–Ω—ñ—Ç–∞: {units[0].Health}"); // –ù–µ–º–∞—î –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø—É, –∞–ª–µ –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏
        
        Console.WriteLine($"–û–¥–∏–Ω —ñ —Ç–æ–π –∂–µ –æ–±'—î–∫—Ç UnitProperties? {ReferenceEquals(units[0].GetProperties(), units[999].GetProperties())}");
    }
}
```

(–ü—Ä–∏–º—ñ—Ç–∫–∞: –£ –ø—Ä–∏–∫–ª–∞–¥—ñ, –¥–ª—è —Å–ø—Ä–æ—â–µ–Ω–Ω—è, –º–∏ –¥–æ–¥–∞–º–æ –º–µ—Ç–æ–¥ `GetProperties()` –¥–æ –∫–ª–∞—Å—É `Unit`, —â–æ–± –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä—É–≤–∞—Ç–∏ `ReferenceEquals`.)

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–°–ø—ñ–ª—å–Ω–∏–π —Å—Ç–∞–Ω (Intrinsic State):** –¶–µ –¥–∞–Ω—ñ, —è–∫—ñ —î –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏ —ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Ä–æ–∑–¥—ñ–ª–µ–Ω—ñ –º—ñ–∂ –±–∞–≥–∞—Ç—å–º–∞ –æ–±'—î–∫—Ç–∞–º–∏. –£ –Ω–∞—à–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ —Ü–µ `UnitProperties`.
- **–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —Å—Ç–∞–Ω (Extrinsic State):** –¶–µ –¥–∞–Ω—ñ, —è–∫—ñ —î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞. –£ –Ω–∞—à–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ —Ü–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏ `X` —ñ `Y`.
- **–õ–µ–≥–∫–æ–≤–∞–≥–æ–≤–∞ —Ñ–∞–±—Ä–∏–∫–∞ (Flyweight Factory):** –¶—è —Ñ–∞–±—Ä–∏–∫–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —Å–ø—ñ–ª—å–Ω–∏–º–∏ –æ–±'—î–∫—Ç–∞–º–∏. –í–æ–Ω–∞ –≥–∞—Ä–∞–Ω—Ç—É—î, —â–æ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–ø—É —Å–ø—ñ–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö –±—É–¥–µ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –ª–∏—à–µ –æ–¥–∏–Ω –µ–∫–∑–µ–º–ø–ª—è—Ä.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **Java String Pool:** –£ Java, —è–∫—â–æ –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –∫—ñ–ª—å–∫–∞ —Ä—è–¥–∫—ñ–≤ –∑ –æ–¥–Ω–∞–∫–æ–≤–∏–º –≤–º—ñ—Å—Ç–æ–º, –≤–æ–Ω–∏ –±—É–¥—É—Ç—å –ø–æ—Å–∏–ª–∞—Ç–∏—Å—è –Ω–∞ –æ–¥–∏–Ω —ñ —Ç–æ–π –∂–µ –æ–±'—î–∫—Ç —É "–ø—É–ª—ñ" —Ä—è–¥–∫—ñ–≤, —â–æ –µ–∫–æ–Ω–æ–º–∏—Ç—å –ø–∞–º'—è—Ç—å.
- **–Ü–≥—Ä–æ–≤—ñ —Ä—É—à—ñ—ó:** Flyweight –∞–∫—Ç–∏–≤–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É —Ç–∏—Å—è—á –æ–¥–Ω–∞–∫–æ–≤–∏—Ö –æ–±'—î–∫—Ç—ñ–≤ (–¥–µ—Ä–µ–≤, –∫–∞–º–µ–Ω—ñ–≤, –≤–æ—Ä–æ–≥—ñ–≤).

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–ï–∫–æ–Ω–æ–º—ñ—è –ø–∞–º'—è—Ç—ñ:** –ü–∞—Ç–µ—Ä–Ω –º–æ–∂–µ –∑–Ω–∞—á–Ω–æ –∑–º–µ–Ω—à–∏—Ç–∏ –æ–±—Å—è–≥ –ø–∞–º'—è—Ç—ñ, –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏–π –¥–ª—è —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∏.
- **–û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ:** –ó–º–µ–Ω—à–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –æ–±'—î–∫—Ç—ñ–≤ –º–æ–∂–µ –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å garbage collector.

* * *


### –ü–∞—Ç–µ—Ä–Ω Strategy (–°—Ç—Ä–∞—Ç–µ–≥—ñ—è)

#### –ú–µ—Ç–∞

**–°—Ç—Ä–∞—Ç–µ–≥—ñ—è** ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –≤–∏–∑–Ω–∞—á–∞—î —Å—ñ–º–µ–π—Å—Ç–≤–æ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤, –ø–æ–º—ñ—â–∞—î –∫–æ–∂–µ–Ω –∑ –Ω–∏—Ö –≤ –æ–∫—Ä–µ–º–∏–π –∫–ª–∞—Å —ñ —Ä–æ–±–∏—Ç—å —ó—Ö –≤–∑–∞—î–º–æ–∑–∞–º—ñ–Ω–Ω–∏–º–∏. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º –Ω–µ–∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç—ñ–≤, —è–∫—ñ –π–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å.

–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω –¥–æ–∑–≤–æ–ª—è—î –æ–±'—î–∫—Ç—É-–∫–æ–Ω—Ç–µ–∫—Å—Ç—É (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–ª–∞—Å—É `PaymentProcessor`) –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –±—É–¥—å-—è–∫—É "—Å—Ç—Ä–∞—Ç–µ–≥—ñ—é" (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `CreditCardPayment` –∞–±–æ `PayPalPayment`), –Ω–µ –∑–Ω–∞—é—á–∏ –ø—Ä–æ —ó—ó –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é. –í–∏ –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—É —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –∫–æ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Strategy**, –∫–æ–ª–∏:

- **–£ –≤–∞—Å —î –±–∞–≥–∞—Ç–æ —Å—Ö–æ–∂–∏—Ö –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤, —è–∫—ñ –º–æ–∂–Ω–∞ –∑–∞–º—ñ–Ω—é–≤–∞—Ç–∏.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä—ñ–∑–Ω—ñ —Å–ø–æ—Å–æ–±–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (—à–≤–∏–¥–∫–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è, –±—É–ª—å–±–∞—à–∫–æ–≤–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è), –∞–±–æ —Ä—ñ–∑–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ (–µ–∫—Å–ø—Ä–µ—Å, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞, —Å–∞–º–æ–≤–∏–≤—ñ–∑).
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± –∫–ª—ñ—î–Ω—Ç –º—ñ–≥ –≤–∏–±–∏—Ä–∞—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø—Ä–æ–≥—Ä–∞–º–∏.** –í–∏ –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –æ–±'—î–∫—Ç-—Å—Ç—Ä–∞—Ç–µ–≥—ñ—é –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∞–±–æ –º–µ—Ç–æ–¥, —ñ —Å–∏—Å—Ç–µ–º–∞ –±—É–¥–µ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –Ω–∏–º —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ.
- **–í–∏ —Ö–æ—á–µ—Ç–µ —É–Ω–∏–∫–Ω—É—Ç–∏ —Å–∫–ª–∞–¥–Ω–∏—Ö —É–º–æ–≤–Ω–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π (`if/else` –∞–±–æ `switch`) –¥–ª—è –≤–∏–±–æ—Ä—É –ø–æ–≤–µ–¥—ñ–Ω–∫–∏.** –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –º–∞—Ç–∏ –≤–µ–ª–∏–∫–∏–π —É–º–æ–≤–Ω–∏–π –±–ª–æ–∫, –≤–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç–µ –ø–æ–ª—ñ–º–æ—Ä—Ñ—ñ–∑–º, –¥–µ–ª–µ–≥—É—é—á–∏ –≤–∏–±—ñ—Ä —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –∫–ª—ñ—î–Ω—Ç—É.

–¶–µ–π –ø–∞—Ç–µ—Ä–Ω —î —ñ–¥–µ–∞–ª—å–Ω–∏–º –≤—Ç—ñ–ª–µ–Ω–Ω—è–º –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ **Open/Closed (O)** (–ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó) —Ç–∞ **Single Responsibility (S)** (–∫–æ–∂–µ–Ω –∫–ª–∞—Å-—Å—Ç—Ä–∞—Ç–µ–≥—ñ—è –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ª–∏—à–µ –∑–∞ –æ–¥–∏–Ω –∞–ª–≥–æ—Ä–∏—Ç–º).

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ–º–æ, —â–æ –º–∏ —Ä–æ–∑—Ä–æ–±–ª—è—î–º–æ —Å–∏—Å—Ç–µ–º—É, —è–∫–∞ –Ω–∞–¥–∞—î —Ä—ñ–∑–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ –∑–∞–º–æ–≤–ª–µ–Ω—å. –õ–æ–≥—ñ–∫–∞ —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—É –≤–∞—Ä—Ç–æ—Å—Ç—ñ –¥–æ—Å—Ç–∞–≤–∫–∏ —î —Å–∫–ª–∞–¥–Ω–æ—é —ñ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –æ–±—Ä–∞–Ω–æ–≥–æ –º–µ—Ç–æ–¥—É.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó
// –í–∏–∑–Ω–∞—á–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –≤—Å—ñ—Ö –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤.
public interface IDeliveryStrategy
{
    double CalculateCost(double distance);
}

// 2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó
// –†–µ–∞–ª—ñ–∑—É—é—Ç—å —Ä—ñ–∑–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏.
public class StandardDelivery : IDeliveryStrategy
{
    public double CalculateCost(double distance)
    {
        // –ü—Ä–æ—Å—Ç–∞ –ª–æ–≥—ñ–∫–∞: —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å + –ø–ª–∞—Ç–∞ –∑–∞ –≤—ñ–¥—Å—Ç–∞–Ω—å
        return 5.0 + distance * 0.5;
    }
}

public class ExpressDelivery : IDeliveryStrategy
{
    public double CalculateCost(double distance)
    {
        // –ë—ñ–ª—å—à —Å–∫–ª–∞–¥–Ω–∞ –ª–æ–≥—ñ–∫–∞: –≤–∏—Å–æ–∫–∞ —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å + –±—ñ–ª—å—à–∞ –ø–ª–∞—Ç–∞ –∑–∞ –≤—ñ–¥—Å—Ç–∞–Ω—å
        return 15.0 + distance * 1.2;
    }
}

public class PickupDelivery : IDeliveryStrategy
{
    public double CalculateCost(double distance)
    {
        // –ü—Ä–æ—Å—Ç–∞ –ª–æ–≥—ñ–∫–∞: –≤–∞—Ä—Ç—ñ—Å—Ç—å = 0, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–ª—ñ—î–Ω—Ç —Å–∞–º –∑–∞–±–∏—Ä–∞—î
        return 0.0;
    }
}

// 3. –ö–ª–∞—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç
// –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é. –í—ñ–Ω –Ω–µ –∑–Ω–∞—î, —è–∫–∞ —Å–∞–º–µ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è.
public class Order
{
    private IDeliveryStrategy _deliveryStrategy;
    private double _distance;

    public Order(double distance)
    {
        _distance = distance;
    }

    // –ú–µ—Ç–æ–¥ –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó
    public void SetDeliveryStrategy(IDeliveryStrategy strategy)
    {
        _deliveryStrategy = strategy;
    }

    public double GetDeliveryCost()
    {
        if (_deliveryStrategy == null)
        {
            throw new InvalidOperationException("Delivery strategy not set.");
        }
        // –î–µ–ª–µ–≥—É—î–º–æ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤–∞—Ä—Ç–æ—Å—Ç—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó
        return _deliveryStrategy.CalculateCost(_distance);
    }
}

// 4. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        double distance = 10.0; // 10 –∫–º
        Order order = new Order(distance);

        // –í–∏–±—ñ—Ä —ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
        order.SetDeliveryStrategy(new StandardDelivery());
        Console.WriteLine($"–í–∞—Ä—Ç—ñ—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—ó –¥–æ—Å—Ç–∞–≤–∫–∏: {order.GetDeliveryCost()} –≥—Ä–Ω");

        order.SetDeliveryStrategy(new ExpressDelivery());
        Console.WriteLine($"–í–∞—Ä—Ç—ñ—Å—Ç—å –µ–∫—Å–ø—Ä–µ—Å-–¥–æ—Å—Ç–∞–≤–∫–∏: {order.GetDeliveryCost()} –≥—Ä–Ω");

        order.SetDeliveryStrategy(new PickupDelivery());
        Console.WriteLine($"–í–∞—Ä—Ç—ñ—Å—Ç—å —Å–∞–º–æ–≤–∏–≤–æ–∑—É: {order.GetDeliveryCost()} –≥—Ä–Ω");
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó (`IDeliveryStrategy`)**: –ö–ª—é—á–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç. –í—ñ–Ω –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î —î–¥–∏–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –∫–ª–∞—Å—É-–∫–æ–Ω—Ç–µ–∫—Å—Ç—É (`Order`) –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –±—É–¥—å-—è–∫–æ—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—é —Å—Ç—Ä–∞—Ç–µ–≥—ñ—î—é.
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó (`StandardDelivery`, `ExpressDelivery`, `PickupDelivery`)**: –¶–µ –∫–ª–∞—Å–∏, —â–æ —ñ–Ω–∫–∞–ø—Å—É–ª—é—é—Ç—å —É —Å–æ–±—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∞–ª–≥–æ—Ä–∏—Ç–º–∏. –í–æ–Ω–∏ —î –≤–∑–∞—î–º–æ–∑–∞–º—ñ–Ω–Ω–∏–º–∏, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—Å—ñ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å –æ–¥–∏–Ω —ñ —Ç–æ–π —Å–∞–º–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- **–ö–ª–∞—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç (`Order`)**: –ú—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç-—Å—Ç—Ä–∞—Ç–µ–≥—ñ—é (`IDeliveryStrategy`). –í—ñ–Ω –¥–µ–ª–µ–≥—É—î –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∞–ª–≥–æ—Ä–∏—Ç–º—É —Ü—å–æ–º—É –æ–±'—î–∫—Ç—É, –Ω–µ –∑–Ω–∞—é—á–∏ –ø—Ä–æ –π–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Ç–∏–ø.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è**: –ë–∞–≥–∞—Ç–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤ –Ω–∞–¥–∞—é—Ç—å –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–±—Ä–∞—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤ `Collections.sort()` —É Java).
- **–í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö**: –†—ñ–∑–Ω—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –º–æ–∂—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö (–µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞, –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É, –¥–∞—Ç–∞).
- **–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –¢–µ—Å—Ç-—Ä–∞–Ω–µ—Ä –º–æ–∂–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –¥–ª—è –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `NUnitStrategy`, `xUnitStrategy`).

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –í–∏ –º–æ–∂–µ—Ç–µ –ª–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –±–µ–∑ –∑–º—ñ–Ω–∏ —ñ—Å–Ω—É—é—á–æ–≥–æ –∫–æ–¥—É –∫–æ–Ω—Ç–µ–∫—Å—Ç—É.
- **–£–Ω–∏–∫–Ω–µ–Ω–Ω—è —É–º–æ–≤–Ω–∏—Ö –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ–π**: –ö–æ–¥ —Å—Ç–∞—î —á–∏—Å—Ç—ñ—à–∏–º —ñ –ø—Ä–æ—Å—Ç—ñ—à–∏–º –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–∏ –ø–æ–∑–±–∞–≤–ª—è—î—Ç–µ—Å—è –¥–æ–≤–≥–∏—Ö `switch` –±–ª–æ–∫—ñ–≤.
- **–Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è**: –ö–æ–∂–µ–Ω –∞–ª–≥–æ—Ä–∏—Ç–º –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É —Å–≤–æ—î–º—É –≤–ª–∞—Å–Ω–æ–º—É –∫–ª–∞—Å—ñ, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∏–º, –ª–µ–≥–∫–∏–º –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —ñ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.


* * *

### –ü–∞—Ç–µ—Ä–Ω Observer (–°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á)

#### –ú–µ—Ç–∞

**–°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á** ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π —Å—Ç–≤–æ—Ä—é—î –º–µ—Ö–∞–Ω—ñ–∑–º –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ **"–æ–¥–∏–Ω-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö"**. –¶–µ –æ–∑–Ω–∞—á–∞—î, —â–æ –∫–æ–ª–∏ –æ–¥–∏–Ω –æ–±'—î–∫—Ç (—è–∫–∏–π –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **Subject** –∞–±–æ **Publisher**) –∑–º—ñ–Ω—é—î —Å–≤—ñ–π —Å—Ç–∞–Ω, —É—Å—ñ –∑–∞–ª–µ–∂–Ω—ñ –≤—ñ–¥ –Ω—å–æ–≥–æ –æ–±'—î–∫—Ç–∏ (—è–∫—ñ –Ω–∞–∑–∏–≤–∞—é—Ç—å—Å—è **Observers** –∞–±–æ **Subscribers**) –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–ø–æ–≤—ñ—â–∞—é—Ç—å—Å—è —Ç–∞ –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è.

–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Ü–µ —è–∫ –ø—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∂—É—Ä–Ω–∞–ª: –≤–∏–¥–∞–≤–µ—Ü—å (Subject) –≤–∏–ø—É—Å–∫–∞—î –Ω–æ–≤–∏–π –Ω–æ–º–µ—Ä, —ñ –≤—Å—ñ –ø–µ—Ä–µ–¥–ø–ª–∞—Ç–Ω–∏–∫–∏ (Observers) –æ—Ç—Ä–∏–º—É—é—Ç—å —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è. –í–∏–¥–∞–≤–µ—Ü—å –Ω–µ –∑–Ω–∞—î, —Ö—Ç–æ —Å–∞–º–µ –ø–µ—Ä–µ–¥–ø–ª–∞—á–µ–Ω–∏–π, –≤—ñ–Ω –ø—Ä–æ—Å—Ç–æ —Ä–æ–∑—Å–∏–ª–∞—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∑–º–µ–Ω—à–∏—Ç–∏ –∑–≤'—è–∑–∞–Ω—ñ—Å—Ç—å –º—ñ–∂ –æ–±'—î–∫—Ç–∞–º–∏.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Observer**, –∫–æ–ª–∏:

- **–ó–º—ñ–Ω–∞ —Å—Ç–∞–Ω—É –æ–¥–Ω–æ–≥–æ –æ–±'—î–∫—Ç–∞ –ø–æ–≤–∏–Ω–Ω–∞ –ø—Ä–∏–∑–≤–æ–¥–∏—Ç–∏ –¥–æ –∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω—É —ñ–Ω—à–∏—Ö –æ–±'—î–∫—Ç—ñ–≤, –∞–ª–µ –≤–∏ –Ω–µ –∑–Ω–∞—î—Ç–µ, —Å–∫—ñ–ª—å–∫–∏ —ó—Ö —ñ —è–∫—ñ –≤–æ–Ω–∏.** –¶–µ —á–∞—Å—Ç–æ —Ç—Ä–∞–ø–ª—è—î—Ç—å—Å—è –≤ –ø–æ–¥—ñ—î–≤–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö.
- **–û–±'—î–∫—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—ñ –ø–æ–≤–∏–Ω–Ω—ñ –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏, –∞–ª–µ –≤–∏ —Ö–æ—á–µ—Ç–µ –º—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ —ó—Ö–Ω—é –ø—Ä—è–º—É –∑–≤'—è–∑–∞–Ω—ñ—Å—Ç—å (coupling).** Publisher —ñ Observer –ø–æ–≤'—è–∑–∞–Ω—ñ —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —â–æ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –≥–Ω—É—á–∫–æ—é.

–¶–µ–π –ø–∞—Ç–µ—Ä–Ω —î —ñ–¥–µ–∞–ª—å–Ω–∏–º –≤—Ç—ñ–ª–µ–Ω–Ω—è–º –ø—Ä–∏–Ω—Ü–∏–ø—É **Dependency Inversion (D)**, –æ—Å–∫—ñ–ª—å–∫–∏ Publisher –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó `IObserver`, –∞ –Ω–µ –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ–π —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á—ñ–≤.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ—Ç—å, —â–æ –º–∏ —Ä–æ–∑—Ä–æ–±–ª—è—î–º–æ —Å–∏—Å—Ç–µ–º—É, –¥–µ —î `WeatherData` (–ø–æ–≥–æ–¥–∞) —ñ –∫—ñ–ª—å–∫–∞ –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤, —â–æ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å —ó—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `CurrentConditionsDisplay` —ñ `StatisticsDisplay`). –ö–æ–ª–∏ –¥–∞–Ω—ñ –ø—Ä–æ –ø–æ–≥–æ–¥—É –æ–Ω–æ–≤–ª—é—é—Ç—å—Å—è, —É—Å—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó –ø–æ–≤–∏–Ω–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–Ω–æ–≤–∏—Ç–∏ —Å–≤–æ—î –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å Subject (Publisher)
// –í–∏–∑–Ω–∞—á–∞—î –º–µ—Ç–æ–¥–∏ –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á–∞–º–∏.
public interface ISubject
{
    void Attach(IObserver observer); // –î–æ–¥–∞—Ç–∏ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á–∞
    void Detach(IObserver observer); // –í–∏–¥–∞–ª–∏—Ç–∏ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á–∞
    void Notify();                  // –ü–æ–≤—ñ–¥–æ–º–∏—Ç–∏ –≤—Å—ñ—Ö —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á—ñ–≤
}

// 2. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å Observer (Subscriber)
// –í–∏–∑–Ω–∞—á–∞—î –º–µ—Ç–æ–¥, —è–∫–∏–π –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è.
public interface IObserver
{
    void Update(string message);
}

// 3. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π Subject
public class WeatherData : ISubject
{
    private readonly List<IObserver> _observers = new();
    private string _weatherCondition;

    public void Attach(IObserver observer) => _observers.Add(observer);
    public void Detach(IObserver observer) => _observers.Remove(observer);
    public void Notify() => _observers.ForEach(o => o.Update(_weatherCondition));

    public void SetWeatherCondition(string newCondition)
    {
        _weatherCondition = newCondition;
        Console.WriteLine($"\nWeather data updated to: {_weatherCondition}");
        Notify(); // –ü–æ–≤—ñ–¥–æ–º–ª—è—î–º–æ –≤—Å—ñ—Ö –ø—Ä–æ –∑–º—ñ–Ω—É
    }
}

// 4. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ Observer'–∏
public class CurrentConditionsDisplay : IObserver
{
    public void Update(string message)
    {
        Console.WriteLine($"Current Conditions: The weather is '{message}'.");
    }
}

public class StatisticsDisplay : IObserver
{
    public void Update(string message)
    {
        Console.WriteLine($"Statistics: We now have a new weather record: '{message}'.");
    }
}

// 5. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        // –°—Ç–≤–æ—Ä—é—î–º–æ Publisher —Ç–∞ Observer'—ñ–≤
        WeatherData weatherData = new WeatherData();
        IObserver currentDisplay = new CurrentConditionsDisplay();
        IObserver statisticsDisplay = new StatisticsDisplay();

        // –î–æ–¥–∞—î–º–æ Observer'—ñ–≤ –¥–æ Publisher'–∞
        weatherData.Attach(currentDisplay);
        weatherData.Attach(statisticsDisplay);

        // –û–Ω–æ–≤–ª—é—î–º–æ –¥–∞–Ω—ñ. –£—Å—ñ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á—ñ –æ—Ç—Ä–∏–º–∞—é—Ç—å —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è.
        weatherData.SetWeatherCondition("Sunny");
        
        // –í–∏–¥–∞–ª—è—î–º–æ –æ–¥–Ω–æ–≥–æ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á–∞ —ñ –∑–Ω–æ–≤—É –æ–Ω–æ–≤–ª—é—î–º–æ
        weatherData.Detach(currentDisplay);
        weatherData.SetWeatherCondition("Rainy");
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

1. **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ `ISubject` —Ç–∞ `IObserver`:** –¶–µ –∫–ª—é—á–æ–≤—ñ –∞–±—Å—Ç—Ä–∞–∫—Ü—ñ—ó. Publisher (`WeatherData`) –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ `IObserver`, –∞ Observer'–∏ –∑–∞–ª–µ–∂–∞—Ç—å –≤—ñ–¥ `ISubject`. –¶–µ —Ä–æ–∑–≤'—è–∑—É—î —ó—Ö–Ω—é –ø—Ä—è–º—É –∑–≤'—è–∑–∞–Ω—ñ—Å—Ç—å.
2. **Publisher (`WeatherData`):** –ú—ñ—Å—Ç–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á—ñ–≤ —ñ –º–µ—Ç–æ–¥–∏ –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –Ω–∏–º–∏. –ö–æ–ª–∏ –π–æ–≥–æ —Å—Ç–∞–Ω –∑–º—ñ–Ω—é—î—Ç—å—Å—è, –≤—ñ–Ω –≤–∏–∫–ª–∏–∫–∞—î `Notify()`, —è–∫–∏–π, —É —Å–≤–æ—é —á–µ—Ä–≥—É, –ø–µ—Ä–µ–±–∏—Ä–∞—î –≤—Å—ñ—Ö –ø—ñ–¥–ø–∏—Å–∞–Ω–∏—Ö —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á—ñ–≤ —ñ –≤–∏–∫–ª–∏–∫–∞—î —ó—Ö–Ω—ñ–π –º–µ—Ç–æ–¥ `Update()`.
3. **Observers (`CurrentConditionsDisplay`, `StatisticsDisplay`):** –ö–æ–∂–µ–Ω –∑ –Ω–∏—Ö —Ä–µ–∞–ª—ñ–∑—É—î `IObserver` —ñ –º—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫—É, —è–∫–∞ –ø–æ–≤–∏–Ω–Ω–∞ —Å–ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **GUI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏ (WinForms, WPF):** –ö–ª–∞—Å–∏—á–Ω–∞ –ø–æ–¥—ñ—î–≤–∞ –º–æ–¥–µ–ª—å `Button.Click += MyEventHandler` ‚Äî —Ü–µ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –ø–∞—Ç–µ—Ä–Ω–∞ Observer. –í–∏ –ø—ñ–¥–ø–∏—Å—É—î—Ç–µ—Å—è –Ω–∞ –ø–æ–¥—ñ—é, —ñ –∫–æ–ª–∏ –≤–æ–Ω–∞ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î, —É—Å—ñ –ø—ñ–¥–ø–∏—Å–∞–Ω—ñ –º–µ—Ç–æ–¥–∏ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è.
- **Rx.NET (Reactive Extensions):** –¶—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞ —î –ø–æ—Ç—É–∂–Ω–∏–º —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è–º –ø–∞—Ç–µ—Ä–Ω–∞ Observer. –í–æ–Ω–∞ –Ω–∞–¥–∞—î –≥–Ω—É—á–∫—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ—Å—Ç—è–º–∏ –ø–æ–¥—ñ–π.
- **–°–∏—Å—Ç–µ–º–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å:** –£ –±–∞–≥–∞—Ç—å–æ—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –¥–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å–ø–æ–≤—ñ—â–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –ø—Ä–æ –∑–º—ñ–Ω–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –Ω–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è), –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–î–∏–Ω–∞–º—ñ—á–Ω—ñ—Å—Ç—å:** –í–∏ –º–æ–∂–µ—Ç–µ –¥–æ–¥–∞–≤–∞—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª—è—Ç–∏ —Å–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á—ñ–≤ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è, —â–æ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –¥—É–∂–µ –≥–Ω—É—á–∫–æ—é.
- **–ù–∏–∑—å–∫–∞ –∑–≤'—è–∑–∞–Ω—ñ—Å—Ç—å:** Publisher —ñ Observer'–∏ —Å–ª–∞–±–æ –ø–æ–≤'—è–∑–∞–Ω—ñ, —Ç–æ–º—É –≤–∏ –º–æ–∂–µ—Ç–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –æ–¥–Ω–æ–≥–æ –∑ –Ω–∏—Ö, –Ω–µ –≤–ø–ª–∏–≤–∞—é—á–∏ –Ω–∞ —ñ–Ω—à–æ–≥–æ.
- **–ü–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:** –°–ø–æ—Å—Ç–µ—Ä—ñ–≥–∞—á—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –≤ —Ä—ñ–∑–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, —è–∫—ñ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å `ISubject`.

* * *


### –ü–∞—Ç–µ—Ä–Ω Command (–ö–æ–º–∞–Ω–¥–∞)

#### –ú–µ—Ç–∞

**–ö–æ–º–∞–Ω–¥–∞** ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –∑–∞–ø–∏—Ç —è–∫ –æ–±'—î–∫—Ç. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–≤–∞—Ç–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤ —Ä—ñ–∑–Ω–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏, —Å—Ç–∞–≤–∏—Ç–∏ —ó—Ö —É —á–µ—Ä–≥—É –∞–±–æ –ª–æ–≥—É–≤–∞—Ç–∏, –∞ —Ç–∞–∫–æ–∂ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è.

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –∫–µ—Ä—É–≤–∞—Ç–∏ –ø—Ä–∏—Å—Ç—Ä–æ—î–º (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ª–∞–º–ø–æ—é) –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø—É–ª—å—Ç–∞. –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –ø—É–ª—å—Ç –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ –≤–∏–∫–ª–∏–∫–∞–≤ –º–µ—Ç–æ–¥ `lamp.turnOn()`, –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç-–∫–æ–º–∞–Ω–¥—É `TurnOnCommand` —ñ –ø–µ—Ä–µ–¥–∞—î –π–æ–≥–æ. –¶—è –∫–æ–º–∞–Ω–¥–∞ –º—ñ—Å—Ç–∏—Ç—å —É—Å—é –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥—ñ—ó.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Command**, –∫–æ–ª–∏:

- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è/–ø–æ–≤—Ç–æ—Ä—É (undo/redo).** –û—Å–∫—ñ–ª—å–∫–∏ –∫–æ–∂–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ —î –æ–±'—î–∫—Ç–æ–º, —ó—ó –º–æ–∂–Ω–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ —ñ—Å—Ç–æ—Ä—ñ—ó (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É —Å—Ç–µ–∫—É), –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —É –∑–≤–æ—Ä–æ—Ç–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É –¥–ª—è —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è.
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–∞–≤–∏—Ç–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤ —á–µ—Ä–≥—É, –ø–ª–∞–Ω—É–≤–∞—Ç–∏ —ó—Ö –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∞–±–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —ó—Ö –≤—ñ–¥–¥–∞–ª–µ–Ω–æ.** –ö–æ–º–∞–Ω–¥–∏ –º–æ–∂–Ω–∞ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤ —á–µ—Ä–∑—ñ, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –≤ —ñ–Ω—à–æ–º—É –ø–æ—Ç–æ—Ü—ñ –∞–±–æ –Ω–∞ —ñ–Ω—à—ñ–π –º–∞—à–∏–Ω—ñ.
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–≤–∞—Ç–∏ –æ–±'—î–∫—Ç–∏ –¥—ñ—è–º–∏.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –µ–ª–µ–º–µ–Ω—Ç–∏ –º–µ–Ω—é, –∫–Ω–æ–ø–∫–∏ –Ω–∞ –ø–∞–Ω–µ–ª—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –∞–±–æ –º–∞–∫—Ä–æ—Å–∏ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –∫–æ–º–∞–Ω–¥.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–î–∞–≤–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–∏–º–æ –ø—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥. –£ –Ω–∞—Å —î –∫–ª–∞—Å `Light` (–õ–∞–º–ø–∞), —ñ –º–∏ —Ö–æ—á–µ–º–æ –∫–µ—Ä—É–≤–∞—Ç–∏ –Ω–µ—é –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø—É–ª—å—Ç–∞, —è–∫–∏–π –ø—ñ–¥—Ç—Ä–∏–º—É—î –∫–æ–º–∞–Ω–¥–∏ –≤–≤—ñ–º–∫–Ω–µ–Ω–Ω—è —Ç–∞ –≤–∏–º–∫–Ω–µ–Ω–Ω—è.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–∏
// –í–∏–∑–Ω–∞—á–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –≤—Å—ñ—Ö –∫–æ–º–∞–Ω–¥
public interface ICommand
{
    void Execute();
    void Undo(); // –î–æ–¥–∞—î–º–æ –º–µ—Ç–æ–¥ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è
}

// 2. –ö–ª–∞—Å-–æ–¥–µ—Ä–∂—É–≤–∞—á (Receiver)
// –û–±'—î–∫—Ç, —â–æ –≤–∏–∫–æ–Ω—É—î —Ä–µ–∞–ª—å–Ω—É —Ä–æ–±–æ—Ç—É. –ö–æ–º–∞–Ω–¥–∞ "–∑–Ω–∞—î" –ø—Ä–æ –Ω—å–æ–≥–æ.
public class Light
{
    public void TurnOn()
    {
        Console.WriteLine("The light is on.");
    }
    
    public void TurnOff()
    {
        Console.WriteLine("The light is off.");
    }
}

// 3. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫–æ–º–∞–Ω–¥–∏
// –Ü–Ω–∫–∞–ø—Å—É–ª—é—é—Ç—å –∑–∞–ø–∏—Ç –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–µ–≤–Ω–æ—ó –¥—ñ—ó
public class LightOnCommand : ICommand
{
    private readonly Light _light;

    public LightOnCommand(Light light)
    {
        _light = light;
    }
    
    public void Execute()
    {
        _light.TurnOn();
    }
    
    public void Undo()
    {
        _light.TurnOff();
    }
}

public class LightOffCommand : ICommand
{
    private readonly Light _light;

    public LightOffCommand(Light light)
    {
        _light = light;
    }
    
    public void Execute()
    {
        _light.TurnOff();
    }

    public void Undo()
    {
        _light.TurnOn();
    }
}

// 4. –ö–ª–∞—Å-—ñ–Ω—ñ—Ü—ñ–∞—Ç–æ—Ä (Invoker)
// –í–∏–∫–ª–∏–∫–∞—î –∫–æ–º–∞–Ω–¥—É. –í—ñ–Ω –Ω–µ –∑–Ω–∞—î –Ω—ñ –ø—Ä–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫–æ–º–∞–Ω–¥–∏, –Ω—ñ –ø—Ä–æ –æ–¥–µ—Ä–∂—É–≤–∞—á—ñ–≤.
public class RemoteControl
{
    private ICommand _command;
    private readonly Stack<ICommand> _history = new();

    public void SetCommand(ICommand command)
    {
        _command = command;
    }

    public void PressButton()
    {
        if (_command != null)
        {
            _command.Execute();
            _history.Push(_command); // –î–æ–¥–∞—î–º–æ –∫–æ–º–∞–Ω–¥—É –≤ —ñ—Å—Ç–æ—Ä—ñ—é
        }
    }
    
    public void PressUndo()
    {
        if (_history.Count > 0)
        {
            ICommand lastCommand = _history.Pop();
            lastCommand.Undo();
        }
    }
}

// 5. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        // –û–¥–µ—Ä–∂—É–≤–∞—á
        Light light = new Light();

        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–º–∞–Ω–¥
        ICommand lightOn = new LightOnCommand(light);
        ICommand lightOff = new LightOffCommand(light);
        
        // –Ü–Ω—ñ—Ü—ñ–∞—Ç–æ—Ä
        RemoteControl remote = new RemoteControl();

        // –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—É–ª—å—Ç–∞
        remote.SetCommand(lightOn);
        remote.PressButton(); // –õ–∞–º–ø–∞ –≤–º–∏–∫–∞—î—Ç—å—Å—è

        remote.SetCommand(lightOff);
        remote.PressButton(); // –õ–∞–º–ø–∞ –≤–∏–º–∏–∫–∞—î—Ç—å—Å—è

        Console.WriteLine("\n–°–∫–∞—Å–æ–≤—É—î–º–æ –æ—Å—Ç–∞–Ω–Ω—é –¥—ñ—é:");
        remote.PressUndo(); // –õ–∞–º–ø–∞ –∑–Ω–æ–≤—É –≤–º–∏–∫–∞—î—Ç—å—Å—è
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–∏ (`ICommand`)**: –í–∏–∑–Ω–∞—á–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç `Execute()` (—ñ `Undo()`), —â–æ –¥–æ–∑–≤–æ–ª—è—î —ñ–Ω—à–∏–º –æ–±'—î–∫—Ç–∞–º –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –∫–æ–º–∞–Ω–¥–∞–º–∏ —É–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–æ.
- **–û–¥–µ—Ä–∂—É–≤–∞—á (`Light`)**: –û–±'—î–∫—Ç, —â–æ –º—ñ—Å—Ç–∏—Ç—å —Å–∞–º—É –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É. –í—ñ–Ω –≤–∏–∫–æ–Ω—É—î –¥—ñ—ó, –æ–ø–∏—Å–∞–Ω—ñ –≤ –∫–æ–º–∞–Ω–¥—ñ.
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –∫–æ–º–∞–Ω–¥–∏ (`LightOnCommand`, `LightOffCommand`)**: –¶–µ –∫–ª–∞—Å–∏, —â–æ —ñ–Ω–∫–∞–ø—Å—É–ª—é—é—Ç—å –≤–∏–∫–ª–∏–∫ –¥–æ –æ–¥–µ—Ä–∂—É–≤–∞—á–∞. –ö–æ–∂–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–¥–µ—Ä–∂—É–≤–∞—á–∞ —ñ –¥–µ–ª–µ–≥—É—î –π–æ–º—É –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –¥—ñ—ó.
- **–Ü–Ω—ñ—Ü—ñ–∞—Ç–æ—Ä (`RemoteControl`)**: –ö–ª–∞—Å, —è–∫–∏–π –≤–∏–∫–ª–∏–∫–∞—î –∫–æ–º–∞–Ω–¥–∏. –í—ñ–Ω –Ω–µ –∑–Ω–∞—î, —â–æ —Å–∞–º–µ –±—É–¥–µ –≤–∏–∫–æ–Ω–∞–Ω–æ, –∞ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∞—Ü—é—î –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `ICommand`. –¶–µ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º –≤—ñ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –¥—ñ–π.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **–°–∏—Å—Ç–µ–º–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç—É:** –ú–∞–π–∂–µ –≤—Å—ñ –ø—Ä–æ–≥—Ä–∞–º–∏ –∑ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª–æ–º —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è/–ø–æ–≤—Ç–æ—Ä—É –¥—ñ–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ø–∞—Ç–µ—Ä–Ω Command. –ö–æ–∂–Ω–∞ –¥—ñ—è (–≤—Å—Ç–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç—É, –∑–º—ñ–Ω–∞ —Ñ–æ—Ä–º–∞—Ç—É) —î –æ–±'—î–∫—Ç–æ–º-–∫–æ–º–∞–Ω–¥–æ—é.
- **–ß–µ—Ä–≥–∏ –∑–∞–≤–¥–∞–Ω—å:** –£ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–∏—Ö –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∞—Ö –∫–æ–º–∞–Ω–¥–∏ –º–æ–∂—É—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏—Å—è –¥–æ —á–µ—Ä–≥–∏, –∞ –ø–æ—Ç—ñ–º –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è —Ä–æ–±–æ—á–∏–º–∏ –ø–æ—Ç–æ–∫–∞–º–∏.
- **UI-–µ–ª–µ–º–µ–Ω—Ç–∏:** –ï–ª–µ–º–µ–Ω—Ç–∏ –º–µ–Ω—é –∞–±–æ –∫–Ω–æ–ø–∫–∏ –º–æ–∂—É—Ç—å –º—ñ—Å—Ç–∏—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç–∏-–∫–æ–º–∞–Ω–¥–∏, —ñ –ø—Ä–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—ñ –≤–æ–Ω–∏ –ø—Ä–æ—Å—Ç–æ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å –º–µ—Ç–æ–¥ `Execute()`.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–†–æ–∑–≤'—è–∑–∞–Ω–Ω—è –∑–≤'—è–∑–Ω–æ—Å—Ç—ñ (Decoupling):** –Ü–Ω—ñ—Ü—ñ–∞—Ç–æ—Ä (`RemoteControl`) –Ω–µ –∑–Ω–∞—î –ø—Ä–æ –æ–¥–µ—Ä–∂—É–≤–∞—á–∞ (`Light`), –≤—ñ–Ω –≤–∑–∞—î–º–æ–¥—ñ—î –ª–∏—à–µ –∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º `ICommand`. –¶–µ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –¥—É–∂–µ –≥–Ω—É—á–∫–æ—é.
- **–Ü—Å—Ç–æ—Ä—ñ—è –æ–ø–µ—Ä–∞—Ü—ñ–π:** –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —ñ—Å—Ç–æ—Ä—ñ—é –∫–æ–º–∞–Ω–¥ –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Å–∫–ª–∞–¥–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó, —Ç–∞–∫—ñ —è–∫ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è –¥—ñ–π, –º–∞–∫—Ä–æ—Å–∏ —á–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è.

* * *


### –ü–∞—Ç–µ—Ä–Ω State (–°—Ç–∞–Ω)

#### –ú–µ—Ç–∞

**–°—Ç–∞–Ω** ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –æ–±'—î–∫—Ç—É –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Å–≤–æ—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É, –∫–æ–ª–∏ –∑–º—ñ–Ω—é—î—Ç—å—Å—è –π–æ–≥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω. –¶–µ –≤–∏–≥–ª—è–¥–∞—î —Ç–∞–∫, –Ω—ñ–±–∏ –æ–±'—î–∫—Ç –∑–º—ñ–Ω—é—î —Å–≤—ñ–π –∫–ª–∞—Å. –ü–∞—Ç–µ—Ä–Ω —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –ø–æ–≤–µ–¥—ñ–Ω–∫—É, –ø–æ–≤'—è–∑–∞–Ω—É –∑ –ø–µ–≤–Ω–∏–º —Å—Ç–∞–Ω–æ–º, –≤ –æ–∫—Ä–µ–º—ñ –æ–±'—î–∫—Ç–∏, —â–æ —Ä–æ–±–∏—Ç—å –∫–æ–¥ —á–∏—Å—Ç–∏–º —ñ –ª–µ–≥–∫–∏–º –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è.

–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, –∑–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –º–∞—Ç–∏ –≤–µ–ª–∏–∫–∏–π `switch` –∞–±–æ `if/else` –±–ª–æ–∫ —É –º–µ—Ç–æ–¥—ñ, —è–∫–∏–π –ø–µ—Ä–µ–≤—ñ—Ä—è—î –ø–æ—Ç–æ—á–Ω–∏–π —Å—Ç–∞–Ω, –≤–∏ –¥–µ–ª–µ–≥—É—î—Ç–µ —Ü—é –ø–æ–≤–µ–¥—ñ–Ω–∫—É –æ–±'—î–∫—Ç—É, —è–∫–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î —Ü–µ–π —Å—Ç–∞–Ω.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **State**, –∫–æ–ª–∏:

- **–ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –æ–±'—î–∫—Ç–∞ —Å–∏–ª—å–Ω–æ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –π–æ–≥–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–±'—î–∫—Ç `–ó–∞–º–æ–≤–ª–µ–Ω–Ω—è` –º–æ–∂–µ –±—É—Ç–∏ –≤ —Å—Ç–∞–Ω—ñ `–ß–µ—Ä–Ω–µ—Ç–∫–∞`, `–û–ø–ª–∞—á–µ–Ω–æ`, `–í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ`, —ñ –≤ –∫–æ–∂–Ω–æ–º—É —Å—Ç–∞–Ω—ñ –≤—ñ–Ω –º–∞—î —Ä—ñ–∑–Ω—É –ø–æ–≤–µ–¥—ñ–Ω–∫—É.
- **–ú–µ—Ç–æ–¥–∏ –æ–±'—î–∫—Ç–∞ –º—ñ—Å—Ç—è—Ç—å –≤–µ–ª–∏–∫—ñ —É–º–æ–≤–Ω—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó (`if/else`, `switch`)**, —è–∫—ñ –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å —Å—Ç–∞–Ω. –¶–µ —è–≤–Ω–∏–π —Å–∏–≥–Ω–∞–ª, —â–æ –ø–∞—Ç–µ—Ä–Ω State –º–æ–∂–µ –±—É—Ç–∏ –∫–æ—Ä–∏—Å–Ω–∏–º.
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ —Å—Ç–∞–Ω–∏ –±–µ–∑ –∑–º—ñ–Ω–∏ —ñ—Å–Ω—É—é—á–∏—Ö –∫–ª–∞—Å—ñ–≤.** –ü–∞—Ç–µ—Ä–Ω –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø—Ä–∏–Ω—Ü–∏–ø—É **Open/Closed (O)**.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ—Ç—å, —â–æ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ –æ–±'—î–∫—Ç `MP3Player`, —è–∫–∏–π –º–æ–∂–µ –±—É—Ç–∏ –≤ —Ç—Ä—å–æ—Ö —Å—Ç–∞–Ω–∞—Ö: `Playing`, `Paused` —ñ `Stopped`. –ü–æ–≤–µ–¥—ñ–Ω–∫–∞ –º–µ—Ç–æ–¥—ñ–≤ `Play()`, `Pause()`, `Stop()` –±—É–¥–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç–∞–Ω—É
// –í–∏–∑–Ω–∞—á–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç –¥–ª—è –≤—Å—ñ—Ö –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö —Å—Ç–∞–Ω—ñ–≤.
public interface IPlayerState
{
    void Play();
    void Pause();
    void Stop();
}

// 2. –ö–ª–∞—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç
// –û–±'—î–∫—Ç, –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ —è–∫–æ–≥–æ –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ —Å—Ç–∞–Ω—É.
public class MP3Player
{
    private IPlayerState _state;

    public MP3Player()
    {
        // –ü–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω
        _state = new StoppedState(this); 
    }

    // –ú–µ—Ç–æ–¥ –¥–ª—è –∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω—É
    public void SetState(IPlayerState state)
    {
        _state = state;
    }

    // –ú–µ—Ç–æ–¥–∏, —â–æ –¥–µ–ª–µ–≥—É—é—Ç—å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –ø–æ—Ç–æ—á–Ω—ñ–π —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å—Ç–∞–Ω—É
    public void Play() => _state.Play();
    public void Pause() => _state.Pause();
    public void Stop() => _state.Stop();
}

// 3. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Å—Ç–∞–Ω–∏
// –†–µ–∞–ª—ñ–∑—É—é—Ç—å –ø–æ–≤–µ–¥—ñ–Ω–∫—É –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Å—Ç–∞–Ω—É.
public class PlayingState : IPlayerState
{
    private readonly MP3Player _player;

    public PlayingState(MP3Player player) => _player = player;

    public void Play() => Console.WriteLine("Already playing...");
    
    public void Pause()
    {
        Console.WriteLine("Pausing playback.");
        _player.SetState(new PausedState(_player));
    }
    
    public void Stop()
    {
        Console.WriteLine("Stopping playback.");
        _player.SetState(new StoppedState(_player));
    }
}

public class PausedState : IPlayerState
{
    private readonly MP3Player _player;

    public PausedState(MP3Player player) => _player = player;
    
    public void Play()
    {
        Console.WriteLine("Resuming playback.");
        _player.SetState(new PlayingState(_player));
    }

    public void Pause() => Console.WriteLine("Already paused...");

    public void Stop()
    {
        Console.WriteLine("Stopping playback.");
        _player.SetState(new StoppedState(_player));
    }
}

public class StoppedState : IPlayerState
{
    private readonly MP3Player _player;

    public StoppedState(MP3Player player) => _player = player;

    public void Play()
    {
        Console.WriteLine("Starting playback.");
        _player.SetState(new PlayingState(_player));
    }

    public void Pause() => Console.WriteLine("Cannot pause when stopped.");

    public void Stop() => Console.WriteLine("Already stopped...");
}

// 4. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        MP3Player player = new MP3Player();
        
        player.Play();  // Starting playback.
        player.Pause(); // Pausing playback.
        player.Play();  // Resuming playback.
        player.Stop();  // Stopping playback.
        player.Stop();  // Already stopped...
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å—Ç–∞–Ω—É (`IPlayerState`)**: –í–∏–∑–Ω–∞—á–∞—î —î–¥–∏–Ω–∏–π –Ω–∞–±—ñ—Ä –º–µ—Ç–æ–¥—ñ–≤, —è–∫—ñ –±—É–¥—É—Ç—å –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏—Å—è –≤ –∫–æ–∂–Ω–æ–º—É —Å—Ç–∞–Ω—ñ.
- **–ö–ª–∞—Å-–∫–æ–Ω—Ç–µ–∫—Å—Ç (`MP3Player`)**: –¶–µ–π –∫–ª–∞—Å –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ–±'—î–∫—Ç –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É (`IPlayerState`). –í—Å—ñ –≤–∏–∫–ª–∏–∫–∏ –¥–æ –π–æ–≥–æ –º–µ—Ç–æ–¥—ñ–≤ (`Play`, `Pause`, `Stop`) –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–µ–≥—É—é—Ç—å—Å—è –ø–æ—Ç–æ—á–Ω–æ–º—É –æ–±'—î–∫—Ç—É —Å—Ç–∞–Ω—É.
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Å—Ç–∞–Ω–∏ (`PlayingState`, `PausedState`, `StoppedState`)**: –ö–æ–∂–µ–Ω –∑ —Ü–∏—Ö –∫–ª–∞—Å—ñ–≤ —Ä–µ–∞–ª—ñ–∑—É—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IPlayerState` —ñ –º—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫—É, —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—É –¥–ª—è —Å–≤–æ–≥–æ —Å—Ç–∞–Ω—É. –í–æ–Ω–∏ —Ç–∞–∫–æ–∂ –º–æ–∂—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Å—Ç–∞–Ω –∫–æ–Ω—Ç–µ–∫—Å—Ç—É, –≤–∏–∫–ª–∏–∫–∞—é—á–∏ –π–æ–≥–æ –º–µ—Ç–æ–¥ `SetState()`.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **Game Development:** –Ü–≥—Ä–æ–≤—ñ –ø–µ—Ä—Å–æ–Ω–∞–∂—ñ —á–∞—Å—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –ø–∞—Ç–µ—Ä–Ω State. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –ø–µ—Ä—Å–æ–Ω–∞–∂ –º–æ–∂–µ –±—É—Ç–∏ –≤ —Å—Ç–∞–Ω—ñ `Walking`, `Jumping`, `Attacking`, —ñ –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ –π–æ–≥–æ –∞–Ω—ñ–º–∞—Ü—ñ—ó —Ç–∞ —Ä–µ–∞–∫—Ü—ñ–π –Ω–∞ –ø–æ–¥—ñ—ó –±—É–¥–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏—Å—è –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ –ø–æ—Ç–æ—á–Ω–æ–≥–æ —Å—Ç–∞–Ω—É.
- **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏:** –£ —Å–∏—Å—Ç–µ–º–∞—Ö –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω–æ—ó –∫–æ–º–µ—Ä—Ü—ñ—ó –æ–±'—î–∫—Ç `Order` –º–æ–∂–µ –º–∞—Ç–∏ —Å—Ç–∞–Ω–∏ `Pending`, `Processing`, `Shipped`, `Delivered`. –£ –∫–æ–∂–Ω–æ–º—É —Å—Ç–∞–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ä—ñ–∑–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó.
- **–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑'—î–¥–Ω–∞–Ω–Ω—è–º:** –£ –∫–ª–∞—Å–∞—Ö –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –º–µ—Ä–µ–∂–µ—é –∞–±–æ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö –æ–±'—î–∫—Ç `Connection` –º–æ–∂–µ –±—É—Ç–∏ –≤ —Å—Ç–∞–Ω–∞—Ö `Disconnected`, `Connecting`, `Connected`.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥—É:** –ü–∞—Ç–µ—Ä–Ω State —É—Å—É–≤–∞—î –≤–µ–ª–∏–∫—ñ —Ç–∞ –Ω–µ–∑–≥—Ä–∞–±–Ω—ñ —É–º–æ–≤–Ω—ñ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó, —Ä–æ–±–ª—è—á–∏ –∫–æ–¥ –Ω–∞–±–∞–≥–∞—Ç–æ —á–∏—Å—Ç—ñ—à–∏–º —Ç–∞ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—à–∏–º.
- **–õ–µ–≥–∫–∞ —Ä–æ–∑—à–∏—Ä—é–≤–∞–Ω—ñ—Å—Ç—å:** –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Å—Ç–∞–Ω—É –≤–∏–º–∞–≥–∞—î –ª–∏—à–µ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∫–ª–∞—Å—É, —è–∫–∏–π —Ä–µ–∞–ª—ñ–∑—É—î `IPlayerState`, –±–µ–∑ –∑–º—ñ–Ω–∏ —ñ—Å–Ω—É—é—á–∏—Ö –∫–ª–∞—Å—ñ–≤.

* * *


### –ü–∞—Ç–µ—Ä–Ω Chain of Responsibility (–õ–∞–Ω—Ü—é–≥ –æ–±–æ–≤'—è–∑–∫—ñ–≤)

#### –ú–µ—Ç–∞

**–õ–∞–Ω—Ü—é–≥ –æ–±–æ–≤'—è–∑–∫—ñ–≤** ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç–∏ –ø–æ –ª–∞–Ω—Ü—é–∂–∫—É –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤. –û–¥–µ—Ä–∂—É–≤–∞—á –∑–∞–ø–∏—Ç—É –Ω–µ —î —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–º, –∞ –≤–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è. –ö–æ–∂–µ–Ω –æ–±—Ä–æ–±–Ω–∏–∫ —É –ª–∞–Ω—Ü—é–∂–∫—É –≤–∏—Ä—ñ—à—É—î, —á–∏ –º–æ–∂–µ –≤—ñ–Ω –æ–±—Ä–æ–±–∏—Ç–∏ –∑–∞–ø–∏—Ç, —ñ —è–∫—â–æ –Ω—ñ ‚Äî –ø–µ—Ä–µ–¥–∞—î –π–æ–≥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –æ–±—Ä–æ–±–Ω–∏–∫—É.

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –ø–æ–¥–∞—î—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ –≤—ñ–¥–ø—É—Å—Ç–∫—É. –°–ø–æ—á–∞—Ç–∫—É –≤–æ–Ω–∞ –ø–æ—Ç—Ä–∞–ø–ª—è—î –¥–æ –≤–∞—à–æ–≥–æ –±–µ–∑–ø–æ—Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∫–µ—Ä—ñ–≤–Ω–∏–∫–∞. –Ø–∫—â–æ –≤—ñ–Ω –º–æ–∂–µ —ó—ó –∑–∞—Ç–≤–µ—Ä–¥–∏—Ç–∏, –≤—ñ–Ω —Ü–µ —Ä–æ–±–∏—Ç—å. –Ø–∫—â–æ –Ω—ñ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –≤—ñ–¥–ø—É—Å—Ç–∫–∞ –∑–∞–Ω–∞–¥—Ç–æ –¥–æ–≤–≥–∞), –≤—ñ–Ω –ø–µ—Ä–µ–¥–∞—î –∑–∞—è–≤–∫—É –≤–∏—â–æ–º—É –∫–µ—Ä—ñ–≤–Ω–∏–∫—É. –¶–µ–π –ø—Ä–æ—Ü–µ—Å —Ç—Ä–∏–≤–∞—î, –ø–æ–∫–∏ –∑–∞—è–≤–∫–∞ –Ω–µ –±—É–¥–µ –æ–±—Ä–æ–±–ª–µ–Ω–∞ –∞–±–æ –Ω–µ –¥–æ—Å—è–≥–Ω–µ –∫—ñ–Ω—Ü—è –ª–∞–Ω—Ü—é–∂–∫–∞.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Chain of Responsibility**, –∫–æ–ª–∏:

- **–£ –≤–∞—Å —î –∫—ñ–ª—å–∫–∞ –æ–±'—î–∫—Ç—ñ–≤, —è–∫—ñ –º–æ–∂—É—Ç—å –æ–±—Ä–æ–±–ª—è—Ç–∏ –∑–∞–ø–∏—Ç, –∞–ª–µ –≤–∏ –Ω–µ –∑–Ω–∞—î—Ç–µ, —è–∫–∏–π —Å–∞–º–µ —Ü–µ –∑—Ä–æ–±–∏—Ç—å.**
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ, —â–æ–± –æ–±—Ä–æ–±–Ω–∏–∫–∏ –º–æ–≥–ª–∏ –¥–∏–Ω–∞–º—ñ—á–Ω–æ –¥–æ–¥–∞–≤–∞—Ç–∏—Å—è –∞–±–æ –≤–∏–¥–∞–ª—è—Ç–∏—Å—è –∑ –ª–∞–Ω—Ü—é–∂–∫–∞.** –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É —Å–∏—Å—Ç–µ–º–∏ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è.
- **–í–∏ —Ö–æ—á–µ—Ç–µ —É–Ω–∏–∫–Ω—É—Ç–∏ –ø—Ä—è–º–æ—ó –∑–≤'—è–∑–∞–Ω–æ—Å—Ç—ñ –º—ñ–∂ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–æ–º —ñ –æ–¥–µ—Ä–∂—É–≤–∞—á–µ–º –∑–∞–ø–∏—Ç—É.** –í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫ –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞—î –∑–∞–ø–∏—Ç –ø–µ—Ä—à–æ–º—É –µ–ª–µ–º–µ–Ω—Ç—É –ª–∞–Ω—Ü—é–∂–∫–∞, –Ω–µ –∑–Ω–∞—é—á–∏ –ø—Ä–æ –π–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—é.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–î–∞–≤–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–∏–º–æ —Å–∏—Å—Ç–µ–º—É, —è–∫–∞ –æ–±—Ä–æ–±–ª—è—î –∑–∞–ø–∏—Ç–∏ –Ω–∞ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è. –õ–∞–Ω—Ü—é–∂–æ–∫ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –º–µ–Ω–µ–¥–∂–µ—Ä–∞, –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞ —Ç–∞ –≤—ñ—Ü–µ–ø—Ä–µ–∑–∏–¥–µ–Ω—Ç–∞, –∫–æ–∂–µ–Ω –∑ —è–∫–∏—Ö –º–æ–∂–µ –∑–∞—Ç–≤–µ—Ä–¥–∏—Ç–∏ –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –¥–æ –ø–µ–≤–Ω–æ—ó —Å—É–º–∏.

C#

```
// 1. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –æ–±—Ä–æ–±–Ω–∏–∫
// –í–∏–∑–Ω–∞—á–∞—î –∑–∞–≥–∞–ª—å–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å—ñ—Ö –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ —É –ª–∞–Ω—Ü—é–∂–∫—É.
public abstract class Approver
{
    protected Approver _nextApprover;

    public void SetNext(Approver nextApprover)
    {
        _nextApprover = nextApprover;
    }

    public abstract void ProcessRequest(int amount);
}

// 2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏
// –†–µ–∞–ª—ñ–∑—É—é—Ç—å –ª–æ–≥—ñ–∫—É –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—É.
public class Manager : Approver
{
    private const int ApprovalLimit = 1000;

    public override void ProcessRequest(int amount)
    {
        if (amount <= ApprovalLimit)
        {
            Console.WriteLine($"Manager approves a raise of {amount}$.");
        }
        else if (_nextApprover != null)
        {
            Console.WriteLine($"Manager can't approve {amount}$, passing to Director.");
            _nextApprover.ProcessRequest(amount);
        }
    }
}

public class Director : Approver
{
    private const int ApprovalLimit = 5000;

    public override void ProcessRequest(int amount)
    {
        if (amount <= ApprovalLimit)
        {
            Console.WriteLine($"Director approves a raise of {amount}$.");
        }
        else if (_nextApprover != null)
        {
            Console.WriteLine($"Director can't approve {amount}$, passing to VicePresident.");
            _nextApprover.ProcessRequest(amount);
        }
    }
}

public class VicePresident : Approver
{
    public override void ProcessRequest(int amount)
    {
        Console.WriteLine($"Vice President approves a raise of {amount}$.");
    }
}

// 3. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ª–∞–Ω—Ü—é–∂–∫–∞
        Approver manager = new Manager();
        Approver director = new Director();
        Approver vicePresident = new VicePresident();

        // –§–æ—Ä–º—É—î–º–æ –ª–∞–Ω—Ü—é–∂–æ–∫: manager -> director -> vicePresident
        manager.SetNext(director);
        director.SetNext(vicePresident);

        // –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –∑–∞–ø–∏—Ç—ñ–≤
        manager.ProcessRequest(800);
        Console.WriteLine();
        manager.ProcessRequest(3000);
        Console.WriteLine();
        manager.ProcessRequest(12000);
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ (`Approver`)**: –í–∏–∑–Ω–∞—á–∞—î —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—É (`ProcessRequest`) —ñ –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –æ–±—Ä–æ–±–Ω–∏–∫ (`_nextApprover`).
- **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –æ–±—Ä–æ–±–Ω–∏–∫–∏ (`Manager`, `Director`, `VicePresident`)**: –ö–æ–∂–µ–Ω –∑ –Ω–∏—Ö –º—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫—É –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—É. –Ø–∫—â–æ –∑–∞–ø–∏—Ç –Ω–µ –º–æ–∂–µ –±—É—Ç–∏ –æ–±—Ä–æ–±–ª–µ–Ω–∏–π, –≤—ñ–Ω –¥–µ–ª–µ–≥—É—î—Ç—å—Å—è –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –æ–±—Ä–æ–±–Ω–∏–∫—É –≤ –ª–∞–Ω—Ü—é–∂–∫—É.
- **–î–∏–Ω–∞–º—ñ—á–Ω–µ —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—è –ª–∞–Ω—Ü—é–∂–∫–∞**: –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç–∏ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ —ñ "–∑–≤'—è–∑—É—î" —ó—Ö, —Ñ–æ—Ä–º—É—é—á–∏ –ª–∞–Ω—Ü—é–∂–æ–∫.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **–°–∏—Å—Ç–µ–º–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó —Ç–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó**: –£ –±–∞–≥–∞—Ç—å–æ—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, ASP.NET Core) middleware –ø—Ä–∞—Ü—é—î –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º –ª–∞–Ω—Ü—é–≥–∞ –æ–±–æ–≤'—è–∑–∫—ñ–≤. –ö–æ–∂–µ–Ω middleware-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–µ—Ä–µ–≤—ñ—Ä—è—î –ø–µ–≤–Ω—ñ —É–º–æ–≤–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è) —ñ –ø–µ—Ä–µ–¥–∞—î –∑–∞–ø–∏—Ç –¥–∞–ª—ñ.
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è**: –õ–∞–Ω—Ü—é–∂–æ–∫ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –º–æ–∂–µ –±—É—Ç–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è. –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ –æ–±—Ä–æ–±–Ω–∏–∫–∏, —è–∫—ñ –º–æ–∂—É—Ç—å —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –π–æ–≥–æ, —Ñ–æ—Ä–º–∞—Ç—É–≤–∞—Ç–∏ –∞–±–æ –∑–∞–ø–∏—Å—É–≤–∞—Ç–∏ –≤ —Ä—ñ–∑–Ω—ñ –º—ñ—Å—Ü—è (—Ñ–∞–π–ª, –∫–æ–Ω—Å–æ–ª—å, –±–∞–∑–∞ –¥–∞–Ω–∏—Ö).

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –í–∏ –º–æ–∂–µ—Ç–µ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤, –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∞–±–æ –≤–∏–¥–∞–ª—è—Ç–∏ —ñ—Å–Ω—É—é—á—ñ, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –ø—Ä–∏ —Ü—å–æ–º—É –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞ –∑–∞–ø–∏—Ç—É.
- **–ù–∏–∑—å–∫–∞ –∑–≤'—è–∑–∞–Ω—ñ—Å—Ç—å**: –í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫ –∑–∞–ø–∏—Ç—É –∑–Ω–∞—î —Ç—ñ–ª—å–∫–∏ –ø—Ä–æ –ø–µ—Ä—à–∏–π –µ–ª–µ–º–µ–Ω—Ç –ª–∞–Ω—Ü—é–∂–∫–∞. –¶–µ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –¥—É–∂–µ –≥–Ω—É—á–∫–æ—é —ñ –ª–µ–≥–∫–æ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–æ—é.

* * *


### –ü–∞—Ç–µ—Ä–Ω Iterator (–Ü—Ç–µ—Ä–∞—Ç–æ—Ä)

#### –ú–µ—Ç–∞

**–Ü—Ç–µ—Ä–∞—Ç–æ—Ä** ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –Ω–∞–¥–∞—î —Å–ø–æ—Å—ñ–± –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—ó, –Ω–µ —Ä–æ–∑–∫—Ä–∏–≤–∞—é—á–∏ —ó—ó –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏. –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –ø—Ä–æ—Ö–æ–¥–∏—Ç–∏ –ø–æ –µ–ª–µ–º–µ–Ω—Ç–∞—Ö, –Ω–µ –∑–Ω–∞—é—á–∏, —á–∏ —î —Ü—è –∫–æ–ª–µ–∫—Ü—ñ—è –º–∞—Å–∏–≤–æ–º, —Å–ø–∏—Å–∫–æ–º, —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–µ—é —á–∏ –¥–µ—Ä–µ–≤–æ–º.

–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —ñ—Ç–µ—Ä–∞—Ç–æ—Ä —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –ª–æ–≥—ñ–∫—É –æ–±—Ö–æ–¥—É. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∞–º –º–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ —Å–ø–æ—Å–æ–±–∏ –æ–±—Ö–æ–¥—É –æ–¥–Ω—ñ—î—ó —ñ —Ç—ñ—î—ó –∂ –∫–æ–ª–µ–∫—Ü—ñ—ó, –∞ —Ç–∞–∫–æ–∂ —Å–ø—Ä–æ—â—É—î –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –∑–∞–≤–∂–¥–∏ –ø—Ä–∞—Ü—é—î –∑ —î–¥–∏–Ω–∏–º —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∞.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Iterator**, –∫–æ–ª–∏:

- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–æ –æ–±—Ö–æ–¥–∏—Ç–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ —Å–∫–ª–∞–¥–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö**, –Ω–µ –∑–Ω–∞—é—á–∏, —è–∫ –≤–æ–Ω–∞ –≤–ª–∞—à—Ç–æ–≤–∞–Ω–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ.
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –Ω–∞–¥–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Å–ø–æ—Å–æ–±—ñ–≤ –æ–±—Ö–æ–¥—É –æ–¥–Ω—ñ—î—ó —ñ —Ç—ñ—î—ó –∂ –∫–æ–ª–µ–∫—Ü—ñ—ó.** –ù–∞–ø—Ä–∏–∫–ª–∞–¥, –æ–±—Ö—ñ–¥ –¥–µ—Ä–µ–≤–∞ –∑–∞ —à–∏—Ä–∏–Ω–æ—é, –∑–∞ –≥–ª–∏–±–∏–Ω–æ—é, –∞–±–æ –æ–±—Ö—ñ–¥ —Å–ø–∏—Å–∫—É –≤ –ø—Ä—è–º–æ–º—É —Ç–∞ –∑–≤–æ—Ä–æ—Ç–Ω–æ–º—É –ø–æ—Ä—è–¥–∫—É.
- **–í–∏ —Ö–æ—á–µ—Ç–µ –ø—Ä–∏—Ö–æ–≤–∞—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–ª–µ–∫—Ü—ñ—ó –≤—ñ–¥ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–≥–æ –∫–æ–¥—É.** –¶–µ –ø—ñ–¥–≤–∏—â—É—î —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—é —ñ –∑–Ω–∏–∂—É—î –∑–≤'—è–∑–∞–Ω—ñ—Å—Ç—å.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–î–∞–≤–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–∏–º–æ –ø—Ä–æ—Å—Ç–∏–π –ø—Ä–∏–∫–ª–∞–¥. –£ –Ω–∞—Å —î –≤–ª–∞—Å–Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—è `NamesCollection`, —ñ –º–∏ —Ö–æ—á–µ–º–æ –Ω–∞–¥–∞—Ç–∏ –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–º—É –∫–æ–¥—É —Å–ø–æ—Å—ñ–± –æ–±—Ö–æ–¥–∏—Ç–∏ —ó—ó –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∞, —â–æ–± –≤—ñ–Ω –º—ñ–≥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–≤–∏—á–Ω–∏–π `foreach`.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–ª–µ–∫—Ü—ñ—ó (Aggregate)
// –¶–µ –Ω–∞—à –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, —è–∫–∏–π –ø–æ–≤–∏–Ω–µ–Ω –Ω–∞–¥–∞–≤–∞—Ç–∏ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä.
// –í C# –¥–ª—è —Ü—å–æ–≥–æ —î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å IEnumerable.
public interface INamesCollection
{
    IEnumerator<string> GetEnumerator();
}

// 2. –ö–ª–∞—Å-–∫–æ–ª–µ–∫—Ü—ñ—è (Concrete Aggregate)
// –¶–µ –Ω–∞—à–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞ –∫–æ–ª–µ–∫—Ü—ñ—è, —è–∫–∞ –º—ñ—Å—Ç–∏—Ç—å –¥–∞–Ω—ñ.
public class NamesCollection : INamesCollection
{
    private readonly string[] _names = { "Alice", "Bob", "Charlie" };

    public IEnumerator<string> GetEnumerator()
    {
        // –í C# –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ "yield" –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–æ—â—É—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∞.
        // –ó–∞ –ª–∞—à—Ç—É–Ω–∫–∞–º–∏ –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä —Å—Ç–≤–æ—Ä—é—î –æ–±'—î–∫—Ç —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è –Ω–∞—Å.
        foreach (var name in _names)
        {
            yield return name;
        }
    }
}

// 3. –ö–ª–∞—Å-—ñ—Ç–µ—Ä–∞—Ç–æ—Ä (Concrete Iterator)
// –£ —Ü—å–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ –≤—ñ–Ω —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–¥—è–∫–∏ "yield".
// –û–¥–Ω–∞–∫, –º–æ–∂–Ω–∞ –Ω–∞–ø–∏—Å–∞—Ç–∏ –π–æ–≥–æ —ñ –≤—Ä—É—á–Ω—É. –û—Å—å —è–∫ —Ü–µ –≤–∏–≥–ª—è–¥–∞–ª–æ –±:
// public class MyIterator : IEnumerator<string> { ... }

// 4. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        NamesCollection names = new NamesCollection();
        
        // –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î —ñ—Ç–µ—Ä–∞—Ç–æ—Ä, –Ω–µ –∑–Ω–∞—é—á–∏, —â–æ NamesCollection
        // –∑–±–µ—Ä—ñ–≥–∞—î –¥–∞–Ω—ñ –≤ –º–∞—Å–∏–≤—ñ.
        Console.WriteLine("Iterating through the collection:");
        foreach (var name in names)
        {
            Console.WriteLine(name);
        }
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–ª–µ–∫—Ü—ñ—ó (`INamesCollection`)**: –í—ñ–Ω –≤–∏–∑–Ω–∞—á–∞—î —î–¥–∏–Ω–∏–π –º–µ—Ç–æ–¥ `GetEnumerator()`, —è–∫–∏–π –ø–æ–≤–µ—Ä—Ç–∞—î –æ–±'—î–∫—Ç-—ñ—Ç–µ—Ä–∞—Ç–æ—Ä. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∫–ª—ñ—î–Ω—Ç—Å—å–∫–æ–º—É –∫–æ–¥—É –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –±—É–¥—å-—è–∫–æ—é –∫–æ–ª–µ–∫—Ü—ñ—î—é, —â–æ —Ä–µ–∞–ª—ñ–∑—É—î —Ü–µ–π —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- **–ö–ª–∞—Å-—ñ—Ç–µ—Ä–∞—Ç–æ—Ä (—ñ–º–ø–ª—ñ—Ü–∏—Ç–Ω–∏–π –∑–∞–≤–¥—è–∫–∏ `yield`)**: –¶–µ–π –æ–±'—î–∫—Ç –º—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫—É –¥–ª—è –æ–±—Ö–æ–¥—É –∫–æ–ª–µ–∫—Ü—ñ—ó: –≤—ñ–¥—Å—Ç–µ–∂—É—î –ø–æ—Ç–æ—á–Ω–µ –ø–æ–ª–æ–∂–µ–Ω–Ω—è, –Ω–∞–¥–∞—î –¥–æ—Å—Ç—É–ø –¥–æ –ø–æ—Ç–æ—á–Ω–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞ —Ç–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ. –£ C# –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ `yield` –∑–Ω–∞—á–Ω–æ —Å–ø—Ä–æ—â—É—î —Ü—é –∑–∞–¥–∞—á—É, –¥–æ–∑–≤–æ–ª—è—é—á–∏ –Ω–∞–º –ø–∏—Å–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –æ–±—Ö–æ–¥—É –ø—Ä—è–º–æ –≤ –º–µ—Ç–æ–¥—ñ `GetEnumerator()`.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **LINQ (Language-Integrated Query)**: –í—Å—è —Ñ—ñ–ª–æ—Å–æ—Ñ—ñ—è LINQ –ø–æ–±—É–¥–æ–≤–∞–Ω–∞ –Ω–∞ –ø–∞—Ç–µ—Ä–Ω—ñ Iterator. –ö–æ–∂–µ–Ω –º–µ—Ç–æ–¥ (`Where`, `Select`, `OrderBy`) –ø–æ–≤–µ—Ä—Ç–∞—î —ñ—Ç–µ—Ä–∞—Ç–æ—Ä, —â–æ –¥–æ–∑–≤–æ–ª—è—î —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ª–∞–Ω—Ü—é–∂–æ–∫ –æ–ø–µ—Ä–∞—Ü—ñ–π, —è–∫—ñ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —Ç–æ–¥—ñ, –∫–æ–ª–∏ –≤–∏ –ø–æ—á–∏–Ω–∞—î—Ç–µ –æ–±—Ö–æ–¥–∏—Ç–∏ –∫–æ–ª–µ–∫—Ü—ñ—é (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —É `foreach`).
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó .NET**: –£—Å—ñ –∫–æ–ª–µ–∫—Ü—ñ—ó –≤ C# (`List<T>`, `Dictionary<T>`, `Queue<T>`) —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `IEnumerable<T>`, —â–æ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ —ó—Ö —É —Ü–∏–∫–ª—ñ `foreach`. –¶–µ —ñ —î –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞—Ç–µ—Ä–Ω–∞ Iterator.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π –¥–æ—Å—Ç—É–ø**: –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥ –ø—Ä–∞—Ü—é—î –∑ —É—Å—ñ–º–∞ –∫–æ–ª–µ–∫—Ü—ñ—è–º–∏ –æ–¥–Ω–∞–∫–æ–≤–æ, —â–æ —Ä–æ–±–∏—Ç—å –π–æ–≥–æ —á–∏—Å—Ç—ñ—à–∏–º —ñ –ø—Ä–æ—Å—Ç—ñ—à–∏–º.
- **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –í–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–¥–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ —ñ—Ç–µ—Ä–∞—Ç–æ—Ä—ñ–≤ –¥–ª—è –æ–¥–Ω—ñ—î—ó —ñ —Ç—ñ—î—ó –∂ –∫–æ–ª–µ–∫—Ü—ñ—ó. –ù–∞–ø—Ä–∏–∫–ª–∞–¥, —ñ—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–±—Ö–æ–¥—É –≤—ñ–¥ –ø–µ—Ä—à–æ–≥–æ –µ–ª–µ–º–µ–Ω—Ç–∞, —ñ—Ç–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –æ–±—Ö–æ–¥—É –≤—ñ–¥ –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ.
- **–õ–µ–≥–∫—ñ—Å—Ç—å —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó**: –ó–∞–≤–¥—è–∫–∏ –∫–ª—é—á–æ–≤–æ–º—É —Å–ª–æ–≤—É `yield` —É C#, —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —ñ—Ç–µ—Ä–∞—Ç–æ—Ä–∞ —Å—Ç–∞—î –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω–æ –ø—Ä–æ—Å—Ç–æ—é.

* * *


### –ü–∞—Ç–µ—Ä–Ω Mediator (–ü–æ—Å–µ—Ä–µ–¥–Ω–∏–∫)

#### –ú–µ—Ç–∞

**–ü–æ—Å–µ—Ä–µ–¥–Ω–∏–∫** ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –∑–º–µ–Ω—à—É—î —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å –≤–∑–∞—î–º–æ–¥—ñ—ó –º—ñ–∂ –æ–±'—î–∫—Ç–∞–º–∏. –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –æ–±'—î–∫—Ç–∏ —Å–ø—ñ–ª–∫—É–≤–∞–ª–∏—Å—è –Ω–∞–ø—Ä—è–º—É –æ–¥–∏–Ω –∑ –æ–¥–Ω–∏–º, –≤–æ–Ω–∏ —Å–ø—ñ–ª–∫—É—é—Ç—å—Å—è —á–µ—Ä–µ–∑ –æ–±'—î–∫—Ç-–ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –∑–º–µ–Ω—à–∏—Ç–∏ –∑–≤'—è–∑–∞–Ω—ñ—Å—Ç—å (coupling) –º—ñ–∂ –æ–±'—î–∫—Ç–∞–º–∏, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–∂–µ–Ω –æ–±'—î–∫—Ç —Ç–µ–ø–µ—Ä –∑–Ω–∞—î –ª–∏—à–µ –ø—Ä–æ –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫–∞.

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤—É—î—Ç–µ –¥–∏—Å–∫—É—Å—ñ—é, –¥–µ –∫–æ–∂–µ–Ω —É—á–∞—Å–Ω–∏–∫ –º–∞—î –≥–æ–≤–æ—Ä–∏—Ç–∏ —á–µ—Ä–µ–∑ –≤–µ–¥—É—á–æ–≥–æ. –£—á–∞—Å–Ω–∏–∫–∏ –Ω–µ –≥–æ–≤–æ—Ä—è—Ç—å –æ–¥–∏–Ω –∑ –æ–¥–Ω–∏–º, –∞ –ª–∏—à–µ –∑–≤–µ—Ä—Ç–∞—é—Ç—å—Å—è –¥–æ –≤–µ–¥—É—á–æ–≥–æ, —è–∫–∏–π –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—î —ó—Ö–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è. –ü–æ—Å–µ—Ä–µ–¥–Ω–∏–∫ ‚Äî —Ü–µ —Ü–µ–π –≤–µ–¥—É—á–∏–π.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Mediator**, –∫–æ–ª–∏:

- **–í–∑–∞—î–º–æ–¥—ñ—è –º—ñ–∂ –æ–±'—î–∫—Ç–∞–º–∏ —î —Å–∫–ª–∞–¥–Ω–æ—é —ñ –∑–∞–ø–ª—É—Ç–∞–Ω–æ—é.** –Ø–∫—â–æ —É –≤–∞—Å —î –±–∞–≥–∞—Ç–æ –æ–±'—î–∫—Ç—ñ–≤, —è–∫—ñ —Å–ø—ñ–ª–∫—É—é—Ç—å—Å—è –º—ñ–∂ —Å–æ–±–æ—é –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º "–±–∞–≥–∞—Ç–æ-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö", —Ü–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ —Å–∫–ª–∞–¥–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω–æ–≥–æ –∫–æ–¥—É.
- **–í–∏ —Ö–æ—á–µ—Ç–µ, —â–æ–± –æ–±'—î–∫—Ç–∏ –±—É–ª–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –Ω–µ–∑–∞–ª–µ–∂–Ω–∏–º–∏ –æ–¥–∏–Ω –≤—ñ–¥ –æ–¥–Ω–æ–≥–æ.** –ó–∞–≤–¥—è–∫–∏ –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫—É, –æ–±'—î–∫—Ç–∏ –∑–Ω–∞—é—Ç—å –ª–∏—à–µ –ø—Ä–æ –Ω—å–æ–≥–æ, –∞ –Ω–µ –ø—Ä–æ –≤—Å—ñ—Ö —Å–≤–æ—ó—Ö "—Å—É—Å—ñ–¥—ñ–≤".
- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è —ñ –ª–æ–≥—ñ–∫—É –≤–∑–∞—î–º–æ–¥—ñ—ó.** –ü–æ—Å–µ—Ä–µ–¥–Ω–∏–∫ –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ –±—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫—É, —â–æ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –≤–∑–∞—î–º–æ–¥—ñ—ó –º—ñ–∂ –æ–±'—î–∫—Ç–∞–º–∏, —â–æ —Ä–æ–±–∏—Ç—å —ó—ó –ø—Ä–æ—Å—Ç—ñ—à–æ—é –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è —ñ –º–æ–¥–∏—Ñ—ñ–∫–∞—Ü—ñ—ó.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–î–∞–≤–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–∏–º–æ –ø—Ä–∏–∫–ª–∞–¥ —á–∞—Ç—É. –£ –Ω–∞—Å —î –∫—ñ–ª—å–∫–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (`User`), —ñ –≤–æ–Ω–∏ —Ö–æ—á—É—Ç—å —Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—è –º—ñ–∂ —Å–æ–±–æ—é. –ë–µ–∑ –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫–∞, –∫–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º–∞–≤ –±–∏ –∑–Ω–∞—Ç–∏ –ø—Ä–æ –≤—Å—ñ—Ö —ñ–Ω—à–∏—Ö. –ó –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫–æ–º, –∫–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å–ø—ñ–ª–∫—É—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –∑ –æ–±'—î–∫—Ç–æ–º `ChatRoom` (—á–∞—Ç—É), —è–∫–∏–π –≤–∏—Å—Ç—É–ø–∞—î –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫–æ–º.

C#

```
// 1. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –∫–ª–∞—Å —É—á–∞—Å–Ω–∏–∫–∞ (Colleague)
// –í–∏–∑–Ω–∞—á–∞—î –±–∞–∑–æ–≤–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –¥–ª—è –≤—Å—ñ—Ö –æ–±'—î–∫—Ç—ñ–≤, —â–æ –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å.
public abstract class User
{
    protected IChatRoom _chatRoom;
    public string Name { get; set; }

    public User(string name, IChatRoom chatRoom)
    {
        Name = name;
        _chatRoom = chatRoom;
    }

    public void Send(string message)
    {
        Console.WriteLine($"{Name} sends: '{message}'");
        _chatRoom.SendMessage(message, this);
    }

    public abstract void Receive(string message);
}

// 2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —É—á–∞—Å–Ω–∏–∫–∏
public class ChatUser : User
{
    public ChatUser(string name, IChatRoom chatRoom) : base(name, chatRoom) { }

    public override void Receive(string message)
    {
        Console.WriteLine($"{Name} received: '{message}'");
    }
}

// 3. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫–∞
public interface IChatRoom
{
    void Register(User user);
    void SendMessage(string message, User user);
}

// 4. –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫ (Mediator)
// –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑—É—î –ª–æ–≥—ñ–∫—É –≤–∑–∞—î–º–æ–¥—ñ—ó.
public class ChatRoom : IChatRoom
{
    private readonly List<User> _users = new();

    public void Register(User user)
    {
        _users.Add(user);
    }

    public void SendMessage(string message, User sender)
    {
        foreach (var user in _users)
        {
            // –ü–æ—Å–µ—Ä–µ–¥–Ω–∏–∫ –≤–∏—Ä—ñ—à—É—î, –∫–æ–º—É —ñ —è–∫ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
            if (user != sender)
            {
                user.Receive($"[{sender.Name}]: {message}");
            }
        }
    }
}

// 5. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        ChatRoom chatRoom = new ChatRoom();

        User user1 = new ChatUser("Alice", chatRoom);
        User user2 = new ChatUser("Bob", chatRoom);
        User user3 = new ChatUser("Charlie", chatRoom);
        
        chatRoom.Register(user1);
        chatRoom.Register(user2);
        chatRoom.Register(user3);

        user1.Send("Hi everyone!");
        user2.Send("Hello Alice!");
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–£—á–∞—Å–Ω–∏–∫–∏ (Colleagues):** –ö–æ–∂–µ–Ω `User` –∑–Ω–∞—î –ª–∏—à–µ –ø—Ä–æ –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫–∞ (`_chatRoom`). –í—ñ–Ω –∑–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –¥–æ –Ω—å–æ–≥–æ, —â–æ–± –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —ñ –Ω–µ –∑–Ω–∞—î –ø—Ä–æ —ñ–Ω—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
- **–ü–æ—Å–µ—Ä–µ–¥–Ω–∏–∫ (Mediator):** `ChatRoom` —ñ–Ω–∫–∞–ø—Å—É–ª—é—î –ª–æ–≥—ñ–∫—É –≤–∑–∞—î–º–æ–¥—ñ—ó. –í—ñ–Ω –∑–Ω–∞—î –ø—Ä–æ –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —ñ –≤–∏—Ä—ñ—à—É—î, –∫–æ–º—É —Å–ª—ñ–¥ –ø–µ—Ä–µ—Å–ª–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **–î—ñ–∞–ª–æ–≥–æ–≤—ñ –≤—ñ–∫–Ω–∞:** –£ –≥—Ä–∞—Ñ—ñ—á–Ω–æ–º—É —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ, –∫–æ–ª–∏ –µ–ª–µ–º–µ–Ω—Ç–∏ (–∫–Ω–æ–ø–∫–∏, —Ç–µ–∫—Å—Ç–æ–≤—ñ –ø–æ–ª—è) –≤–∑–∞—î–º–æ–¥—ñ—é—Ç—å –º—ñ–∂ —Å–æ–±–æ—é, –≤–æ–Ω–∏ —á–∞—Å—Ç–æ —Ä–æ–±–ª—è—Ç—å —Ü–µ —á–µ—Ä–µ–∑ –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫–∞, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ –∫–ª–∞—Å, —â–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –ª–æ–≥—ñ–∫—É –≤—ñ–∫–Ω–∞.
- **MVC (Model-View-Controller):** –£ —Ü—å–æ–º—É –ø–∞—Ç–µ—Ä–Ω—ñ Controller –≤–∏—Å—Ç—É–ø–∞—î —è–∫ –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫, —â–æ –æ–±—Ä–æ–±–ª—è—î –≤–∑–∞—î–º–æ–¥—ñ—é –º—ñ–∂ Model —ñ View.
- **–ë—Ä–æ–∫–µ—Ä–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å:** –£ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö, –±—Ä–æ–∫–µ—Ä –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω—å (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, RabbitMQ, Kafka) —î –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫–æ–º, —â–æ –¥–æ–∑–≤–æ–ª—è—î —Ä—ñ–∑–Ω–∏–º —Å–µ—Ä–≤—ñ—Å–∞–º –≤–∑–∞—î–º–æ–¥—ñ—è—Ç–∏, –Ω–µ –∑–Ω–∞—é—á–∏ –æ–¥–∏–Ω –ø—Ä–æ –æ–¥–Ω–æ–≥–æ.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–ó–º–µ–Ω—à–µ–Ω–Ω—è –∑–≤'—è–∑–∞–Ω–æ—Å—Ç—ñ:** –ö–æ–¥ —Å—Ç–∞—î –ø—Ä–æ—Å—Ç—ñ—à–∏–º, –æ—Å–∫—ñ–ª—å–∫–∏ –≤–∏ –ø–æ–∑–±–∞–≤–ª—è—î—Ç–µ—Å—è –≤—ñ–¥ –∑–≤'—è–∑–∫—ñ–≤ —Ç–∏–ø—É "–±–∞–≥–∞—Ç–æ-–¥–æ-–±–∞–≥–∞—Ç—å–æ—Ö".
- **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è –ª–æ–≥—ñ–∫–∏:** –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞, –ø–æ–≤'—è–∑–∞–Ω–∞ –∑ –≤–∑–∞—î–º–æ–¥—ñ—î—é –æ–±'—î–∫—Ç—ñ–≤, –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ ‚Äî —É –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫—É, —â–æ —Ä–æ–±–∏—Ç—å —ó—ó –ª–µ–≥–∫–æ—é –¥–ª—è —Ä–æ–∑—É–º—ñ–Ω–Ω—è —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.

* * *


### –ü–∞—Ç–µ—Ä–Ω Memento (–ó–Ω—ñ–º–æ–∫)

#### –ú–µ—Ç–∞

**–ó–Ω—ñ–º–æ–∫** ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –Ω–∞–¥–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–±–µ—Ä–µ–≥—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ (–π–æ–≥–æ "–º–æ–º–µ–Ω—Ç" –∞–±–æ "–∑–Ω—ñ–º–æ–∫") —ñ –ø–æ—Ç—ñ–º –≤—ñ–¥–Ω–æ–≤–∏—Ç–∏ –π–æ–≥–æ –¥–æ —Ü—å–æ–≥–æ —Å—Ç–∞–Ω—É. –¶–µ —Ä–æ–±–∏—Ç—å—Å—è –±–µ–∑ –ø–æ—Ä—É—à–µ–Ω–Ω—è —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—ó –æ–±'—î–∫—Ç–∞.

–ü—Ä–æ—Å—Ç–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Ü–µ–π –ø–∞—Ç–µ—Ä–Ω –¥–æ–∑–≤–æ–ª—è—î —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—ó —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è (`undo`) –∞–±–æ —ñ—Å—Ç–æ—Ä—ñ—ó –∑–º—ñ–Ω. –û–±'—î–∫—Ç-—Ç–≤–æ—Ä–µ—Ü—å (Originator) –º–æ–∂–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å–≤—ñ–π —Å—Ç–∞–Ω –≤ –æ–±'—î–∫—Ç—ñ-–∑–Ω—ñ–º–∫—É (Memento), –∞ –æ–±'—î–∫—Ç-—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å (Caretaker) –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–¥–∞—á—É —Ü–∏—Ö –∑–Ω—ñ–º–∫—ñ–≤, –Ω–µ –≤—Ç—Ä—É—á–∞—é—á–∏—Å—å —É —ó—Ö–Ω—ñ–π –≤–º—ñ—Å—Ç.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Memento**, –∫–æ–ª–∏:

- **–í–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞.** –ö–ª–∞—Å–∏—á–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥ ‚Äî —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É `undo` –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º—É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ.
- **–ü—Ä—è–º–µ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –ø–æ—Ä—É—à—É—î —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—é –æ–±'—î–∫—Ç–∞.** –ü–∞—Ç–µ—Ä–Ω –¥–æ–∑–≤–æ–ª—è—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞ –≤ —ñ–Ω—à–æ–º—É –æ–±'—î–∫—Ç—ñ, –Ω–µ —Ä–æ–∑–∫—Ä–∏–≤–∞—é—á–∏ –π–æ–≥–æ –ø—Ä–∏–≤–∞—Ç–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
- **–ö–æ–ø—ñ—é–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç–∞ –Ω–µ —î –ø—Ä–∞–∫—Ç–∏—á–Ω–∏–º –∞–±–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º.** –Ø–∫—â–æ –æ–±'—î–∫—Ç –¥—É–∂–µ –≤–µ–ª–∏–∫–∏–π, —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –π–æ–≥–æ –ø–æ–≤–Ω–æ—ó –∫–æ–ø—ñ—ó –º–æ–∂–µ –±—É—Ç–∏ –≤–∏—Ç—Ä–∞—Ç–Ω–∏–º. –ó–Ω—ñ–º–æ–∫ –¥–æ–∑–≤–æ–ª—è—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –ª–∏—à–µ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–£—è–≤—ñ—Ç—å, —â–æ –º–∏ —Å—Ç–≤–æ—Ä—é—î–º–æ —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, —ñ –Ω–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–¥–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ—é —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è (`undo`). –û–±'—î–∫—Ç `Editor` (—Ç–≤–æ—Ä–µ—Ü—å) –º–æ–∂–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å–≤—ñ–π —Ç–µ–∫—Å—Ç, –∞ –æ–±'—î–∫—Ç `History` (—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å) –±—É–¥–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ "–∑–Ω—ñ–º–∫–∏" —Å—Ç–∞–Ω—É.

C#

```
// 1. –ö–ª–∞—Å-–∑–Ω—ñ–º–æ–∫ (Memento)
// –Ü–Ω–∫–∞–ø—Å—É–ª—é—î —Å—Ç–∞–Ω —Ç–≤–æ—Ä—Ü—è. –í—ñ–Ω –º–∞—î –±—É—Ç–∏ immutable (–Ω–µ–∑–º—ñ–Ω–Ω–∏–º).
public class EditorState
{
    public string Content { get; }

    public EditorState(string content)
    {
        Content = content;
    }
}

// 2. –ö–ª–∞—Å-—Ç–≤–æ—Ä–µ—Ü—å (Originator)
// –û–±'—î–∫—Ç, —Å—Ç–∞–Ω —è–∫–æ–≥–æ –º–∏ —Ö–æ—á–µ–º–æ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏.
public class Editor
{
    private string _content = "";

    public void Type(string text)
    {
        _content += text;
        Console.WriteLine($"Current content: {_content}");
    }

    // –ú–µ—Ç–æ–¥ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–Ω—ñ–º–∫–∞
    public EditorState Save()
    {
        return new EditorState(_content);
    }

    // –ú–µ—Ç–æ–¥ –¥–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞–Ω—É
    public void Restore(EditorState state)
    {
        _content = state.Content;
        Console.WriteLine($"Restored content: {_content}");
    }
}

// 3. –ö–ª–∞—Å-—Ö—Ä–∞–Ω–∏—Ç–µ–ª—å (Caretaker)
// –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î –∑–∞ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∑–Ω—ñ–º–∫—ñ–≤, –∞–ª–µ –Ω–µ –∑–Ω–∞—î –ø—Ä–æ —ó—Ö–Ω—ñ–π –≤–º—ñ—Å—Ç.
public class History
{
    private readonly Stack<EditorState> _history = new();

    public void Push(EditorState state)
    {
        _history.Push(state);
    }

    public EditorState Pop()
    {
        if (_history.Count > 0)
        {
            return _history.Pop();
        }
        return null;
    }
}

// 4. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        History history = new History();
        Editor editor = new Editor();

        // 1. –î—ñ—è: –≤–≤–æ–¥–∏–º–æ —Ç–µ–∫—Å—Ç
        editor.Type("First sentence. ");
        history.Push(editor.Save()); // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –∑–Ω—ñ–º–æ–∫ 1

        // 2. –î—ñ—è: –≤–≤–æ–¥–∏–º–æ —â–µ —Ç–µ–∫—Å—Ç
        editor.Type("Second sentence. ");
        history.Push(editor.Save()); // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –∑–Ω—ñ–º–æ–∫ 2

        // 3. –î—ñ—è: –≤–≤–æ–¥–∏–º–æ —â–µ —Ç–µ–∫—Å—Ç
        editor.Type("Third sentence. ");

        Console.WriteLine("\nTrying to undo last change:");
        
        // –í—ñ–¥–Ω–æ–≤–ª—é—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–π —Å—Ç–∞–Ω
        EditorState lastState = history.Pop();
        if (lastState != null)
        {
            editor.Restore(lastState);
        }
        
        // –©–µ –æ–¥–Ω–µ —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è
        Console.WriteLine("\nTrying to undo one more time:");
        EditorState previousState = history.Pop();
        if (previousState != null)
        {
            editor.Restore(previousState);
        }
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–¢–≤–æ—Ä–µ—Ü—å (`Editor`):** –ö–ª–∞—Å, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å —Å—Ç–∞–Ω —ñ –º–∞—î –º–µ—Ç–æ–¥–∏ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–Ω—ñ–º–∫—ñ–≤.
- **–ó–Ω—ñ–º–æ–∫ (`EditorState`):** –ö–ª–∞—Å, —â–æ –∑–±–µ—Ä—ñ–≥–∞—î —Å—Ç–∞–Ω —Ç–≤–æ—Ä—Ü—è. –í—ñ–Ω –º–∞—î –±—É—Ç–∏ immutable, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –∑–º—ñ–Ω.
- **–•—Ä–∞–Ω–∏—Ç–µ–ª—å (`History`):** –ö–ª–∞—Å, —è–∫–∏–π –∑–±–µ—Ä—ñ–≥–∞—î –∫–æ–ª–µ–∫—Ü—ñ—é –∑–Ω—ñ–º–∫—ñ–≤. –ô–æ–≥–æ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –ª–∏—à–µ –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —ñ –Ω–∞–¥–∞–≤–∞—Ç–∏ –∑–Ω—ñ–º–∫–∏, –≤—ñ–Ω –Ω–µ –º–æ–∂–µ —á–∏—Ç–∞—Ç–∏ —á–∏ –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —ó—Ö–Ω—ñ–π –≤–º—ñ—Å—Ç.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **–ö–æ–º–∞–Ω–¥–∏ `undo/redo` –≤ –±—É–¥—å-—è–∫–æ–º—É —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ:** `Ctrl+Z` —ñ `Ctrl+Y` –ø—Ä–∞—Ü—é—é—Ç—å —Å–∞–º–µ –∑–∞–≤–¥—è–∫–∏ –ø–∞—Ç–µ—Ä–Ω—É Memento, —â–æ –∑–±–µ—Ä—ñ–≥–∞—î —ñ—Å—Ç–æ—Ä—ñ—é –∑–º—ñ–Ω.
- **–°–∏—Å—Ç–µ–º–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—ñ–≤ –≥—Ä–∏:** –°–µ–π–≤-—Ñ–∞–π–ª–∏ –≤ —ñ–≥—Ä–∞—Ö —á–∞—Å—Ç–æ —î –∑–Ω—ñ–º–∫–∞–º–∏ —Å—Ç–∞–Ω—É —ñ–≥—Ä–æ–≤–æ–≥–æ —Å–≤—ñ—Ç—É, —è–∫—ñ –ø–æ—Ç—ñ–º –º–æ–∂–Ω–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏.
- **–í–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è:** –£ —Å–∏—Å—Ç–µ–º–∞—Ö –≤–µ—Ä—Å—ñ–æ–Ω—É–≤–∞–Ω–Ω—è (Git) –∫–æ–∂–µ–Ω –∫–æ–º—ñ—Ç —î —Å–≤–æ–≥–æ —Ä–æ–¥—É –∑–Ω—ñ–º–∫–æ–º —Å—Ç–∞–Ω—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è:** Memento –¥–æ–∑–≤–æ–ª—è—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ —Å—Ç–∞–Ω –æ–±'—î–∫—Ç–∞, –Ω–µ —Ä–æ–∑–∫—Ä–∏–≤–∞—é—á–∏ –π–æ–≥–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏.
- **–õ–µ–≥–∫–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è `undo/redo`:** –ü–∞—Ç–µ—Ä–Ω –Ω–∞–¥–∞—î —á—ñ—Ç–∫—É —ñ –ø—Ä–æ—Å—Ç—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Ü—ñ—î—ó –≤–∞–∂–ª–∏–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó.

* * *


## –ü–∞—Ç–µ—Ä–Ω Template Method (–®–∞–±–ª–æ–Ω–Ω–∏–π –º–µ—Ç–æ–¥)

**–®–∞–±–ª–æ–Ω–Ω–∏–π –º–µ—Ç–æ–¥** ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –≤–∏–∑–Ω–∞—á–∞—î —Å–∫–µ–ª–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º—É –≤ –±–∞–∑–æ–≤–æ–º—É –∫–ª–∞—Å—ñ, –∞–ª–µ –¥–æ–∑–≤–æ–ª—è—î –ø—ñ–¥–∫–ª–∞—Å–∞–º –ø–µ—Ä–µ–≤–∏–∑–Ω–∞—á–∞—Ç–∏ –¥–µ—è–∫—ñ –∫—Ä–æ–∫–∏ —Ü—å–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –π–æ–≥–æ –∑–∞–≥–∞–ª—å–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

–£—è–≤—ñ—Ç—å, —â–æ –≤–∏ –≤–∏–ø—ñ–∫–∞—î—Ç–µ —Ç–æ—Ä—Ç –∑–∞ —Ä–µ—Ü–µ–ø—Ç–æ–º. –†–µ—Ü–µ–ø—Ç (–±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å) –º–∞—î —á—ñ—Ç–∫—ñ –∫—Ä–æ–∫–∏: "–∑–º—ñ—à–∞—Ç–∏ —ñ–Ω–≥—Ä–µ–¥—ñ—î–Ω—Ç–∏", "–≤–∏–ø—ñ–∫–∞—Ç–∏", "–ø—Ä–∏–∫—Ä–∞—Å–∏—Ç–∏". –ê–ª–µ –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞–º—ñ–Ω–∏—Ç–∏ "–ø—Ä–∏–∫—Ä–∞—Å–∏—Ç–∏" –Ω–∞ "–Ω–∞–Ω–µ—Å—Ç–∏ —à–æ–∫–æ–ª–∞–¥–Ω—É –≥–ª–∞–∑—É—Ä" –∞–±–æ "–ø–æ—Å–∏–ø–∞—Ç–∏ —Ü—É–∫—Ä–æ–≤–æ—é –ø—É–¥—Ä–æ—é" (–ø—ñ–¥–∫–ª–∞—Å–∏), –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –∑–∞–≥–∞–ª—å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ –∫—Ä–æ–∫—ñ–≤.

### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Template Method**, –∫–æ–ª–∏:

- **–£ –≤–∞—Å —î –∞–ª–≥–æ—Ä–∏—Ç–º, –≤ —è–∫–æ–º—É –¥–µ—è–∫—ñ –∫—Ä–æ–∫–∏ —î –æ–¥–Ω–∞–∫–æ–≤–∏–º–∏, –∞ –¥–µ—è–∫—ñ ‚Äî –Ω—ñ.** –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–Ω–µ—Å—Ç–∏ —Å–ø—ñ–ª—å–Ω—É –ª–æ–≥—ñ–∫—É –≤ –æ–¥–∏–Ω –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å, —É–Ω–∏–∫–∞—é—á–∏ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É.
- **–í–∏ —Ö–æ—á–µ—Ç–µ –Ω–∞–¥–∞—Ç–∏ –ø—ñ–¥–∫–ª–∞—Å–∞–º –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ª–∏—à–µ –ø–µ–≤–Ω—ñ –∫—Ä–æ–∫–∏ –∞–ª–≥–æ—Ä–∏—Ç–º—É**, –∞–ª–µ –Ω–µ –π–æ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É. –¶–µ –∑–∞–±–µ–∑–ø–µ—á—É—î –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∑–∞–≥–∞–ª—å–Ω–∏–º –ø—Ä–æ—Ü–µ—Å–æ–º.
- **–í–∏ —Ö–æ—á–µ—Ç–µ —É–Ω–∏–∫–Ω—É—Ç–∏ –∂–æ—Ä—Å—Ç–∫–æ—ó –∑–≤'—è–∑–∞–Ω–æ—Å—Ç—ñ.** –ü—ñ–¥–∫–ª–∞—Å–∏ —É—Å–ø–∞–¥–∫–æ–≤—É—é—Ç—å –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å, –∞–ª–µ –Ω–µ –∑–Ω–∞—é—Ç—å –ø—Ä–æ —ñ–Ω—à—ñ –ø—ñ–¥–∫–ª–∞—Å–∏.

–¶–µ–π –ø–∞—Ç–µ—Ä–Ω —î –ø—Ä–µ–∫—Ä–∞—Å–Ω–∏–º –ø—Ä–∏–∫–ª–∞–¥–æ–º –ø—Ä–∏–Ω—Ü–∏–ø—É **Don't Repeat Yourself (DRY)**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î —É–Ω–∏–∫–Ω—É—Ç–∏ –¥—É–±–ª—é–≤–∞–Ω–Ω—è –∫–æ–¥—É, —ñ –ø—Ä–∏–Ω—Ü–∏–ø—É **Open/Closed (O)**, –¥–æ–∑–≤–æ–ª—è—é—á–∏ —Ä–æ–∑—à–∏—Ä—é–≤–∞—Ç–∏ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –±–µ–∑ –∑–º—ñ–Ω–∏ –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—É.

### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–î–∞–≤–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–∏–º–æ –ø—Ä–∏–∫–ª–∞–¥, –¥–µ —É –Ω–∞—Å —î –∑–∞–≥–∞–ª—å–Ω–∏–π –ø—Ä–æ—Ü–µ—Å –ø—Ä–∏–≥–æ—Ç—É–≤–∞–Ω–Ω—è –Ω–∞–ø–æ—é, –∞–ª–µ –∑ —Ä—ñ–∑–Ω–∏–º–∏ –≤–∞—Ä—ñ–∞—Ü—ñ—è–º–∏ –¥–ª—è –∫–∞–≤–∏ —Ç–∞ —á–∞—é.

C#

```
// 1. –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å
// –í–∏–∑–Ω–∞—á–∞—î "–∫—ñ—Å—Ç—è–∫" –∞–ª–≥–æ—Ä–∏—Ç–º—É
public abstract class BeverageTemplate
{
    // –®–∞–±–ª–æ–Ω–Ω–∏–π –º–µ—Ç–æ–¥, —è–∫–∏–π –≤–∏–∑–Ω–∞—á–∞—î –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –∫—Ä–æ–∫—ñ–≤
    public void PrepareBeverage()
    {
        BoilWater();
        Brew();
        PourInCup();
        AddCondiments();
    }
    
    // –°–ø—ñ–ª—å–Ω—ñ –∫—Ä–æ–∫–∏, —è–∫—ñ –Ω–µ –∑–º—ñ–Ω—é—é—Ç—å—Å—è
    private void BoilWater()
    {
        Console.WriteLine("Boiling water...");
    }
    
    private void PourInCup()
    {
        Console.WriteLine("Pouring into cup...");
    }
    
    // –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ñ –∫—Ä–æ–∫–∏, —è–∫—ñ –ø–æ–≤–∏–Ω–Ω—ñ –±—É—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –ø—ñ–¥–∫–ª–∞—Å–∞–º–∏
    protected abstract void Brew();
    protected abstract void AddCondiments();
}

// 2. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –ø—ñ–¥–∫–ª–∞—Å–∏
// –†–µ–∞–ª—ñ–∑—É—é—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ñ –∫—Ä–æ–∫–∏
public class Coffee : BeverageTemplate
{
    protected override void Brew()
    {
        Console.WriteLine("Dripping coffee through filter.");
    }
    
    protected override void AddCondiments()
    {
        Console.WriteLine("Adding milk and sugar.");
    }
}

public class Tea : BeverageTemplate
{
    protected override void Brew()
    {
        Console.WriteLine("Steeping the tea bag.");
    }
    
    protected override void AddCondiments()
    {
        Console.WriteLine("Adding lemon.");
    }
}

// 3. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        Console.WriteLine("Preparing coffee:");
        BeverageTemplate coffee = new Coffee();
        coffee.PrepareBeverage();
        
        Console.WriteLine("\nPreparing tea:");
        BeverageTemplate tea = new Tea();
        tea.PrepareBeverage();
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å (`BeverageTemplate`)**: –ú—ñ—Å—Ç–∏—Ç—å –º–µ—Ç–æ–¥ `PrepareBeverage()`, —è–∫–∏–π —î "—à–∞–±–ª–æ–Ω–Ω–∏–º" –º–µ—Ç–æ–¥–æ–º. –í—ñ–Ω –≤–∏–∫–ª–∏–∫–∞—î –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å —ñ–Ω—à–∏—Ö –º–µ—Ç–æ–¥—ñ–≤, –¥–µ—è–∫—ñ –∑ —è–∫–∏—Ö —î —Å–ø—ñ–ª—å–Ω–∏–º–∏ —ñ –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏, –∞ —ñ–Ω—à—ñ ‚Äî –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–º–∏.
- **–ü—ñ–¥–∫–ª–∞—Å–∏ (`Coffee`, `Tea`)**: –£—Å–ø–∞–¥–∫–æ–≤—É—é—Ç—å –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å —ñ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ñ –º–µ—Ç–æ–¥–∏ (`Brew()`, `AddCondiments()`), –Ω–∞–¥–∞—é—á–∏ —Å–≤–æ—é —Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—É –ª–æ–≥—ñ–∫—É.

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è**: –£ –±–∞–≥–∞—Ç—å–æ—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, xUnit, NUnit) —î –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–ª—è —Ç–µ—Å—Ç—ñ–≤, —è–∫–∏–π –º–∞—î —à–∞–±–ª–æ–Ω–Ω–∏–π –º–µ—Ç–æ–¥ `RunTest()`. –ü—ñ–¥–∫–ª–∞—Å–∏ —Ä–µ–∞–ª—ñ–∑—É—é—Ç—å –∫—Ä–æ–∫–∏ `Setup()`, `Test()`, `Teardown()`, –∞–ª–µ –∑–∞–≥–∞–ª—å–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫ —ó—Ö –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∫–æ–Ω—Ç—Ä–æ–ª—é—î—Ç—å—Å—è –±–∞–∑–æ–≤–∏–º –∫–ª–∞—Å–æ–º.
- **ASP.NET Core Middleware**: –£ –¥–µ—è–∫–æ–º—É —Å–µ–Ω—Å—ñ, –∫–æ–Ω–≤–µ—î—Ä `IApplicationBuilder` —î –ø—Ä–æ—è–≤–æ–º —Ü—å–æ–≥–æ –ø–∞—Ç–µ—Ä–Ω–∞. –ö–æ–∂–µ–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Use...()` (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, `UseRouting()`, `UseAuthentication()`) ‚Äî —Ü–µ –∫—Ä–æ–∫, –∞ –∑–∞–≥–∞–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω–≤–µ—î—Ä–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–∞ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–º.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–ü–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∫–æ–¥—É**: –ó–∞–≥–∞–ª—å–Ω–∞ –ª–æ–≥—ñ–∫–∞ —ñ–Ω–∫–∞–ø—Å—É–ª—å–æ–≤–∞–Ω–∞ –≤ –±–∞–∑–æ–≤–æ–º—É –∫–ª–∞—Å—ñ, —â–æ –∑–º–µ–Ω—à—É—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è.
- **–Ü–Ω–≤–µ—Ä—Å—ñ—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è (Hollywood Principle)**: "–ù–µ —Ç–µ–ª–µ—Ñ–æ–Ω—É–π—Ç–µ –Ω–∞–º, –º–∏ —Å–∞–º—ñ –≤–∞–º –∑–∞—Ç–µ–ª–µ—Ñ–æ–Ω—É—î–º–æ." –ë–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –∫–æ–Ω—Ç—Ä–æ–ª—é—î, –∫–æ–ª–∏ —Å–∞–º–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ –º–µ—Ç–æ–¥–∏ –ø—ñ–¥–∫–ª–∞—Å—ñ–≤, –∞ –Ω–µ –Ω–∞–≤–ø–∞–∫–∏.

* * *

### –ü–∞—Ç–µ—Ä–Ω Visitor (–í—ñ–¥–≤—ñ–¥—É–≤–∞—á)

#### –ú–µ—Ç–∞

**–í—ñ–¥–≤—ñ–¥—É–≤–∞—á** ‚Äî —Ü–µ –ø–æ–≤–µ–¥—ñ–Ω–∫–æ–≤–∏–π –ø–∞—Ç–µ—Ä–Ω, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –≤—ñ–¥–æ–∫—Ä–µ–º–∏—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ñ–¥ –æ–±'—î–∫—Ç–Ω–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏, –Ω–∞–¥ —è–∫–æ—é –≤—ñ–Ω –ø—Ä–∞—Ü—é—î. –í—ñ–Ω –¥–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –¥–æ –æ–±'—î–∫—Ç—ñ–≤ –±–µ–∑ –∑–º—ñ–Ω–∏ —Ü–∏—Ö –æ–±'—î–∫—Ç—ñ–≤. –¶–µ –æ—Å–æ–±–ª–∏–≤–æ –∫–æ—Ä–∏—Å–Ω–æ, –∫–æ–ª–∏ —É –≤–∞—Å —î —Å—Ç–∞–±—ñ–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–ª–∞—Å—ñ–≤, –∞–ª–µ –≤–∏ —á–∞—Å—Ç–æ –¥–æ–¥–∞—î—Ç–µ –Ω–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, —è–∫—ñ –ø–æ–≤–∏–Ω–Ω—ñ –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ —É—Å—ñ–º–∞ —Ü–∏–º–∏ –∫–ª–∞—Å–∞–º–∏.

–£—è–≤—ñ—Ç—å, —â–æ —É –≤–∞—Å —î —Å–∫–ª–∞–¥–Ω–∏–π –æ–±'—î–∫—Ç (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–µ—Ä–µ–≤–æ HTML-–µ–ª–µ–º–µ–Ω—Ç—ñ–≤), —ñ –≤–∏ —Ö–æ—á–µ—Ç–µ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –Ω–∞–¥ –Ω–∏–º: –µ–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤ JSON, —Ä–æ–∑—Ä–∞—Ö—É–≤–∞—Ç–∏ –∑–∞–≥–∞–ª—å–Ω–∏–π —Ä–æ–∑–º—ñ—Ä, –≤—ñ–¥–æ–±—Ä–∞–∑–∏—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ. –ó–∞–º—ñ—Å—Ç—å —Ç–æ–≥–æ, —â–æ–± –¥–æ–¥–∞–≤–∞—Ç–∏ —Ü—ñ –º–µ—Ç–æ–¥–∏ –≤ –∫–æ–∂–µ–Ω –∫–ª–∞—Å (`Div`, `P`, `Span`), –≤–∏ —Å—Ç–≤–æ—Ä—é—î—Ç–µ –æ–∫—Ä–µ–º–∏–π –æ–±'—î–∫—Ç-–≤—ñ–¥–≤—ñ–¥—É–≤–∞—á, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –ª–æ–≥—ñ–∫—É –¥–ª—è –∫–æ–∂–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó.

#### –ö–æ–ª–∏ —ñ —á–æ–º—É –≤–∞—Ä—Ç–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏?

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –ø–∞—Ç–µ—Ä–Ω **Visitor**, –∫–æ–ª–∏:

- **–£ –≤–∞—Å —î —Å–∫–ª–∞–¥–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±'—î–∫—Ç—ñ–≤, —ñ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ —Ä—ñ–∑–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –Ω–∞–¥ —ó—ó –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏.**
- **–í–∏ —Ö–æ—á–µ—Ç–µ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—É –æ–ø–µ—Ä–∞—Ü—ñ—é –¥–æ —ñ—Å–Ω—É—é—á–∏—Ö –∫–ª–∞—Å—ñ–≤, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ —ó—Ö.** –¶–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø—Ä–∏–Ω—Ü–∏–ø—É **Open/Closed (O)**.
- **–õ–æ–≥—ñ–∫–∞ –æ–ø–µ—Ä–∞—Ü—ñ—ó –ø–æ–≤'—è–∑–∞–Ω–∞ –Ω–µ –∑ –æ–¥–Ω–∏–º, –∞ –∑ –∫—ñ–ª—å–∫–æ–º–∞ –∫–ª–∞—Å–∞–º–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏.** Visitor –¥–æ–∑–≤–æ–ª—è—î —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ü—é –ª–æ–≥—ñ–∫—É –≤ –æ–¥–Ω–æ–º—É –º—ñ—Å—Ü—ñ.

#### –ü—Ä–∏–∫–ª–∞–¥ –∫–æ–¥—É –Ω–∞ C\#

–î–∞–≤–∞–π—Ç–µ —Å—Ç–≤–æ—Ä–∏–º–æ –ø—Ä–∏–∫–ª–∞–¥, –¥–µ —É –Ω–∞—Å —î —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ "–≥–µ–æ–º–µ—Ç—Ä–∏—á–Ω–∏—Ö —Ñ—ñ–≥—É—Ä" (`Circle`, `Square`), —ñ –º–∏ —Ö–æ—á–µ–º–æ –¥–æ–¥–∞—Ç–∏ –Ω–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –ø–ª–æ—â—ñ —Ç–∞ –µ–∫—Å–ø–æ—Ä—Ç —É XML, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ —Å–∞–º—ñ –∫–ª–∞—Å–∏ —Ñ—ñ–≥—É—Ä.

C#

```
// 1. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á–∞
// –í–∏–∑–Ω–∞—á–∞—î –º–µ—Ç–æ–¥–∏ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ —Ç–∏–ø—É –µ–ª–µ–º–µ–Ω—Ç–∞, —è–∫–∏–π –≤—ñ–Ω –º–æ–∂–µ –≤—ñ–¥–≤—ñ–¥–∞—Ç–∏.
public interface IShapeVisitor
{
    void Visit(Circle circle);
    void Visit(Square square);
}

// 2. –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –µ–ª–µ–º–µ–Ω—Ç–∞
// –ö–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –º–µ—Ç–æ–¥ "Accept",
// —è–∫–∏–π –ø—Ä–∏–π–º–∞—î –æ–±'—î–∫—Ç-–≤—ñ–¥–≤—ñ–¥—É–≤–∞—á.
public interface IShape
{
    void Accept(IShapeVisitor visitor);
}

// 3. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏
// –†–µ–∞–ª—ñ–∑—É—é—Ç—å —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å IShape.
public class Circle : IShape
{
    public double Radius { get; set; }

    public Circle(double radius) => Radius = radius;

    public void Accept(IShapeVisitor visitor)
    {
        visitor.Visit(this);
    }
}

public class Square : IShape
{
    public double Side { get; set; }
    
    public Square(double side) => Side = side;

    public void Accept(IShapeVisitor visitor)
    {
        visitor.Visit(this);
    }
}

// 4. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ
// –ú—ñ—Å—Ç—è—Ç—å –ª–æ–≥—ñ–∫—É –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π.
public class AreaCalculator : IShapeVisitor
{
    public void Visit(Circle circle)
    {
        double area = Math.PI * circle.Radius * circle.Radius;
        Console.WriteLine($"Area of Circle: {area}");
    }

    public void Visit(Square square)
    {
        double area = square.Side * square.Side;
        Console.WriteLine($"Area of Square: {area}");
    }
}

public class XmlExporter : IShapeVisitor
{
    public void Visit(Circle circle)
    {
        Console.WriteLine($"Exporting Circle to XML: <circle radius='{circle.Radius}'/>");
    }

    public void Visit(Square square)
    {
        Console.WriteLine($"Exporting Square to XML: <square side='{square.Side}'/>");
    }
}

// 5. –ö–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π –∫–æ–¥
public class Program
{
    public static void Main(string[] args)
    {
        List<IShape> shapes = new List<IShape>
        {
            new Circle(10),
            new Square(5)
        };

        IShapeVisitor areaCalculator = new AreaCalculator();
        IShapeVisitor xmlExporter = new XmlExporter();

        Console.WriteLine("Calculating areas:");
        foreach (var shape in shapes)
        {
            shape.Accept(areaCalculator);
        }
        
        Console.WriteLine("\nExporting to XML:");
        foreach (var shape in shapes)
        {
            shape.Accept(xmlExporter);
        }
    }
}
```

#### –ó–∞ —Ä–∞—Ö—É–Ω–æ–∫ —á–æ–≥–æ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è?

- **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –µ–ª–µ–º–µ–Ω—Ç–∞ (`IShape`)**: –ö–æ–∂–µ–Ω –µ–ª–µ–º–µ–Ω—Ç, —è–∫–∏–π –ø–æ—Ç—Ä—ñ–±–Ω–æ "–≤—ñ–¥–≤—ñ–¥—É–≤–∞—Ç–∏", –ø–æ–≤–∏–Ω–µ–Ω –º–∞—Ç–∏ –º–µ—Ç–æ–¥ `Accept(IShapeVisitor visitor)`. –¶–µ –∫–ª—é—á–æ–≤–∏–π –µ–ª–µ–º–µ–Ω—Ç, —è–∫–∏–π –¥–æ–∑–≤–æ–ª—è—î –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—É "–≤—ñ–¥–≤—ñ–¥–∞—Ç–∏" –µ–ª–µ–º–µ–Ω—Ç.
- **–Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á–∞ (`IShapeVisitor`)**: –í–∏–∑–Ω–∞—á–∞—î –º–µ—Ç–æ–¥ `Visit()` –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø—É –µ–ª–µ–º–µ–Ω—Ç–∞.
- **–ü–æ–¥–≤—ñ–π–Ω–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü—ñ—è**: –ö–æ–ª–∏ –∫–ª—ñ—î–Ω—Ç –≤–∏–∫–ª–∏–∫–∞—î `shape.Accept(visitor)`, –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è "–ø–æ–¥–≤—ñ–π–Ω–∞ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∏–∑–∞—Ü—ñ—è". –ü–µ—Ä—à–∏–π –≤–∏–∫–ª–∏–∫ –≤–∏–∑–Ω–∞—á–∞—î —Ç–∏–ø –µ–ª–µ–º–µ–Ω—Ç–∞ (`Circle` –∞–±–æ `Square`). –£—Å–µ—Ä–µ–¥–∏–Ω—ñ –º–µ—Ç–æ–¥—É `Accept`, –≤–∏–∫–ª–∏–∫ `visitor.Visit(this)` –≤–∏–∑–Ω–∞—á–∞—î, —è–∫–∏–π —Å–∞–º–µ –º–µ—Ç–æ–¥ `Visit()` –±—É–¥–µ –≤–∏–∫–ª–∏–∫–∞–Ω–∏–π –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø—É `visitor` —Ç–∞ `this` (–µ–ª–µ–º–µ–Ω—Ç–∞).

#### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑ —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç—ñ–≤

- **–ö–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∏**: –ü—Ä–∏ –æ–±—Ä–æ–±—Ü—ñ –¥–µ—Ä–µ–≤–∞ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É (AST), –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å –í—ñ–¥–≤—ñ–¥—É–≤–∞—á–∞ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä—ñ–∑–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π, —Ç–∞–∫–∏—Ö —è–∫ —Å–µ–º–∞–Ω—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑, –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–æ–¥—É —á–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è.
- **–û–±—Ä–æ–±–∫–∞ XML-–¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤**: –†—ñ–∑–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –Ω–∞–¥ XML-–¥–æ–∫—É–º–µ–Ω—Ç–æ–º (–≤–∞–ª—ñ–¥–∞—Ü—ñ—è, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è) –º–æ–∂—É—Ç—å –±—É—Ç–∏ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–∞—Ç–µ—Ä–Ω–∞ Visitor.

#### –Ø–∫—ñ —Ü—ñ–∫–∞–≤—ñ —ñ –∫—Ä—É—Ç—ñ —Ñ—ñ—á—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ?

- **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –ü–∞—Ç–µ—Ä–Ω –¥–æ–∑–≤–æ–ª—è—î –¥–æ–¥–∞–≤–∞—Ç–∏ –Ω–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó, –Ω–µ –∑–º—ñ–Ω—é—é—á–∏ –æ–±'—î–∫—Ç–∏, —â–æ —ó—Ö –º—ñ—Å—Ç—è—Ç—å, —â–æ —Ä–æ–±–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –¥—É–∂–µ –≥–Ω—É—á–∫–æ—é.
- **–¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–∞—Ü—ñ—è –ª–æ–≥—ñ–∫–∏**: –õ–æ–≥—ñ–∫–∞, –ø–æ–≤'—è–∑–∞–Ω–∞ –∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—é –æ–ø–µ—Ä–∞—Ü—ñ—î—é, –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –æ–¥–Ω–æ–º—É –∫–ª–∞—Å—ñ-–≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ. –¶–µ —Ä–æ–±–∏—Ç—å –∫–æ–¥ —á–∏—Å—Ç—ñ—à–∏–º —ñ –ª–µ–≥—à–∏–º –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏.

* * *


